---
title: '#80 Patoarchitekci Short #31
'
date: 2023-06-23T08:00:00+02:00
episode: "80"
tags: ["patoarchitekci", "it"]
description: ""

# Jekyll compatibility fields (zachowane dla innych systemÃ³w)  
spreaker: 54759899
apple: "patoarchitekci-short-31/id1477067604?i=1000618059550"
spotify: "https://open.spotify.com/episode/5RKdCle2OzVGMuVtkIUeoX"
youtube: "https://www.youtube.com/watch?v=2QfyeR3TemU"

# Hugo fields  
youtube_id: "2QfyeR3TemU"
youtube_url: "https://www.youtube.com/embed/2QfyeR3TemU?enablejsapi=1"

# Social media images (poprawione nazwy)
og_landscape: "/img/80-landscape.webp"
og_square: "/img/80-square.webp"

# Intro for episode
intro: |
  Patoarchitekci wracajÄ… z nowym shortem!Â  SprawdÅºcie, co nowego u Netflixa, dlaczego nawet dziÅ› warto znaÄ‡ etagi http... oraz co nieco o dojrzaÅ‚oÅ›ci APIÂ !
  

# Links for the episode
links:
  - title: "Migrating Critical Traffic At Scale with No Downtime â€” Part 2"
    url: "https://netflixtechblog.com/migrating-critical-traffic-at-scale-with-no-downtime-part-2-4b1c8c7155c1"
  - title: "Peter Ritchie&amp;#x27;s Blog - HTTP and ETag Header Fields"
    url: "https://blog.peterritchie.com/posts/http-and-etag-header-fields"
  - title: "Shim nullcomputing) - Wikipedia"
    url: "https://en.wikipedia.org/wiki/Shim_(computing)"
  - title: "Adopting an API Maturity Model to Accelerate Innovation"
    url: "https://www.infoq.com/articles/api-maturity-model/"
  - title: "Linking Modular Architecture to Development Teams"
    url: "https://martinfowler.com/articles/linking-modular-arch.html"
  - title: "Migrating Netflix to GraphQL Safely"
    url: "https://netflixtechblog.com/migrating-netflix-to-graphql-safely-8e1e4d4f1e72"

# Newsletter content (zachowane dla kompatybilnoÅ›ci)
newsletter: |
  CzeÅ›Ä‡! ğŸ‘‹ âœ¨
  
  Patoarchitekci wracajÄ… z nowym shortem!Â  SprawdÅºcie, co nowego u Netflixa, dlaczego nawet dziÅ› warto znaÄ‡ etagi http... oraz co nieco o dojrzaÅ‚oÅ›ci APIÂ !
  
  
  
  
  ## Odcinek na stronie i materiaÅ‚y do niego â¬‡ï¸
  
  â¡ï¸ [OdsÅ‚uchaj na stronie](https://patoarchitekci.io/80)
  â¡ï¸ [Spotify](https://open.spotify.com/episode/5RKdCle2OzVGMuVtkIUeoX)
  â¡ï¸ [Apple Podcasts](patoarchitekci-short-31/id1477067604?i=1000618059550)
  â¡ï¸ [YouTube](https://www.youtube.com/watch?v=2QfyeR3TemU)
  
  ## Short & Sweet
  

  ### ğŸ¤ DoÅ‚Ä…cz do Discord ğŸ‘‰ [https://discord.gg/78zPcEaP22](https://discord.gg/78zPcEaP22)
  
  ### ğŸ¢ Patron odcinka
  SÅ‚uchasz PatoarchitektÃ³w dziÄ™ki PROTOPII â€“ firmie, w ktÃ³rej Åukasz i Szymon dziaÅ‚ajÄ… na co dzieÅ„, wspierajÄ…c zespoÅ‚y IT na kaÅ¼dym etapie: od projektowania, przez wdroÅ¼enia i migracje, aÅ¼ po optymalizacjÄ™ i zabezpieczenia. Oferujemy teÅ¼ mentoring i szkolenia dostosowane do potrzeb kaÅ¼dej firmy, niezaleÅ¼nie od wielkoÅ›ci. SprawdÅº nas: [protopia.tech](https://protopia.tech/)
  
  PS. Masz pytania? Pisz Å›miaÅ‚o po drugiej stronie to nie bot na bazie GPT czy Claude ğŸ˜
---

**Szymon Warda**: CzeÅ›Ä‡, sÅ‚uchacie PatoarchitektÃ³w, prowadzÄ… Szymon Warda... 

**Åukasz KaÅ‚uÅ¼ny**: i Åukasz KaÅ‚uÅ¼ny. Wszystkie linki do tego odcinka znajdziecie na Patoarchitekci.io/80. Albo link gdzieÅ› tu na dole pod filmikiem, gdzie sÅ‚uchacie.

**Szymon Warda**: JakbyÅ›cie nie zauwaÅ¼yli, to nagrywamy dzisiaj trochÄ™ wczeÅ›niej niÅ¼ normalnie, takÅ¼e. Dobra, to jak juÅ¼ chciaÅ‚em to zacznÄ™. Dwa wpisy z Netflixa, caÅ‚kiem niezÅ‚e odnoÅ›nie ich migracji z API i co waÅ¼ne API wykorzystywanego przez frontendy i Å‚Ä…cznie z aplikacjami mobilnymi. To jest super waÅ¼ne, bo wydawanie stron jest duÅ¼o Å‚atwiejsze, wydawanie rzeczy mobilnych, dÅ‚uÅ¼ej siÄ™ to ciÄ…gnie wszystko tak naprawdÄ™. Cele wpisÃ³w - nie sÄ… do przeczytania. Tak naprawdÄ™. Co oni zrobili? Mieli jeden monolit, ktÃ³ry obsÅ‚ugiwaÅ‚, korzystajÄ…c jeszcze z ich wÅ‚asnego mechanizmu dostarczania API, obsÅ‚ugiwaÅ‚ wszystkie API de facto, czyli taki centralny punkt. Nie najÅ‚adniej. I przeszli na sfederowanego GraphQLa.

**Åukasz KaÅ‚uÅ¼ny**: Wiesz co, Szymon. Ale jedna rzecz.

**Szymon Warda**: No.

**Åukasz KaÅ‚uÅ¼ny**: Netflix po tylu latach dziaÅ‚ania - to jest tam bodajÅ¼e 2020 zaczÄ™li przechodziÄ‡ na GraphQLa z monolitycznego API. Zobacz przy jakiej skali rozwoju produktu z iloma funkcjonalnoÅ›ciami dobili do tego, Å¼e muszÄ… przejÅ›Ä‡ na GraphQLa.

**Szymon Warda**: Bo ten ich engine, on jest GraphQLowy, on wyglÄ…da jak GraphQL, oni stwierdzili, Å¼e rozbijajÄ… siÄ™ w ogÃ³le na... SÄ… dwie rzeczy waÅ¼ne - rozbijajÄ… monolit i przechodzÄ… na standard rynkowy. Nie trzymajÄ… wÅ‚asnego. To sÄ… takie dwie doÅ›Ä‡ waÅ¼ne... Przy czym ten drugi punkt jest kompletnie w tym artykule omijany. KiedyÅ› Netflix napisaÅ‚ wÅ‚aÅ›nie czemu w ogÃ³le przez GraphQLa - a ze swojego schodzÄ…. Jak oni to zrobili? Zrobili fazy pierwsze i zrobili shima po prostu, w ktÃ³rym komunikowaÅ‚ siÄ™ Monolit, Å¼eby w ogÃ³le nauczyÄ‡ siÄ™ jak GraphQLa podejÅ›Ä‡, jakich klientÃ³w mieÄ‡ i tak dalej i tak dalej. Bardzo fajne podejÅ›cie, bo to siÄ™ przydaje. Nie ma co robiÄ‡ husaria bo zadziaÅ‚a, aaa dobrze bÄ™dzie. I potem zaczÄ™li wywalaÄ‡ de facto tego shima.

**Åukasz KaÅ‚uÅ¼ny**: Wiesz co, jeszcze jedna rzecz, bo shim, bo niektÃ³rzy zawsze majÄ… z tym problem. My teÅ¼ czÄ™sto uÅ¼ywamy tego sÅ‚owa jako shim. Normalnie to jest, powstaÅ‚o gdzieÅ› w starych latach do tego, Å¼e przerabialiÅ›my jakÄ…Å› bibliotekÄ™, ktÃ³ra udawaÅ‚a jakieÅ› API, a pod spodem przekierowywaÅ‚a siÄ™ na coÅ› nowego, albo zmieniaÅ‚a po prostu ten data flow w bibliotece, wiÄ™c to jest istotne. WiÄ™c w tym wypadku shim jest tutaj takÄ… nakÅ‚adkÄ…, ktÃ³ra ma daÄ‡ stare API, a tutaj albo starÄ… funkcjonalnoÅ›Ä‡ tutaj przekierowaÄ‡.

**Szymon Warda**: Taka wydmuszka de facto, zmieniajÄ…ca trochÄ™ zachowania, nie dodajÄ…ca nic od siebie. A po to wÅ‚aÅ›nie zrobili... Przechodzili na swojego GraphQLa. Ten fragment artykuÅ‚u jest Å›redni, powiedzmy sobie. Ale co jest fajnie opisane i co jest dla mnie wartoÅ›ciÄ… tego artykuÅ‚u. To jest jak testowali, bo artykuÅ‚ w ogÃ³le jest w dwÃ³ch czÄ™Å›ciach tak naprawdÄ™. Druga czÄ™Å›Ä‡ jest bardziej o testowaniu, testy funkcjonalne, niefunkcjonalne. Inaczej podchodzili do testowania RequestÃ³w, ktÃ³re sÄ… idepodentne, czyli moÅ¼na wykonaÄ‡ je wiele razy, bo tu zrobili po prostu replay RequestÃ³w tak naprawdÄ™ i to jest fajne podejÅ›cie. Robili testy A/B. To jest doÅ›Ä‡ sensowne, ale co jest waÅ¼ne w testach A/B. PoniewaÅ¼ testowanie na poziomie samego Requestu to jest jedna rzecz, on siÄ™ zachowuje tak samo. JeÅ¼eli chodzi o Requesty, ktÃ³re jednak jakieÅ› zmiany wprowadzajÄ…, ale oni zrobili jeszcze jedna fajnÄ… rzecz. Sticky canary. Czyli jeÅ¼eli generalnie uÅ¼ytkownik trafiÅ‚ sobie do jednego z API GraphQLowego albo starego, to przez caÅ‚Ä… swojÄ… sesjÄ™ byÅ‚ na jednym API. Czemu? Bo niektÃ³re procesy typu oglÄ…danie, typu caÅ‚a latencja jak to w ogÃ³le wpÅ‚ywa na user experience czy nie patrzenie tylko na scope jednego requestu, ale patrzenie na caÅ‚y flow i caÅ‚e zachowanie naszego uÅ¼ytkownika, konsumenta, API, nie.

**Szymon Warda**: I to jest bardzo fajny punkt z tego artykuÅ‚u wynika.

**Åukasz KaÅ‚uÅ¼ny**: Raczej tak, to jest teÅ¼ takie uproszczenie, Å¼e zrÃ³bmy sobie canary na poziomie infry, a de facto jest to bardziej skomplikowane i to fajnie przedstawia ten problem A/B Testingu Canary ReleasÃ³w. OgÃ³lnie, Å¼e powinniÅ›my podchodziÄ‡ tak, Å¼e jak juÅ¼ tam uÅ¼ytkownika wrzuciliÅ›my to niech on na tym testuje, a nie Å¼e pÃ³jdzie gdzieÅ› tam losowo z requestem.

**Szymon Warda**: Ja bym wziÄ…Å‚ tak, Å¼e pierwszy etap Canary to jest taki, Å¼e wrzucamy losowo, bo jak bÄ™dzie wtopa, to Å¼eby przynajmniej nie byÅ‚o problemu z przeÅ‚Ä…czeniem, a potem jak dalej wdraÅ¼amy coÅ› wiÄ™kszego to najwyÅ¼ej faktycznie musimy caÅ‚e flow zobaczyÄ‡. No ale canary releasy siÄ™ przydajÄ… bardzo mocno i faktycznie podejÅ›cie do tego wÅ‚aÅ›nie Sticky Canary dobrze opisali, wiÄ™c no warte do rzucenia okiem. Co tam Ty masz, Åukaszu?

**Åukasz KaÅ‚uÅ¼ny**: Dobra, tak z bloga Martina Fowlera, ale klasycznie nie pisaÅ‚ tego Martin Fowler. Jak to jest? ZaczÄ…Å‚ byÄ‡ thoughtworksowym miejscem do publikacji, jego blog po prostu i jest sobie wpisik trochÄ™ powiÄ…zany, nawet moÅ¼na powiedzieÄ‡ z Twoim. Linking Modular Architecture to Development Teams. Jest tutaj jakieÅ› case study, nie jest podany klient na temat podejÅ›cia de facto do... Jak podzieliÄ‡ zespoÅ‚y, aplikacje i funkcjonalnoÅ›ci, Å¼eby nie wchodziÅ‚y sobie w drogÄ™ i mogÅ‚y to rozwijaÄ‡ rÃ³wnolegle. I sÄ… tutaj przedstawione rÃ³Å¼ne rodzaje, de facto trochÄ™ patrzÄ…c siÄ™ z poziomu DDD. SÄ… przedstawione rÃ³Å¼ne rodzaje podejÅ›cia do tego, jak to wÅ‚aÅ›nie uÅ‚oÅ¼yÄ‡. Czyli z jednej strony jest tam klasyczny model, z drugiej strony model uÅ‚oÅ¼enia jako next market opportunity, czyli w zaleÅ¼noÅ›ci gdzieÅ› od rynkÃ³w czy innym - podejÅ›cie wÅ‚aÅ›nie, Å¼e mamy wyznaczone domeny i np. jeÅ¼eli mamy wiele krajÃ³w tak jak w tym przypadku pokazanym, dane ficzery sÄ… w danej wersji wybierane, a zespoÅ‚y robiÄ… to caÅ‚oÅ›ciowo. Jest to doÅ›Ä‡ obszerny wpis pokazujÄ…cy jakieÅ› ich wyniki w przypadku tej appki mobilnej i tak jak porÃ³wnali to z takich tych... JeÅ¼eli chodziÅ‚o o integracjÄ™ to Average Development Time rzekomo spadÅ‚ im z 90 dni do piÄ™ciu.

**Szymon Warda**: To jest bardzo duÅ¼a rÃ³Å¼nica.

**Åukasz KaÅ‚uÅ¼ny**: Tak, jest taka - dobra, gdzie to jest? ChociaÅ¼ z drugiej strony jak pomyÅ›lisz, Å¼e zaczynasz wycinaÄ‡ maÅ‚e funkcjonalnoÅ›ci i zespoÅ‚om dawaÄ‡, nie przebijaÄ‡ siÄ™ przez jakiÅ› kawaÅ‚ek monolitu i innej rzeczy, to nagle jest to pewnym prostsze, bo zazwyczaj integracje robisz z jakÄ…Å› funkcjonalnoÅ›ciÄ…, a nie z caÅ‚oÅ›ciÄ….

**Szymon Warda**: Wiesz co? Jak sÅ‚yszÄ™ takie straszne rÃ³Å¼nice to mi siÄ™ zawsze pali taka lampka, Å¼e mÃ³wiÄ…, ooo, to wszystko jest z jednego powodu, mÃ³wiÄ™ tak, eee, to z reguÅ‚y jest zÅ‚oÅ¼enie powodÃ³w. Fajnie...

**Åukasz KaÅ‚uÅ¼ny**: Raczej wiesz co, wysprzÄ…tali.

**Szymon Warda**: MoÅ¼liwe, Å¼e tak, ale fajnie, Å¼e na starcie artykuÅ‚u oni wspominajÄ…, czemu to zrobili? Å»eby obniÅ¼yÄ‡ ten cognitive load, ten nacisk zespoÅ‚Ã³w, to co mÃ³wiliÅ›my nawet odnoÅ›nie metryk zespoÅ‚Ã³w parÄ™ odcinkÃ³w temu tak naprawdÄ™.

**Åukasz KaÅ‚uÅ¼ny**: Tak, o Developer Experience.

**Szymon Warda**: DokÅ‚adnie, bo to jest waÅ¼ne, de facto nie bÄ™dziemy wymagali od tych ludzi, Å¼eby ogarniali wszystko i nic. To nie da rady po prostu tak dÅ‚ugo ciÄ…gnÄ…Ä‡.

**Åukasz KaÅ‚uÅ¼ny**: Raczej sÄ… osoby, ktÃ³re lubiÄ… duÅ¼o domen, ale jest to mniejszoÅ›Ä‡!

**Szymon Warda**: Tak, tylko pytanie... Czy jak majÄ…c tÄ… wiedzÄ™ o wielu domenach de facto bÄ™dziesz miaÅ‚ gÅ‚Ä™bokÄ… wiedzÄ™ o wielu domenach - w sensie, to sÄ…, Å¼e potrzebujesz rÃ³Å¼nych ludzi w organizacji, ludzi, ktÃ³rzy majÄ… szeroki poglÄ…d o wszystkim, Å¼eby wiedzieÄ‡ co z czym poÅ‚Ä…czyÄ‡, i ludzi, ktÃ³rzy sÄ… ekspertami w konkretnej domenie.

**Åukasz KaÅ‚uÅ¼ny**: Raczej generaliÅ›ci plus specjaliÅ›ci, to zawsze bÄ™dzie musiaÅ‚o iÅ›Ä‡ w parze.

**Szymon Warda**: Tak, dokÅ‚adnie, post-integracyjnie generaliÅ›ci sÄ… duÅ¼o lepsi. SpecjaliÅ›ci jeÅ¼eli chodzi o rozwÃ³j wewnÄ™trzny. Tak naprawdÄ™ siÄ™ spisujÄ… po prostu lepiej. Tak, ale wÅ‚aÅ›nie jak powiedziaÅ‚eÅ› wpisik... To mi to nie graÅ‚o, bo nie jest wcale taki maÅ‚y.

**Åukasz KaÅ‚uÅ¼ny**: Tak, ja wiem, Å¼e nie jest maÅ‚y. Jest to kawaÅ‚ek porzÄ…dnego wpisu. O tak, JeÅ¼eli ktoÅ› podchodzi do caÅ‚oÅ›ci ukÅ‚adania, rozwoju produktu, wiÄ™kszej aplikacji, to jest to takÄ… ciekawÄ… rzeczÄ…, ktÃ³rÄ… moÅ¼na przeÅ‚oÅ¼yÄ‡ na inne obszary.

**Szymon Warda**: Znaczy, to nie jest nic jakoÅ› super odkrywczego, ale to jest Å‚adne uÅ‚oÅ¼enie tego, co wiemy i taka nie wiem, dupoklejka, w sensie coÅ›, co moÅ¼na doÅ‚Ä…czyÄ‡ do maila, i zobaczyÄ‡ - ok, bo to chcemy zrobiÄ‡. Zobacz, tak to siÄ™ robi.

**Åukasz KaÅ‚uÅ¼ny**: Tak - Ale jest krÃ³tsze niÅ¼ jak caÅ‚oÅ›Ä‡ i jest krÃ³tsze niÅ¼ np. caÅ‚e podejÅ›cie platformowe i wysyÅ‚anie ksiÄ…Å¼ki. Tylko tu jest tak o software developmencie, a nie o ukÅ‚adaniu wszystkiego. Dlatego mÃ³wiÄ™ - zazwyczaj nie lubiÄ™ linkowaÄ‡ do tego bloga, ale treÅ›Ä‡ jest tutaj naprawdÄ™ okej, jest wartoÅ›ciowa.

**Szymon Warda**: ZgodziÅ‚bym siÄ™.

**Szymon Warda**: Jest niezÅ‚y... dobrze. To teraz ja siÄ™ wcisnÄ™, co tutaj jest dalej - wpis odnoÅ›nie API Maturity Model - wpis ma swoje plusy, ma swoje minusy, nie jest jakiÅ› super idealny, ale jest fajny do przemyÅ›lenia. ParÄ™ punktÃ³w robi dobrych, ponownie. O co chodzi? Chodzi o to, Å¼e poziom dojrzaÅ‚oÅ›ci API zostaÅ‚ podzielony tak trochÄ™ ksiÄ…Å¼kowo na takie 4 poziomy. Pierwszy taki Dark Ages moÅ¼na powiedzieÄ‡, mocno nazywany - i tu wiesz fajnie, z czego wynika? Bo to nie jest to, Å¼e to jest waÅ¼ne to, nie jest to, Å¼e klasyfikujemy API. To jest to, Å¼e proces dojrzaÅ‚oÅ›ci API no nie? Co jest teÅ¼ waÅ¼ne. Czego on trochÄ™ nie zaznacza w tym modelu to jest to, Å¼e nie kaÅ¼de API musi byÄ‡ na tym najwyÅ¼szym poziomie dojrzaÅ‚oÅ›ci, do ktÃ³rego za chwilÄ™ dojdziemy. Jest Dark Age, czyli generalnie budujemy API wokÃ³Å‚ dorwania siÄ™ do danych tak naprawdÄ™ i tam ogarniamy skarby i to takie bardzo proste rzeczy.

**Åukasz KaÅ‚uÅ¼ny**: Tak. Przy czym teÅ¼ z drugiej strony ten pierwszy poziom - i on jest, dla wielu osÃ³b bÄ™dzie wystarczajÄ…cy, bo jest ten punkt, ktÃ³ry mi tutaj siÄ™. Te 4 punkty, ktÃ³re sÄ… wyrÃ³Å¼nione w tym poziomie, czyli projektowanie API po to, Å¼eby byÅ‚y Å‚atwe w integracji, reuÅ¼ywalne, Å¼eby mieÄ‡ to z tyÅ‚u gÅ‚owy, tworzenie spÃ³jnych interfejsÃ³w, wersjonowanie czy gdzieÅ› tam niby scalability, to wyrzuÄ‡my ten bullet, ale dobrze pokazuje, Å¼e to jest taki pierwszy poziom naprawdÄ™ dojrzaÅ‚oÅ›ci.

**Szymon Warda**: Tak, dlatego nazwy takie ksiÄ…Å¼kowe, bo tam sÄ… takie problemy, bÄ™dziemy wchodziÄ‡ za chwilÄ™ w temat renesansu i tak dalej. WiÄ™c nazwy sÄ… trochÄ™ bÅ‚Ä™dne i niejako nazwanie czegoÅ› Dark Ages nie do koÅ„ca dobrze siÄ™ kojarzy. Ale zgodzÄ™ siÄ™ z tym wÅ‚aÅ›nie, Å¼e ten pierwszy poziom w wiÄ™kszoÅ›ci sytuacji wystarczy. Potem idziemy poziom drugi.

**Åukasz KaÅ‚uÅ¼ny**: Przepraszam, dodam jednego minusa odnoÅ›nie caÅ‚ego wpisu. Jest tu maÅ‚o rzeczy na temat bezpieczeÅ„stwa, czyli w pierwszym wpisie brakuje mi tutaj. Dla mnie jakakolwiek dojrzaÅ‚oÅ›Ä‡ zaczyna siÄ™ z tym, Å¼e zaczynamy patrzeÄ‡ na bezpieczeÅ„stwo.

**Szymon Warda**: Daj temu chwilÄ™, bo dojdziemy do tego. Wydaje mi siÄ™ akurat, Å¼e dlatego zaczÄ™liÅ›my to wogÃ³le omawiaÄ‡ przed nagraniem, Å¼e dobre umiejscowienie jest security - jeÅ¼eli o to chodzi, bo zobacz, w pierwszym jest ten Dark Ages, potem jest renesans, czyli dzielimy to API na komponenty, co teÅ¼ w sumie ma sens tak naprawdÄ™, Å¼e czasami jak robimy usÅ‚ugÄ™ to lepiej po prostu, Å¼eby to byÅ‚o w jednym i po prostu bÄ™dzie Å‚atwiej, no bo to dalej, odkrywamy - jak to API ma wyglÄ…daÄ‡. Poziom trzeci, oÅ›wiecenie. Te dwie fazy sÄ… takie trochÄ™ rozmyte, tak naprawdÄ™, ale w tym momencie adresujemy deployment, co jest trochÄ™ dziwne, Å¼e dopiero w tym momencie. Performance, security w tym momencie adresujemy jeÅ¼eli o to chodzi, ale taki bardziej, Å¼e patrzymy jak to w ogÃ³le wyglÄ…da i potem automatyzacjÄ™. TrochÄ™ to mimo wszystko pÃ³Åºno i patrzymy bardziej na taki experience pod kÄ…tem. I to jest doÅ›Ä‡ waÅ¼ne, co rozrÃ³Å¼nia tÄ™ frazÄ™, to jest to, Å¼e patrzymy na API nie jako clouty do danych, tylko patrzymy na API jako coÅ› co wspiera use case'y, workflowy, ktÃ³ry wystÄ™pujÄ… w aplikacji i to jest kluczowe de facto.

**Szymon Warda**: To jest faktycznie w fajny sposÃ³b myÅ›lenie, Å¼e okej nie sÄ… to a to ten endpoint daje nam dane jakieÅ› tam, tylko po prostu budujemy tak, Å¼eby one wspieraÅ‚y caÅ‚oÅ›Ä‡, Å¼eby jednak nie opieraÄ‡ na tym zbyt duÅ¼o. I czwarty poziom - wolnoÅ›Ä‡ moÅ¼na powiedzieÄ‡ wÅ‚aÅ›ciwie tak naprawdÄ™. I to jest. Dlatego wÅ‚aÅ›nie mÃ³wiÄ™, Å¼e to dopiero sensowne, bo w tym momencie tu dopiero wchodzimy dopiero w eksternalizacjÄ™. I to jest clou tego artykuÅ‚u, Å¼e de facto masÄ™ z tych rzeczy warto robiÄ‡, raczej inaczej, Å¼e dopiero w tym momencie, to sÄ… rzeczy zewnÄ™trzne. I dla mnie wÅ‚aÅ›nie w tym kroku siÄ™ sugeruje zrobienie Governance, Observability i zrobienie caÅ‚ego systemu czyli portalu, itd. I dla mnie to w duÅ¼ej mierze ma sens tak naprawdÄ™, wÅ‚aÅ›nie mÃ³wisz, Å¼e security trochÄ™ brakuje. Tak, Å¼e jest API totalnie wewnÄ™trzne, wewnÄ™trzne. W pierwszej, drugiej fazie ja bym powiedziaÅ‚ tak - ja bym siÄ™ nie skupiaÅ‚ na tym za bardzo.

**Åukasz KaÅ‚uÅ¼ny**: Znaczy wiesz co? Skupianie siÄ™ to jest jedno, a zachowanie takiego wiesz minimum zdroworozsÄ…dkowego to jest duÅ¼e. ZauwaÅ¼, Å¼e przykÅ‚adowo przepraszam jeÅ¼eli kogoÅ› obraÅ¼Ä™, ale juÅ¼ jak taki przykÅ‚adowy menadÅ¼er to przeczyta i nie zobaczy, Å¼e przy takim, Å¼e powinienem jednak pamiÄ™taÄ‡, tylko jest dalej, to teÅ¼ leÄ‡my sobie i uÅ¼ywajmy tego i nie przejmujmy siÄ™.

**Szymon Warda**: Znaczy nie, to to jest artykuÅ‚ wybitnie kierowany do osÃ³b technicznych z takim moÅ¼na siÄ™ zgodziÄ‡, to nie sÄ… obszary, ktÃ³re olewamy. Ale to nie sÄ… security. PÃ³ki nie dajemy tego zewnÄ™trznie przez zewnÄ™trzne to nie musi byÄ‡ na rzecz firmy, to moÅ¼e byÄ‡ teÅ¼ zewnÄ™trznie, miÄ™dzy innymi dziaÅ‚ami itd. To moÅ¼emy pomyÅ›leÄ‡, bo podejÅ›cie, ktÃ³re robi platformÄ™ to jednak musi byÄ‡ bezpieczna. Co mi siÄ™ tu podoba w tym opisie, przede wszystkim... To, Å¼e patrzymy na - pierwsza faza jest spoko i Å¼e w pierwszej fazie mimo wszystko myÅ›limy wÅ‚aÅ›nie, miÄ™dzy innymi o wersjonowaniu. Co w tym momencie ma sens, to jest to, Å¼e w tej trzeciej fazie enlightenment, sobie myÅ›limy o tym, Å¼e patrzymy na API z punktu widzenia przypadkÃ³w uÅ¼ycia to jest to, Å¼e w pierwszej fazie uÅ¼ywamy tego i dopiero uczÄ…c siÄ™ - jak to API wyglÄ…da, jak konsumenci rozmawiajÄ…, Å¼e wykorzystujemy. Mam bardzo mieszane uczucia odnoÅ›nie tego, Å¼eby dopiero w fazie czwartej robiÄ‡ Observability.

**Åukasz KaÅ‚uÅ¼ny**: PrzecieÅ¼ to jest teÅ¼, Å¼e powiedzmy sobie teraz tak - w zaleÅ¼noÅ›ci jaki typ Observability. JeÅ¼eli mÃ³wimy o caÅ‚ym distributed to jest to w dobrym. JeÅ¼eli mÃ³wimy o podstawowym to teÅ¼ powinna byÄ‡ o wiele wczeÅ›niej.

**Szymon Warda**: Tak, znaczy to minimum, to jest nawet w fazie pierwszej. Przekazywanie tokenu to jest takie generalnie, Å¼e okej, przekazujemy dalej, Å¼eby innym aplikacjom tego nie rozwalaÄ‡, bo to jest po prostu no brzydkie zachowanie. JeÅ¼eli mamy caÅ‚y tracing, wszystko fajnie i nie przekazujemy tokenu nagle.

**Åukasz KaÅ‚uÅ¼ny**: Wiesz co, ja zrobiÄ™ sobie takÄ… wrzutkÄ™, bo z innych frameworkÃ³w, ktÃ³re sÄ… do rÃ³Å¼nych dojrzaÅ‚oÅ›ci ja mam takÄ… preferencjÄ™, Å¼eby uÅ¼ywaÄ‡ 3-poziomowego... SÅ‚uchaj podejÅ›cia do nazywania, okreÅ›lania poziomÃ³w dojrzaÅ‚oÅ›ci i jest taki sobie podziaÅ‚, Å¼e mamy initiated, czyli Å¼e w ogÃ³le zaczÄ™liÅ›my o tym myÅ›leÄ‡. Czyli to jest ten level pierwszy, potem jest performed, czyli wÅ‚aÅ›nie, Å¼e coÅ› wykonujemy faktycznie. Czyli to jest te 2 i 3, ktÃ³re tak jak mÃ³wiÅ‚eÅ›, Å¼e one sÄ… rozmyte pomiÄ™dzy sobÄ…. I ostatni poziom, taki trzeci dojrzaÅ‚oÅ›ci to jest manage. Kiedy faktycznie tym zarzÄ…dzamy, mamy to uprocesowione. Potrafimy to obserwowaÄ‡ i zmierzyÄ‡. Ja wÅ‚aÅ›nie preferujÄ™ taki trÃ³jwarstwowy podziaÅ‚ tej dojrzaÅ‚oÅ›ci.

**Szymon Warda**: Ty mÃ³wisz o takiej, dojrzaÅ‚oÅ›ci typowo wewnÄ™trznej, a mam wraÅ¼enie Å¼e ten artykuÅ‚... On fajnie opisuje trochÄ™ co jest, on jest... WÅ‚aÅ›nie powiedzieliÅ›my, Å¼e on jest dla technicznych. Nie, wydaje mi siÄ™, Å¼e to jest dobry artykuÅ‚, wiesz dla kogo? Dla Product OwnerÃ³w. Å»eby myÅ›leÄ‡ wÅ‚aÅ›nie, bo potem on dalej fajnie wchodzi w tÄ… opcjÄ™... Jak zbieraÄ‡ wymagania, jak zbieraÄ‡ taki commitment wokÃ³Å‚ caÅ‚oÅ›ci i jak tÄ… organizacjÄ™ przesuwaÄ‡ na to API? WiÄ™c wydaje mi siÄ™, Å¼e to jest dobry taki wÅ‚aÅ›nie wpis dla team leaderÃ³w, architektÃ³w, ale teÅ¼ dla POsÃ³w tak naprawdÄ™, Å¼eby oni teÅ¼ wiedzieli jak w ogÃ³le... Bo POsi czÄ™sto umiejÄ… zarzÄ…dzaÄ‡ produktem jako takim. Ale jeÅ¼eli produktem jest API, to jest to trudniejsze. DuÅ¼o, no nie, bo tam nie zrobisz bo to UI i tak dalej. WiÄ™c to jest dobre podejÅ›cie na zasadzie, okej. Jak do tego kawaÅ‚ka podejÅ›Ä‡?

**Åukasz KaÅ‚uÅ¼ny**: Dobra, teraz ode mnie taki jeszcze jeden maÅ‚y wpisik koÅ„czÄ…cy, czyli przypomnienie sobie czym sÄ… w http etagi...

**Szymon Warda**: WÅ‚aÅ›nie widziaÅ‚em, Å¼e wygrzebaÅ‚eÅ› takiego starocia, Å¼e taki temat stary jak nie wiem co!

**Åukasz KaÅ‚uÅ¼ny**: Stary, ale wiesz co?

**Åukasz KaÅ‚uÅ¼ny**: On wraca i to jest... Wiesz, teÅ¼ mi siÄ™ to rzuciÅ‚o. Wraca siÄ™. TeÅ¼ go w zeszÅ‚ym tygodniu wspominaÅ‚em przy prowadzeniu szkolenia. MusiaÅ‚em teÅ¼ wspomnieÄ‡ o tym, po co to w ogÃ³le jest i widzÄ™, Å¼e ta wiedza...

**Szymon Warda**: Ucieka.

**Åukasz KaÅ‚uÅ¼ny**: UÅ¼ywamy tego http, ale duÅ¼o osÃ³b nie ma Å›wiadomoÅ›ci, Å¼e wiele tam rzeczy pod spodem w tym protokole juÅ¼ od dawien dawna jest wyspecyfikowane i gotowe do uÅ¼ycia. I tutaj jest caÅ‚oÅ›Ä‡ doÅ›Ä‡ fajnie krÃ³tko opisana na temat czym sÄ… wÅ‚aÅ›nie entity tagi, w jaki sposÃ³b zaadresowaÄ‡ rozwiÄ…zywanie konfliktÃ³w. Kiedy chcemy, Å¼eby coÅ› zostaÅ‚o zapisane, kiedy nie, w jaki sposÃ³b patchowaÄ‡ i czym te wszystkie nagÅ‚Ã³wki oznaczajÄ…. I taka rzecz, jeÅ¼eli ktoÅ› z Was pracuje na jakichÅ› rozproszonych bazach danych, Cosmos DB, jakiÅ› storage'ach.

**Szymon Warda**: Cassandra.

**Åukasz KaÅ‚uÅ¼ny**: Tak, storage'ach i innych rzeczach to z tymi Cassandra, to z tymi e-tagami siÄ™ zawsze spotkamy i last modified na poziomie protokoÅ‚u.

**Szymon Warda**: To wÅ‚aÅ›nie wrzucÄ™ generalnie, do czego wÅ‚aÅ›nie e-tagi, do okreÅ›lenia wÅ‚aÅ›nie czy chcemy wprowadziÄ‡ zmianÄ™? To jest mechanizm do optimistic concurrency tak naprawdÄ™.

**Åukasz KaÅ‚uÅ¼ny**: DokÅ‚adnie.

**Szymon Warda**: MÃ³wiÄ…c bardzo prosto, bo tam mamy timestampa jakiegoÅ› i mamy czasowniki czy mamy operacje wykonaÄ‡, zaÅ‚Ã³Å¼my? Czy jeÅ¼eli e-tag istniejÄ…cy na bazie jest rÃ³wny, mniejszy, wiÄ™kszy i moÅ¼emy swobodnie sterowaÄ‡. CoÅ› co no istnieje i bÄ™dzie istniaÅ‚o przy jakimkolwiek requeÅ›cie http, bo siÄ™ dane mogÅ‚y zmieniÄ‡ tak naprawdÄ™.

**Åukasz KaÅ‚uÅ¼ny**: Znaczy, ogÃ³lnie przy systemie gdzie mamy wiÄ™cej niÅ¼ jednego uÅ¼ytkownika pracujÄ…cym na tym samym secie danych.

**Szymon Warda**: Tak dokÅ‚adnie, dokÅ‚adnie, ale wÅ‚aÅ›nie gÅ‚Ã³wnie tu mÃ³wimy odnoÅ›nie http i wiele wÅ‚aÅ›nie usÅ‚ug, jak wejdziemy. To wspiera, to co powiedziaÅ‚eÅ› natywnie.

**Åukasz KaÅ‚uÅ¼ny**: PudeÅ‚ka.

**Szymon Warda**: Blob to wspiera. Bardzo fajnie teÅ¼ w wielu sytuacjach, takÅ¼e nie ma potrzeby z reguÅ‚y reimplementacji tego od nowa.

**Åukasz KaÅ‚uÅ¼ny**: WiÄ™c na koÅ„cÃ³wkÄ™ z rzeczy technicznych polecamy chwilÄ™ przeczytaÄ‡, jeÅ¼eli nie wiesz z czym siÄ™ je wÅ‚aÅ›nie etagi, jest dobry poczÄ…tek, Å¼eby to przeczytaÄ‡. O co w tym chodzi?

**Szymon Warda**: Wpis jest krÃ³tki, jest bardzo krÃ³tki, naprawdÄ™. Jest to napisane, nawet na poziomie bulletÃ³w, wyszczegÃ³lnia to, co powinien.

**Åukasz KaÅ‚uÅ¼ny**: Takm na przykÅ‚ad last modified - if unmodified scenes, if modified scenes. Jak z konfliktem? Co tam jest, 412, 409... WytÅ‚umaczone te statusy, ktÃ³re rzadko widzimy i w jaki sposÃ³b moÅ¼emy do tego podejÅ›Ä‡?

**Szymon Warda**: Tak, przy czym one mogÄ… siÄ™ rÃ³Å¼niÄ‡ w zaleÅ¼noÅ›ci od implementacji, ale warto wiedzieÄ‡ co jest nad niÄ….

**Åukasz KaÅ‚uÅ¼ny**: MoÅ¼e takie - tu sÄ… bardziej w odniesieniu do RFC, bo na to RFC czekajcie, jeszcze sprawdzÄ™ tak na koniec z kiedy ono jest.

**Szymon Warda**: Stare bÄ™dzie, jak nie wiem co, z brodÄ….

**Åukasz KaÅ‚uÅ¼ny**: Czekaj, no nie, te RFC jest akurat, te ostatnie z 2014.

**Szymon Warda**: Czyli z brodÄ…, Åukasz, to juÅ¼ jest z brodÄ….

**Åukasz KaÅ‚uÅ¼ny**: Czekaj, ale jest ten... Trzeba byÅ‚o by sprawdziÄ‡, kiedy ten... Jeszcze wczeÅ›niejsze siÄ™ pojawiÅ‚o. Dobra, to chyba koÅ„czymy.

**Szymon Warda**: KoÅ„czymy. Na razie.

**Åukasz KaÅ‚uÅ¼ny**: Na razie. Hej!

