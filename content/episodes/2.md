---
title: '#2 Serverless
'
date: 2019-08-23T08:00:00+02:00
episode: "2"
tags: []
description: ""

# Jekyll compatibility fields (zachowane dla innych systemÃ³w)  
spreaker: 22582603
apple: ""
spotify: "https://open.spotify.com/episode/"
youtube: ""

# Hugo fields  
youtube_id: ""
youtube_url: ""

# Social media images (poprawione nazwy)
og_landscape: "/img/2-landscape.webp"
og_square: "/img/2-square.webp"

# Intro for episode
intro: |
  W tym odcinku nasza luÅºna rozmowa o tym jak jest z Serverless z rÃ³Å¼nych stron â€“ tych dobrych jak i tych gorszych!
  

# Links for the episode
links:
  - title: "Lightning video adapters â€“ also known as Haywire â€“ which are actually computers that feature Apple Secure Boot and run Darwin kernel"
    url: "https://twitter.com/nyan_satan/status/1155148789977636864"
  - title: "MyRocks: A space - and write-optimized MySQL database"
    url: "https://engineering.fb.com/core-data/myrocks-a-space-and-write-optimized-mysql-database/"
  - title: "MyRocks"
    url: "https://myrocks.io/"
  - title: "How does Facebook use MySQL to store data?"
    url: "https://www.quora.com/How-does-Facebook-use-MySQL-to-store-data"
  - title: "M18 How Facebook Migrated to MyRocks"
    url: "https://www.slideshare.net/MariaDB/m18-how-facebook-migrated-to-myrocks"
  - title: "Adobe Neo4j migration - YouTube"
    url: "https://www.youtube.com/watch?v=bPM9hVorPSM"
  - title: "Adobe used 125 MongoDB servers to run their activity feed. It was replaced by 48 Cassandra servers. Now it runs on 3 (THREE!) servers of Neo4j"
    url: "https://twitter.com/emileifrem/status/1067789758401662976"
  - title: "15 BOOKS BY LEADING SOFTWARE ARCHITECTS"
    url: "https://apiumhub.com/tech-blog-barcelona/books-software-architects/"

# Newsletter content (zachowane dla kompatybilnoÅ›ci)
newsletter: |
  CzeÅ›Ä‡! ğŸ‘‹ âœ¨
  
  W tym odcinku nasza luÅºna rozmowa o tym jak jest z Serverless z rÃ³Å¼nych stron â€“ tych dobrych jak i tych gorszych!
  
  
  
  
  ## Odcinek na stronie i materiaÅ‚y do niego â¬‡ï¸
  
  â¡ï¸ [OdsÅ‚uchaj na stronie](https://patoarchitekci.io/2)
  â¡ï¸ [Spotify](https://open.spotify.com/episode/)
  â¡ï¸ [Apple Podcasts](#)
  â¡ï¸ [YouTube](#)
  
  ## Short & Sweet
  

  ### ğŸ¤ DoÅ‚Ä…cz do Discord ğŸ‘‰ [https://discord.gg/78zPcEaP22](https://discord.gg/78zPcEaP22)
  
  ### ğŸ¢ Patron odcinka
  SÅ‚uchasz PatoarchitektÃ³w dziÄ™ki PROTOPII â€“ firmie, w ktÃ³rej Åukasz i Szymon dziaÅ‚ajÄ… na co dzieÅ„, wspierajÄ…c zespoÅ‚y IT na kaÅ¼dym etapie: od projektowania, przez wdroÅ¼enia i migracje, aÅ¼ po optymalizacjÄ™ i zabezpieczenia. Oferujemy teÅ¼ mentoring i szkolenia dostosowane do potrzeb kaÅ¼dej firmy, niezaleÅ¼nie od wielkoÅ›ci. SprawdÅº nas: [protopia.tech](https://protopia.tech/)
  
  PS. Masz pytania? Pisz Å›miaÅ‚o po drugiej stronie to nie bot na bazie GPT czy Claude ğŸ˜
---

**Åukasz KaÅ‚uÅ¼ny [ÅK]**: Wiesz, co temat na dziÅ› Serverless, czyli porozmawiamy od technologicznym powiewie Å›wieÅ¼oÅ›ci albo niby powiewie Å›wieÅ¼oÅ›ci.

**Szymon Warda [SW]**: Tak, bo ten powiew to wieje juÅ¼ od 10 czy 15 lat moÅ¼na powiedzieÄ‡ Å›miaÅ‚o. ZaczÄ™Å‚o siÄ™â€¦

**ÅK:** â€¦ 2004.

**SW:** To mÃ³wisz teraz o s3?

**ÅK:** Tak.

**SW:** A wczeÅ›niej jeszcze byÅ‚a taka usÅ‚uga, ktÃ³ra zbankrutowaÅ‚a z Wielkiej Brytanii, ktÃ³ra wÅ‚aÅ›nie dawaÅ‚a opcje, daj mi kod, wtedy chyba byÅ‚ Pythonowy i bÄ™dziemy z tego wykonywali. Takie w quazi serverless. No, ale to byÅ‚ 2004, mamy 2019. 15 lat.

**ÅK:** Tak, idea 15 lat.

**SW:** Tak, wiÄ™c jak siÄ™ tutaj zachwycamy, jako IT powiewem Å›wieÅ¼oÅ›ci, to powiew to nie jest tak naprawdÄ™. 

**ÅK:** Tak, Serverless chyba z lambda 2015 dobrze kojarzÄ™? 

**SW:** MoÅ¼e byÄ‡ trochÄ™ wczeÅ›niej.

**ÅK:** KoÅ„cÃ³wka 2014, przeÅ‚om 2014 i 2015 juÅ¼ tak rzucajÄ…c wtedy pierwsze takie pojawiÅ‚y siÄ™ Serverless Hype, ale gdzieÅ› te serwery stojÄ….

**SW:** Tak, gdzieÅ› te serwery stojÄ…. Serverless jest zabawny, bo to jest niby coÅ›, co jak juÅ¼ stwierdziliÅ›my trochÄ™ czasu ma, a jak siÄ™ patrzy na to, jak stosujemy, to pochodzimy do tego jak do Å›wieÅ¼ynki. Podchodzimy do jak pies do jeÅ¼a, trochÄ™ nie wiemy jak ugryÅºÄ‡, co z tym zrobiÄ‡, zaczynamy od zera gdzieniegdzie tam.

**ÅK:** Tak ta filozofia. Chyba pierwszym dobrym jak juÅ¼ mÃ³wimy o wzorcach, chyba pierwszym dobrym podejÅ›ciem byÅ‚o patrzeÄ‡, znowu wrÃ³cimy do modelowania, ale ogÃ³lnie serwisÃ³w, czyli to moja perspektywa bÄ™dzie niedojrzaÅ‚oÅ›Ä‡ od tych, Å¼e ludzie czÄ™sto rzucajÄ… siÄ™ i powstaje duÅ¼o nano serwisÃ³w.

**SW:** Tak. Chmura nam Å‚adnie daje ogarnianie, ale potem przejÅ›cie tego, co gdzie jest, jak co ogarnÄ…Ä‡, juÅ¼ staje siÄ™ duÅ¼o trudniejsze tak naprawdÄ™. Rzecz kolejna, ktÃ³ra mnie teÅ¼ martwi, to jest to, Å¼e czÄ™sto wchodzimy w chmurÄ™, wchodzimy Serverless, ale mamy komunikacjÄ™ synchronicznÄ… wszÄ™dzie i znwu te wszystkie problemy, ktÃ³re mieliÅ›my, wracajÄ… tylko w innej platformie, ktÃ³re juÅ¼ rozwiÄ…zaliÅ›my gdzieniegdzie wÅ‚aÅ›nie szynami i tak dalej, tutaj nie sÄ….

**ÅK:** Tak, a patrzÄ…c siÄ™ w sumie i lambda i Azure functions, to jednak byÅ‚y zawsze promowane chyba od strony eventÃ³w i messegingu.


**SW:** Tak. I tu siÄ™ zgodzÄ™. GadaliÅ›my to, co Microsoft mÃ³wiÅ‚ wÅ‚aÅ›nie, Å¼e to jest code plus data plus events. No i mam wraÅ¼enie, Å¼e trochÄ™ na tym promowaniu siÄ™ czÄ™sto koÅ„czy, jak w formie implementacji.

**ÅK:** Tak, promowanie tak, to jest ciekawe tylko tam, gdzie to sensownie zrobione. 

**SW:** Tak, a nie jest Å‚atwo. Ja czasami mam takie wraÅ¼enie, Å¼e to samo, co widziaÅ‚em w Powershellu jak siÄ™ deweloperzy przenosili na Powershella, to nagle zmienne globalne sÄ… caÅ‚kiem w porzÄ…dku. Tam teÅ¼ moÅ¼na Å‚adnie przekazywaÄ‡ wartoÅ›Ä‡ przez parametry, a nagle widzÄ™, Å¼e jest na gÃ³rze blok 20 zmiennych globalnych i siÄ™ odwoÅ‚ujemy i je montujemy i tak dalej. To teÅ¼ jest programowanie, czemu ty stosujesz rzeczy, ktÃ³rych nie robisz gdzie indziej, wiÄ™c tak to bywa sÅ‚abo.

**ÅK:** Dobra to kolejna rzecz to jest czÄ™Å›ciowo rozwiÄ…zywany juÅ¼ czÄ™Å›ciowo nie, to bÄ™dÄ… dÅ‚ugotrwaÅ‚e przetwarzania long-running procesy z mojej perspektywy z tym jest problem.

**SW:** Ja to siÄ™ zastanawiam tak naprawdÄ™ czyâ€¦zgodzÄ™ siÄ™ jest problem. Zastanawiam siÄ™ czy to jest dobre miejsce, Å¼eby umieszczaÄ‡ dÅ‚ugotrwaÅ‚e procesy, bo to ani nie bÄ™dzie ekonomiczne, ani nie bÄ™dzie szybkie, bo siÄ™ nie moÅ¼emy skalowaÄ‡ na poziomie maszyn. WiÄ™c to moÅ¼e po prostu nie jest dobre miejsce dla tych rzeczy.

**ÅK:** Wiesz, co to z perspektywy tak, tylko zobacz, Å¼e ludzie siÄ™ rzucajÄ…. ChcÄ… mieÄ‡ wtedy takÄ… clean architecture. ZauwaÅ¼yÅ‚eÅ› takie myÅ›lenie? Przy czym masz teÅ¼ jak mÃ³wimy serwer albo wszyscy patrzÄ… na te functions, a tak naprawdÄ™ mamy kupÄ™ usÅ‚ug po boku, ktÃ³re mogÄ… to teÅ¼ nam zrobiÄ‡. WeÅºmy na przykÅ‚ad, swego casu byÅ‚y takie popularne architektury gÅ‚Ã³wnie w aws, czyli, Å¼e odpalamy sobie poprzez lambdÄ™ inne rzeczy, odpalamy na przykÅ‚ad MapReduce i inne rzeczy i to doÅ›Ä‡ fajnie wyglÄ…daÅ‚o. Czy z drugiej strony teraz Serverless'owe kontenery, w ktÃ³rych te cenniki juÅ¼ wyglÄ…dajÄ… znacznie lepiej. Tam teÅ¼ long-running proces mÃ³gÅ‚by siÄ™ znaleÅºÄ‡. WiÄ™c to sÄ… takie rzeczy. No i gdzieÅ› przy tym pewnie bÄ™dzie to temat, ktÃ³ry Ty lubisz, czyli orkiestracja takimi dÅ‚ugotrwaÅ‚ymi procesami.

**SW:** Tak i to jest ciÄ™Å¼kie i do tego ryzykowne. No, bo jeÅ¼eli mÃ³wimy o Serverless typowo gdzie nie jesteÅ›my przywiÄ…zani do maszyny i moÅ¼emy byÄ‡ wywÅ‚aszczeni, to im dÅ‚uÅ¼ej nasz proces jest wykonywany tak naprawdÄ™, to mam wiÄ™ksze szanse, Å¼e on zostanie ubity przez coÅ›, bo mieliÅ›my bÅ‚Ä…d, jesteÅ›my wywÅ‚aszczeni z maszyny i tak dalej. WiÄ™c orkiestracja fajna, ja bym przerzucaÅ‚ zdecydowanie wykonywanie na coÅ› dÅ‚uÅ¼szego, gdzie moÅ¼emy lepiej tym zarzÄ…dzaÄ‡ i chyba tyle tak naprawdÄ™.
JeÅ¼eli mÃ³wimy o pojedynczym procesie tak to wyrzucanie w ogÃ³le. JeÅ¼eli mÃ³wimy o opcjach biznesowych, to to jest fajne adresowane, bo to juÅ¼ siÄ™ zaczÄ™Å‚o dziaÄ‡, zaczÄ™Å‚o dziaÄ‡ siÄ™ w aws przez step functions. Dobry wpis byÅ‚ ostatnio jednego z aws hero a propo tego. To juÅ¼ jest adresowane jak siÄ™ popatrzy to jest fenomenalnie rozwiÄ…zany problemu orkiestracji i zarzÄ…dzania. To, co w kodzie normalnie mamy skomplikowane, to tutaj nagle jest to mega czytelne. Zawsze pokazuje na szkoleniu. To ludzie robiÄ… wow. Z czegoÅ›, co miaÅ‚o 100 linii kodu mamy 3.

**ÅK:** No tak. Dobra, gdyby te przejÅ›cia byÅ‚y jeszcze troszkÄ™ szybsze w niektÃ³rych miejscach, to pisze siÄ™ czysto.

**SW:** Pisze siÄ™ czysto. Tak. WyglÄ…da Å‚adnie, debaguje siÄ™ Å‚adnie.WydajnoÅ›ciowo nie zabija, nie oszukujmy siÄ™.

**ÅK:** Tak, chociaÅ¼ teraz zobaczymy jak ten provider dla serwis fabrica bÄ™dzie dziaÅ‚aÅ‚, bo juÅ¼ siÄ™ pojawiÅ‚o na GitHub.

**SW:** Tak teÅ¼ jestem ciekawy w ogÃ³le caÅ‚y ruch wokÃ³Å‚ serwis fabrica. No lubiÄ™ serwis fabrica, ale tak jakoÅ› mam wraÅ¼enie, Å¼e trochÄ™ siÄ™ nie przyjÄ…Å‚ przez community.

**ÅK:** Nie, Microsoft pewnie, dlatego.

**SW:** Tak, tak samo jak inne ich pomysÅ‚y, ktÃ³re sÄ… fajne i nagle ktoÅ› je przerobi i jest wow to bardzo fajna technologia. Bywa.

**ÅK:** To, co jeszcze z niedojrzaÅ‚ych paternÃ³w.

**SW:** Z niedojrzaÅ‚ych paternÃ³w to siÄ™ pojawia szczegÃ³lnie przy czymkolwiek, co piszemy wiÄ™kszym, dependency injection. BÄ™dziemy mieli wstrzykiwanie zaleÅ¼noÅ›ci i niestety, poniewaÅ¼ funkcje sÄ… dodawane inaczej, da siÄ™, ale trochÄ™ mi to przypomina czasy, kiedy pojawiÅ‚o siÄ™ z dependency injection w nowym gs, jak prÃ³bowali, jak to zrobiÄ‡, jak do tego podejÅ›Ä‡ i jesteÅ›my chyba na takim samym etapie rozwoju, jeÅ¼eli chodzi o dependency injection w Serverless.

**ÅK:** Ja widzÄ™ tak, bo w Azure function siÄ™ od strony .Net-u siÄ™ teÅ¼ tak pojawiÅ‚o, zaczÄ™Å‚o siÄ™ nieÅ›miaÅ‚o pojawiaÄ‡, support i inne rzeczy. Ja dependency injection nienawidzÄ™ tak naprawdÄ™ poza monolitami, bo czÄ™sto i gÄ™sto ludzie nawet nie wiedzÄ… po, co to robiÄ….

**SW:** Tak to inna bajka. ZgodzÄ™ siÄ™, Å¼e to jest narzÄ™dzie naduÅ¼ywane. Czasami siÄ™ przydaje, tym bardziej, Å¼e czÄ™sto my obracamy siÄ™ w rÃ³Å¼nych Å›rodowiskach korporacyjnych, gdzie te projekty sÄ… trochÄ™ wiÄ™ksze i one rosnÄ…, wiÄ™c trochÄ™ uÅ¼ywanie kodu przez dependency injection miewa sens. Dobrze, ale tak naprawdÄ™ jest takÅ¼e wiele z problemÃ³w, ktÃ³re wymieniliÅ›my, sÄ… trochÄ™ adresowane siÄ™ przez samych prowajderÃ³w chmurowych. Co jest fajnego?

**ÅK:** Dobra z mojej perspektywy to gdzie to dziaÅ‚a to sÄ… dojrzaÅ‚e platformy, czyli jeÅ¼eli weÅºmiemy Azure, AWS, niektÃ³rzy siÄ™ Å›miejÄ…, Å¼e Azuer to od alfy. Pierwsza litera, ale jeÅ¼eli popatrzymy to sÄ… duÅ¼e i dojrzaÅ‚e platformy. Czy jeÅ¼eli weÅºmiemy tam Google, to teraz jeszcze prÃ³bujÄ… robiÄ‡ no i caÅ‚y ten Stack posiada masÄ™ usÅ‚ug, ktÃ³re gdzieÅ› sÄ… juÅ¼ pod spodem natywnie dostÄ™pne. Jak sobie popatrzymy chyba pierwszÄ… takÄ… rzeczÄ… to bÄ™dzie monitoring aplikacyjny.

**SW:** Logowanie i jej caÅ‚e observability wokÃ³Å‚ tego.

**ÅK:** Tak, traceing. JeÅ¼eli sobie popatrzymy, to jest to taki naturalny Å›wiat. JeÅ¼eli w Azure mamy application inside, ktÃ³re po prostu wpinamy, no niestety jest drogie jak teÅ¼ tak popatrzymy przez pryzmat, inne rozwiÄ…zanie dominanty APM potrafiÄ… byÄ‡ droÅ¼sze i dostajemy tak naprawdÄ™ taki caÅ‚y distributed tracing z pudeÅ‚ka z metrykami, ze wszystkim, dodajÄ…c tak naprawdÄ™ bibliotekÄ™ i podÅ‚Ä…czajÄ…c to czÄ™sto przy deployment. 

**SW:** MoÅ¼na to nawet uproÅ›ciÄ‡ do check box, realnie.

**ÅK:** DwÃ³ch check boxÃ³w.

**SW:** Dobrze, dwÃ³ch. Niech bÄ™dzie, jak najbardziej. Tak, application inside super moÅ¼liwoÅ›ci, nie jest najtaÅ„sze, absolutnie nie najtaÅ„sze. Na start fenomenalne narzÄ™dzie. IloÅ›Ä‡ czasu spÄ™dzonego do wartoÅ›ci zyskanej, proporcja jest fenomenalna uwaÅ¼am. ZgodÄ™ siÄ™ jak najbardziej observability i tracing i caÅ‚y monitoring to jest klucz w ogÃ³le dla mnie, czemu uÅ¼ywac Serverless. TrochÄ™ dalszy powÃ³d, ktÃ³ry Ty wspomniaÅ‚eÅ›.
Fenomenalne wsparcie dla messagingu. On jest z pudeÅ‚ka, nie trzeba nic konfigurowaÄ‡ Å¼adnego rabbitta, Kafki niczego. Po prostu wysyÅ‚amy wiadomoÅ›Ä‡. Jak pokazuje ludziom na szkoleniach jak prosto jest wysÅ‚aÄ‡ wiadomoÅ›Ä‡ z funkcji, to jest wow. 

**ÅK:** Filozofia ja to nazywam funkcyjnego programowania, czyli in-out, podejÅ›cie in-out.

**SW:** Przyjmij, przetwÃ³rz, wyÅ›lij dalej. Co moÅ¼e powodowaÄ‡ tutaj skrajnoÅ›ci nanoserwisÃ³w. PrzeÅ¼yjemy, nauczymy siÄ™ i mimo wszystko bÄ™dzie dobra.

**ÅK:** Tak przy tym to jeszcze duÅ¼ym bonusem jest wÅ‚aÅ›nie wymuszenie asynchronicznoÅ›ci, bo benefituje Ci nie robienie synchronicznych, jako, Å¼e pÅ‚acimy za czas jak to dziaÅ‚a, to trochÄ™ wymusza u nas teÅ¼ myÅ›lenie o tym, Å¼eby ten kod nie byÅ‚ synchronic nie byÅ‚ synchroniczny oprÃ³cz takiego messagingu. To teÅ¼ inne integracyje, inne rzeczy. Tak jak strzaÅ‚y, jeÅ¼eli potrzebujemy strzeliÄ‡ do kilku zewnÄ™trznych api, zebraÄ‡ dane, zorkiestrowaÄ‡, no to teÅ¼ juÅ¼ zaczyna wymuszaÄ‡ na nas myÅ›lenie asynchroniczne jak to wszystko puÅ›ciÄ‡ naraz albo przetworzyÄ‡ hurtem.

**SW:** I dotknÄ…Å‚eÅ› teÅ¼ innej rzeczy, ktÃ³rÄ… ja bardzo lubiÄ™. To nas kosztuje. Po raz pierwszy chyba w IT moÅ¼emy nauczyÄ‡ siÄ™ na poziomie tak drobnym, co Ile nas kosztuje i czy opÅ‚aca siÄ™ ten kod w ogÃ³le optymalizowaÄ‡. Z reguÅ‚y mieliÅ›my monolit, ktÃ³ry staÅ‚ na WMC, ktÃ³ra miaÅ‚a 24 procesory i setki gigabajtÃ³w ram-u i nikt nie wiedziaÅ‚, co warto optymalizowaÄ‡, a tu mamy poszczegÃ³lna funkcja, wykonuje siÄ™ dÅ‚ugo, jak tam zetniemy o pÃ³Å‚, zaoszczÄ™dzimy 2000 $. Åatwo liczymy, optymalizacja zajmie nam tyle. Tyle zyskamy na samej optymalizacji. Prosta kalkulacja i fenomenalne spojrzenie na to, co warto robiÄ‡ w IT. To bardzo sobie teÅ¼ ceniÄ™ w Serverless.

**ÅK:** Dobra to jeszcze z takich plusÃ³w na okoÅ‚o integracja ogÃ³lnie z komponetami na platformach, gdzie Å¼yjÄ….

**SW:** Tak i to juÅ¼ setki integracji tak naprawdÄ™. Azure chyba siÄ™ doliczyÅ‚ komponentÃ³w, z ktÃ³rymi siÄ™ integruje juÅ¼ chyba koÅ‚o setki. 

**ÅK:** Lambda tak samo od poczÄ…tku byÅ‚o promowane, jako podÅ‚Ä…cz je tutaj, wywoÅ‚aj z tego sobie event, z tego. No, wiÄ™c integracja. Ja siÄ™ Å›miejÄ™ te operacje na plikach, bo one sÄ… tak czÄ™ste. Niby pokazuje siÄ™ na samplach, a okazuje siÄ™, Å¼e to sÄ… bardzo czÄ™ste scenariusze potem. Realne. Rozpoczynanie flow wÅ‚aÅ›nie od tego, Å¼e wpadÅ‚ mi plik na storege obiektowy i coÅ› muszÄ™ zrobiÄ‡. To jest doÅ›Ä‡ czÄ™ste. Jednak jest to scenariusz biznesowy. Ja siÄ™ z tego Å›miaÅ‚em zawsze, Å¼e pokazujemy sample, a w rzeczywistoÅ›ci to jest realny scenariusz.

**SW:** Ale to mÃ³j drogi, nie wiem, czy wiesz jak dziaÅ‚ajÄ… przelewy elixir w bankach.

**ÅK:** Wiem niestety.

**SW:** To sÄ… pliki. Plik jest idealnym protokoÅ‚em, bo moÅ¼esz go pobraÄ‡. Okej, ale czy jest tak rÃ³Å¼owo z platformami. No nie jest.

**ÅK:** Nie jest zdecydowanie. 

**SW:** Co najbardziej kopie? Cold starty.

**ÅK:** Cold starty. Zdecydowanie. NajwiÄ™cej chyba topowe wpisy o problemach.

**SW:** To zdziwienie ludzi czÄ™sto, czemu tak siÄ™ dzieje. Zawsze powtarzam ludziom, Å¼e zrozumcie jaka byÅ‚a idea. Serverless powstaÅ‚ po to, Å¼e byÅ‚a nadwyÅ¼kÄ™ maszyn, ktÃ³re trzeba by aktualizowaÄ‡. To jest serwis optymalizowany pod tanie utrzymywanie, dziÄ™ki czemu on jest tani dla nas.
Biznes is biznes, musi siÄ™ zgadzaÄ‡. Cold starty bÄ™dÄ… i to bÄ™dzie zawsze realny problem, ktÃ³ry moÅ¼na obejÅ›Ä‡ tak a nie inaczej. To jest coÅ›, co nie zniknie.

**ÅK:** Raczej moÅ¼esz bardzo prosto obejÅ›Ä‡. W Azure masz te plany premium, czyli pÅ‚acisz, nie za wywoÅ‚anie, a za to, Å¼e jest dostÄ™pne. 

**SW:** Tak, ale wtedy pÅ‚acisz kasÄ™ za up front i wiesz ile pÅ‚acisz.  Ja podchodzÄ™ do tego jeszcze inaczej. CzÄ™sto pokazuje ludziom, jak zrobiÄ‡. Gdzie CiÄ™ boli cold start? Jak odbierasz poÅ‚Ä…czenia http to 5 sekund boli ciÄ™ bardzo cold startu. Jak odbierasz wiadomoÅ›Ä‡, to piÄ™Ä‡ sekund CiÄ™ boli? DuÅ¼o mniej.

**ÅK:** Tak, bo zwykle wrzuciÅ‚eÅ› na przykÅ‚ad event. JeÅ¼eli zrobiÅ‚eÅ› to prawidÅ‚owo z api. Mi zawsze trafia siÄ™ przy eventach mÃ³j ulubiony kod http202, accepted, przyjÄ™Å‚em do procesowania.

**SW:** Tak dokÅ‚adnie i to jest inna opcja. Natomiast, jeÅ¼eli chcesz budowaÄ‡ API, ktÃ³re bÄ™dzie client facing, po http, uÅ¼yj noÅ‚da. Cpld start jest chyba 10 sekund, 10 milisekund. NiezauwaÅ¼alne dla uÅ¼ytkownika.

**ÅK:** Tak, ja bym jeszcze dorzuciÅ‚ do tego, bo jak podeszliÅ›my client facingu, no to chyba najczÄ™Å›ciej pokazywane budowa wÅ‚aÅ›nie API Client facingowych dla aplikacji mobilnych, dla innych. To dochodzi jeszcze jedna rzecz, API Gateway.

**SW:** Konieczny przy funkcjach tak naprawdÄ™.

**ÅK:** Tak, przy funkcjach takie podejÅ›cie wÅ‚aÅ›nie scalania tego w jednym miejscu. No i tutaj zaczynajÄ… siÄ™ zabawy z tym, jak to moÅ¼e byÄ‡ dobrze zrobione. Na pewno cashowanie w niektÃ³rych momentach moÅ¼e pomÃ³c na te cold starty.

**SW:** Tak i jeszcze inne rzeczy. To jest to miÄ™dzy innymi, Å¼e odchudzenie caÅ‚ych funkcji, czyli wyjÄ™cie z nich logowania, wyjÄ™cie z nich autentykacji, autoryzacji.

**ÅK:** Uwierzytelniania Szymon, uwierzytelniania.

**SW:** Przepraszam. PoprawiÄ™ siÄ™. WyjÄ™cie rzeczy, funkcji, ktÃ³rych nie powinno byÄ‡ i dziÄ™ki temu one stajÄ… siÄ™ chudsze i dziÄ™ki temu mamy mniej dependency injection trochÄ™, ktÃ³re jak stwierdziliÅ›my nie jest tak piÄ™knie ogarniÄ™te.

**ÅK:** Dobra, lecÄ…c sobie jeszcze w temacie, jak jesteÅ›my przy wywoÅ‚aniach synchronicznych, http, no to moÅ¼na powiedzieÄ‡, Å¼e brak w ogÃ³le pomysÅ‚u na service discovery pomiÄ™dzy tymi usÅ‚ugami, serwisami. To jest dla mnie troszkÄ™ bolÄ…czka. 


**SW:** PowaÅ¼ne, szczegÃ³lnie, jeÅ¼eli mÃ³wimy o komunikacji w obrÄ™bie niejednego serwis APA tylko w kontekÅ›cie caÅ‚ego systemu tak naprawdÄ™. PotrzebujÄ™ serwisu do logowania, potrzebujÄ™ serwisu do czegokolwiek. Nie znam url-a i oczekujÄ™, Å¼e ktoÅ› mi go poda. ZgodzÄ™ siÄ™, brak service discovery i brak w ogÃ³le pomysÅ‚u jak to zrobiÄ‡. 

**ÅK:** Niby sÄ… jakieÅ› tam configuration story i pomysÅ‚y, ale nadal to sÄ… statyczne konfiguracje, wiÄ™c to jest doÅ›Ä‡ ciekawe. Devopsujemny sobie do jakiegoÅ› configuration storea tak naprawdÄ™ informacje.

**SW:** Pytanie jeszcze moÅ¼na by zahaczyÄ‡ i uÅ¼yÄ‡ Key Vault, ale to nie jest juÅ¼ takie piÄ™kne.

**ÅK:** To wÅ‚aÅ›nie statyczna integracja. Dla mnie to jest wÅ‚aÅ›nie statyczny service discovery, kiedy wciskam informacje. Z mojej perspektywy juÅ¼ wolÄ™ te service discovery z Kubernetesa dns-owe, bo on juÅ¼ jakÄ…Å› ma filozofiÄ™.

**SW:** KtÃ³re jest niezÅ‚e. Tak. 

**ÅK:** KtÃ³re ma jakÄ…Å› filozofiÄ™ na poczÄ…tek niezÅ‚Ä….

**SW:** Ale jak jesteÅ›my przy integracji, to kolejna rzecz, ktÃ³ra boli. Nie zawsze jesteÅ›my caÅ‚kowicie w chmurze i mi siÄ™ juÅ¼ raz udaÅ‚o ubiÄ‡ system na on premie, puszczajÄ…c tam wytworzenie wiadomoÅ›ci w hederze wiadomoÅ›ci funkcje odpytywaÅ‚y z systemu na on premie i nagle okazaÅ‚o siÄ™, Å¼e wygenerowaÅ‚em 200 requestÃ³w na sekundÄ™ i system na on premie powiedziaÅ‚, ja tu wiÄ™cej nie pracuje. Integracja jest ciÄ™Å¼ka w ogÃ³le, takie ogarniÄ™cie, ile moÅ¼emy requestÃ³w robiÄ‡, jak, jaka orkiestracja na poziomie serwera, na przykÅ‚ad limitowanie i tak dalej. Nie ma tego do koÅ„ca. Nie dziaÅ‚a siÄ™, robi siÄ™ to ciÄ™Å¼ko, bo robi siÄ™ to na poziomie caÅ‚ego function appa. To jest znowu karkoÅ‚omnym i nakÅ‚ania nas do wydzielenia znowu niektÃ³rych funkcji tylko po to, Å¼ebyÅ›my je limitowaÄ‡. Nie jest to dobre podejÅ›cie. Czasami tak trzeba zrobiÄ‡.

**ÅK:** Tak sieciÃ³wka potrafi boleÄ‡. Filozofia, Å¼eby to byÅ‚o bezpiecznie.

**SW:** Tak funkcje stojÄ… publicznie.

**ÅK:** Tak, w aws jest troszeczkÄ™ lepiej niÅ¼ w Azure, ale nadal uwaÅ¼am, Å¼e tak jak powiedziaÅ‚eÅ›, zrobimy to moÅ¼e tam troszkÄ™ proÅ›ciej, ale bÄ™dÄ… te problemy, o ktÃ³rych Ty wspomniaÅ‚eÅ›.

**SW:** To, co mi siÄ™ podoba teraz to doszÅ‚a opcja, ona jest chyba w preview, Å¼e moÅ¼emy zrobiÄ‡ to samo co robiliÅ›my na on premie, czyli moÅ¼emy wygenerowaÄ‡ sobie service principala, ktÃ³rym bÄ™dziemy siÄ™ uwierzytelniali do naprzykÅ‚ad innych usÅ‚ug tak naprawdÄ™, Czyli ta opcja wewnÄ…trz Azure jest prosta, ale dalej dostÄ™p do funkcji jest chroniony przez secret, ktÃ³ry jest wysyÅ‚any w url-u. To nie jest duÅ¼o, powiedzmy sobie.

**ÅK:** No API Gateway, o ktÃ³rej wczeÅ›niej wspomniaÅ‚em wÅ‚aÅ›nie, dlatego teÅ¼ nie client facing. InnÄ… rzecz, ktÃ³rÄ… ja widzÄ™, trochÄ™ kontynuujÄ…c przy tych Twoich limitach, o ktÃ³rych wspomniaÅ‚eÅ›, no to juÅ¼ fasy ogÃ³lnie to jest bardzo wysoki poziom abstrakcji. JeÅ¼eli sobie popatrzymy od serwerÃ³w, aplikacji i innych rzeczy. No i podkrÄ™canie parametrÃ³w innych rzeczy moÅ¼e byÄ‡ problematyczne.

**SW:** Tak. PamiÄ™tam, Å¼e mieliÅ›my takÄ… sytuacjÄ™, Å¼e nagle nasza aplikacja zaczÄ™Å‚a dziaÅ‚aÄ‡ tam chyba 10% szybciej. To jest zauwaÅ¼alne. Co siÄ™ staÅ‚o w ogÃ³le? OkazaÅ‚o siÄ™, Å¼e jeden note, na ktÃ³rym pracowaliÅ›my miaÅ‚ po prostu procesor, ktÃ³rzy siÄ™ bardziej bustowaÅ‚, zauwaÅ¼alnie tam chyba o pÃ³Å‚ GHz. To jest zauwaÅ¼alne i nagle rÃ³Å¼nica czasu frequestÃ³w wychodzÄ…cych, bo to monitorowaliÅ›my, nagle byÅ‚a tam rzÄ™du 10-15% krÃ³tsza. To sÄ… naprawdÄ™ zauwaÅ¼alne wartoÅ›ci. To przydaje siÄ™, co w ogÃ³le fajnie widaÄ‡ we wpisach ludzi od stack overflow. Oni to robiÄ…tweakowanie bardzo mocno i majÄ… na tym realne zyski.

**ÅK:** Tak i malutkÄ… infrastrukturÄ™ jak popatrzymy.

**SW:** TyciÄ… jak na ich zapotrzebowania to jest naprawdÄ™ bardzo maÅ‚a infrastruktura.

**ÅK:** Tak. Tweakowanie i compute, o ktÃ³rym wspomniaÅ‚eÅ›, to jest dobry przykÅ‚ad, Å¼e sÄ… pewne limity i rzadko, kiedy moÅ¼emy je wykrÄ™ciÄ‡, czyli potrzebujemy dwa cory, haha nie dostaniesz ich.

**SW:** Nie masz w ogÃ³le pojÄ™cia corÃ³w, nie masz pojÄ™cia ram-u i koniec kropka. MoÅ¼e byÄ‡ funkcja, ktÃ³ra potrzebuje z definicji bardzo duÅ¼o ram-u, a trafi na hosta, ktÃ³ry ma trochÄ™ mniej tego ram-u i nie dostanie.

**ÅK:** I out of memory.

**SW:** DokÅ‚adnie.

**ÅK:** Przypomina mi siÄ™ mÃ³j fuck-up. ZastanawiaÅ‚em siÄ™, czemu mi siÄ™ coÅ› wywala. To byÅ‚ taki nazwijmy to proof-of-concept, Ä‡wiczyliÅ›my rÃ³Å¼ne ciekawe rzeczy, czyli jak naprawdÄ™ zbudowaÄ‡ przetwarzanie na functions albo coÅ›. I sÅ‚uchaj i zrobiÅ‚em gÅ‚upotÄ™, skapowaÅ‚em siÄ™ dopiero po dwÃ³ch dniach, czemu mi siÄ™ to wywala. Okazuje siÄ™, Å¼e Åºle przekazaÅ‚em, zostawiÅ‚em sobie w akurat Azure functions tam przy woÅ‚aniu robisz, co ci wchodzi tak i zrobiÅ‚em sobie glova wtedy jak string i okazuje siÄ™, Å¼e on Å‚adowaÅ‚ caÅ‚Ä… zawartoÅ›Ä‡ pliku do pamiÄ™ci. Jak byÅ‚y maÅ‚e jsony do testÃ³w przetwarzania tych danych, czÅ‚owiek tego nie widzi, a potem zaczynaÅ‚em juÅ¼ taki prawdziwszy wolumen i byÅ‚y sobie pliki po 300 mega, ale zdarzaÅ‚y siÄ™ po 700.

**ÅK:** Oj smuteczek.

**ÅK:** I zastanawiasz siÄ™, czemu idzie out of memory i tak jest dziwnie z tym przetwarzaniem. I czemu na poczÄ…tku. 

**SW:** Tak i out of memory i za chwilÄ™ bÄ™dzie out of money.

**ÅK:** Na szczÄ™Å›cie to nie byÅ‚o takie duÅ¼e, ale to teÅ¼ pokazuje, Å¼e trzeba trochÄ™ pomyÅ›leÄ‡ o tym.

**SW:** Tak, Å‚atwo siÄ™ nadziaÄ‡. Ten poziom abstrakcji jest nie tylko na poziomie maszyn, ale teÅ¼ na poziomie kodu i api, jakie udostÄ™pniajÄ…. Faktycznie tam moÅ¼e byÄ‡ obiekt, a moÅ¼e to teÅ¼ byÄ‡ teÅ¼ sam url. 

**ÅK:** Tak, ja wtedy Åºle zrobiÅ‚em. 

**SW:** DomyÅ›lam siÄ™, Å¼e chciaÅ‚eÅ›, co innego zrobiÄ‡. 

**ÅK:** Tak, co innego, wiÄ™c to teÅ¼ pokazuje, Å¼e trzeba trzeba myÅ›leÄ‡.

**SW:** Jeszcze kontyunuujÄ…c ten caÅ‚y pomysÅ‚, Å¼e platformy sÄ… niedojrzaÅ‚e, to teÅ¼ powiedzieliÅ›my sobie, Å¼e mamy niedojrzaÅ‚e wzorce, platformy. ZostaÅ‚ jeszcze ostatni kawaÅ‚ek â€“ wdroÅ¼enia. Nie do koÅ„ca wiemy jak to zrobiÄ‡ dobrze. Wersjonowanie moÅ¼emy sobie w teorii zrobiÄ‡. Mam wraÅ¼enie, Å¼e jak patrzÄ™ na zespoÅ‚y, ktÃ³re myÅ›lÄ… jak to zdiplojowaÄ‡, to jeszcze jest takie chodzenie trochÄ™ po omacku, bo widzÄ…, Å¼e majÄ… duÅ¼e moÅ¼liwoÅ›ci, ale do koÅ„ca jeszcze nie wiedzÄ… jak je wykorzystaÄ‡. Testowanie, wdraÅ¼anie. Jeszcze jesteÅ›my na drodze wiedzy jak zdiplojowaÄ‡ A tam gdzie widzimy moÅ¼liwoÅ›ci jest fajne. Dla mnie jak widzÄ™ Serverlessy to jest uber fajnie diplojuje, przez jaki dÅ‚ugi czas. Akurat wyszedÅ‚ w ogÃ³le raport niedawno, Å¼e w kwartale byli chyba dwa miliardy w plecy. Trudno. Oni robili tak, Å¼e po prostu za kaÅ¼dym razem diplejowali nowy serwis w nowej wersji i jak ogarnialii temat czy ktoÅ› uÅ¼ywa tego serwisu. Przez monitoring. Co z tego, Å¼e postoi pÃ³Å‚ roku i nikt nie uÅ¼ywa. W Serverless jest tak, Å¼e jak nikt nie uÅ¼ywa to nie pÅ‚acimy. No pÅ‚acimy za storage, ktÃ³rego cena jest minimalna. I to jest to jest fenomenalny i chyba jedyny sposÃ³b na robienie takich prawdziwych mikroserwisÃ³w na poziomie organizacji, ktÃ³ra nie jest w skali Ubera.

**ÅK:** No coÅ› w tym jest, ale to podsumowujÄ…c CICD jest prosty dla pojedynczych instancji. W zaÅ‚oÅ¼eniu moÅ¼e byÄ‡ powtarzalny.

**SW:** MoÅ¼e byÄ‡, wersjonowanie moÅ¼e byÄ‡ teÅ¼ Å‚atwe, natomiast ogarniÄ™cie caÅ‚oÅ›ci systemu opartego na mikroserwisach, a szczegÃ³lnie w serverless juÅ¼ jest mocno nietrywialne. Wchodzimy w same problemy tylko mamy to podzielone w mniejsze instancje.

**ÅK:** Tak jak powiedziaÅ‚eÅ› o wersjach w nie, ktÃ³rym miejscu, no to zobacz przy wersjach, jeÅ¼eli zapniemy siÄ™ na tÄ™ samÄ… szynÄ™, zapniemy sobie dwie wersje usÅ‚ugi, czy walczenie potem to, co wspomniaÅ‚em o braku service discovery. Jak juÅ¼ zaczynasz, mÃ³wisz o tym o diplojowaniu nowej wersji z tym, no to juÅ¼ nie jest trywialne. 

**SW:** Canary deployment caÅ‚y jest mocno mocno nietrywialny. Mamy zrobione Å‚adnie Canary deployment na poziomie up serwisu, gdzie deployment sloty, tu juÅ¼ jest trochÄ™ gorzej. Taki dobry dobry deployment nie jest taki prosty. Dobra ponarzekaliÅ›my. Jakie sÄ… plusy?

**ÅK:** Czy wiesz, co to ja jeszcze moÅ¼e rzucÄ™ przed plusami, rzucÄ™ troszkÄ™ inny. To bÄ™dzie teraz moja perspektywa. Serverless musi stac siÄ™ commodity. 

**SW:** Oo temat, w ktÃ³rym siÄ™ trochÄ™ siÄ™ nie zgadzamy. Dobrze dobrze.

**ÅK:** Tak, bo to pewnie bÄ™dzie siÄ™ zdarzaÅ‚o. O co mi chodzi. Jest taki problem, Å¼e ci dostawcy majÄ… troszkÄ™ inne filozofie implementacyjne i to nie jest juÅ¼ to, co mogÄ™, jako architekt nazwaÄ‡ szczegÃ³Å‚em, detalem implementacyjnym. 

**SW:** Tak, co wiÄ™cej wraz z upÅ‚ywem czasu te pomysÅ‚y siÄ™ rozjeÅ¼dÅ¼ajÄ…. Durebul wyglÄ…da inaczej niÅ¼ step factions. Inny w ogÃ³le pomysÅ‚. Durebul jest w kodzie, step factions sÄ… deklaracyjne. 

**ÅK:** Niby jest ten no js framework Serverless, ale to teÅ¼ sÄ… inne filozofie. 

**SW:** On nie przykryje aÅ¼ takich rÃ³Å¼nic. 

**ÅK:** Tak, trzeba przepisywaÄ‡ kod.

**SW:** Tak, zgodzÄ™ siÄ™. ZgodzÄ™ siÄ™ z tym argumentem. Dla mnie jest, co innego, jeÅ¼eli wchodzimy w Serverless, to reszta systemu raczej bÄ™dzie, jako usÅ‚uga, wiÄ™c godzimy siÄ™ wender lockiem. Po prostu jest. Nie moÅ¼na byÄ‡ agnostycznym od platformy i oczekiwaÄ‡, Å¼e wszystkie fajne bÄ™dÄ… spÅ‚ywaÅ‚y. Jak siÄ™ odcinamy, to bierzemy delores common denominator i realnie mamy bardzo prosty interfejs i gadamy z najprostszÄ… bazÄ… danych i tak dalej. A tu po prostu wchodzimy w konkretnego vendora, korzystamy z tego jak on to robi, korzystamy z usÅ‚ug innych, ktÃ³re oferuje, ktÃ³re jak sam powiedziaÅ‚eÅ›, to sÄ… realne systemy Sercerlessowe i to jest coÅ›, z czym po prostu trzeba byÄ‡ okej. WiÄ™c masz racjÄ™. Ja mam trochÄ™ inne podejÅ›cie.

**ÅK:** Tak. Ja patrzÄ™ z takiego zrzutu bardziej teÅ¼ strategicznego na to, Å¼e wszyscy, kontenery, Kubernetes, wirtualki, staÅ‚y siÄ™ mocnym commodity.

**SW:** Tak bardzo mocno w tym kierunku idÄ…. DokÅ‚adnie.

**ÅK:** Tak Kubernetes tak tam ma swoje ten, ale jeÅ¼eli popatrzymy na czÄ™Å›Ä‡ aplikacyjnÄ…, nie mÃ³wiÄ…c o usÅ‚ugach w ogÃ³le tam, wokÃ³Å‚, bo nie oszukujmy siÄ™ najdroÅ¼szy, chociaÅ¼ i tak najdroÅ¼sza jest zawsze baza danych, to od tej strony aplikacyjnej no tak, kontenery, gdzieÅ› sÄ… najbardziej takie commodity teraz. 

**SW:** To moÅ¼e byÄ‡ temat na rozmowÄ™, czy pÃ³jdziemy w Serverlessa, czy Kubernetesa. Ta przyszÅ‚oÅ›Ä‡ jest ciekawa naprawdÄ™. NaprawdÄ™ nie wiem, gdzie to siÄ™ skoÅ„czy.

**ÅK:** Dobra to mÃ³wiÅ‚eÅ› o zaletach. 

**SW:** Ty miaÅ‚eÅ› jeden bardzo fajny argument do uÅ¼ycia Serverlessa.

**ÅK:** Tak dla mnie Serverless i to bÄ™dzie dla mnie krÃ³lem, czyli budowa NVP.

**SW:** W 100% siÄ™ zgadzam. JeÅ¼eli chodzi o prototypowanie, czas dostarczenia, Å¼eby pokazaÄ‡ coÅ› ludziom, pokazaÄ‡ biznesowi nasz system i inne rzeczy, przetestowaÄ‡ realne dziaÅ‚anie, no to sorry nie da siÄ™ zrobiÄ‡ nic szybciej. Po prostu siadasz, setapujesz projekt i lecisz.

**SW:** Tak i ja jeszcze zawÄ™Å¼Ä™ to, prototypowanie integracji z innymi systemami w formie NVP na szybko. Od groma przykÅ‚adÃ³w w ogÃ³le Derverlessa to jest na integracjÄ™, z czym, uwaga ze slackiem. Zrobienie webhooka, ktÃ³ry potem dalej przeprocesuje. To jest genialny przykÅ‚ad uÅ¼ycia i siÄ™ podpisuje rÄ™kami i nogami po tym.

**ÅK:** Tak to druga rzecz, ktÃ³rÄ… dobrze powiedziaÅ‚eÅ› przy kosztach. JeÅ›li nie dziaÅ‚a, nie pÅ‚acisz.

**SW:** PÅ‚acisz bardzo bardzo maÅ‚o za storage, ale tak. MoÅ¼na uproÅ›ciÄ‡, Å¼e nie pÅ‚acisz. 

**ÅK:** Nie pÅ‚acisz, ja mÃ³wiÄ™ o samym kodzie, jak trzymamy samÄ… czÄ™Å›Ä‡ aplikacyjnÄ…, bazodanÃ³wka to jest zupeÅ‚nie inna rzecz.

**SW:** ZgodzÄ™ siÄ™ i to jest fenomenalne, teÅ¼ moÅ¼e byÄ‡ ryzykowne, bo nagle moÅ¼emy obudziÄ‡ siÄ™ z takimi 30 fanction upami i no Å¼yjÄ…, niby za nie nie pÅ‚acimy albo pÅ‚acimy parÄ™ centÃ³w rocznie, Å¼e ktoÅ› moÅ¼e uÅ¼ywa i teraz co to wÅ‚aÅ›ciwie jest. To teÅ¼ moÅ¼e byÄ‡ ryzyko, wiÄ™c teÅ¼ nie naleÅ¼y siÄ™ zachÅ‚ysnÄ…Ä‡, ale zgadzam siÄ™. Ryzyko, Å¼e coÅ› Å¼yje i nie zostaÅ‚o ubite jest zawsze i to trzeba o takie rzeczy dbaÄ‡. Kosztowo to jest super idea.

**ÅK:** To jeszcze rzucÄ™ takie trochÄ™ odmienne, bo mÃ³wimy, Å¼e Å›wietne kosztowo, ale przy duÅ¼ym wykorzystaniu.


**SW:** Przy duÅ¼ym wykorzystaniu to kosztowo jest Å›wietne, ale, dla kogo innego, dla providera.

**ÅK:** Tak przy duÅ¼ym, ja chyba widziaÅ‚em takie wyliczenia, Å¼e tak powiem, to juÅ¼ jest skala fajna, bo to projekty, Å¼eby uÅ›wiadomiÄ‡, o jakim targecie mÃ³wiÄ™, tutaj mÃ³wiÅ‚em o przetwarzaniu danych, o generowaniu webhookÃ³w, o automatyzacji przy 50 000 - 60 000 uÅ¼ytkownikÃ³w. To sÄ… juÅ¼ fajniejsze skale, wiÄ™c to teÅ¼ bÄ™dzie moja perspektywa. Kiedy bÄ™dzie drogo. Tam byÅ‚o juÅ¼ w diabÅ‚y wywoÅ‚aÅ„ i jeszcze jak wziÄ…Å‚em, zaÅ‚oÅ¼yÅ‚em, pamiÄ™tam, Å¼e w kalkulacji zaÅ‚oÅ¼yÅ‚em, Å¼e ten kod nie bÄ™dzie optymalny, Å¼e bÄ™dzie trzeba poczekaÄ‡, to takie wywoÅ‚ania kosztujÄ… drogo. Rynek teÅ¼ pokazuje, Å¼e te kosmiczne liczby z kalkulatorÃ³w siÄ™ potwierdzajÄ…. ByÅ‚ znowu fajny tweet z jednej firmy, gdzie zeszli z Lambdy, z 32 tysiÄ™cy dolcÃ³w miesiÄ™cznie, Lambdy i API Gateway na pÃ³Å‚torej tysiÄ…ca za kilka wirtualek i dwa miesiÄ…ce pracy developerÃ³w, Å¼eby przepisaÄ‡ to i uÅ¼yÄ‡ tego modelu aktorowego rozproszonego.

**SW:** Ale to fajnie pokazuje i nawiÄ…zuje do tego, co mÃ³wiliÅ›my w poprzednim odcinku, Å¼e wpierw robimy NVP, patrzymy czy ktoÅ› tego uÅ¼ywa, jak tam jest z biznesem, czy to jest to czego chcieli, jak jest to przepisujemy.

**ÅK:** Albo zostawiamy, bo godzimy siÄ™ z kosztami, bo siÄ™ opÅ‚aca.

**SW:** Tak to jest decyzja biznesowa generalnie, czy zostaje czy nie zostaje. To co mÃ³wiÅ‚eÅ› teÅ¼ wczeÅ›niej good enough jest good enough.

**ÅK:** Tak.

**SW:** JeÅ¼eli biznes jest okej z pÅ‚aceniem 30 000, bo gdzieÅ› mogÄ… dalej uzyskaÄ‡ pÃ³Å‚ baÅ„ki, jest okej, nie ma co siÄ™ tym frustrowaÄ‡. Dobrze, ale czasami kopnie nas to, co mÃ³wiliÅ›my wczeÅ›niej â€“ limity. Tych limitÃ³w trochÄ™ jest i chyba warto byÅ‚oby o nich porozmawiaÄ‡ i skupiÄ‡ je w jednym worku. Co nas ogranicza?

**ÅK:** Dobra to taka pierwsza rzecz to byÅ‚o trochÄ™ z moim commodity. BiorÄ…c pod uwagÄ™ to, Å¼e narzucajÄ… nam filozofie.

**SW:** Tak ta filozofia jest, ale ona czasem jest dobra.

**ÅK:** Tak, nie jest zÅ‚a. Plusem tego bÄ™dzie wÅ‚aÅ›nie to, co powiedzieliÅ›my, zmuszenie do event-driven.

**SW:** Tak ogromny plus. 

**ÅK:** To jest ogromny plus przy de cloudowych i rozproszeniu. Zmusza nas do myÅ›lenia. Z Twojej strony?

**SW:** Z mojej strony tak patrzÄ…c na to, co siÄ™ dzieje czÄ™sto i co sÅ‚yszÄ™ na warsztatach to jest to, Å¼e czasami mamy potrzeby wgrania coÅ› wewnÄ™trznego z konfiguracji jakiegoÅ› podpisu i nagle zaciÄ…ganie tego miÄ™dzy rÃ³Å¼nymi usÅ‚ugami, jak mamy system korporacyjny one czÄ™sto wymagajÄ… rÃ³Å¼nych dziwnych zaleÅ¼noÅ›ci. Albo odpalenia jakiegoÅ› egzeka i tak dalej. I wtedy zaczyna byÄ‡ to takie karkoÅ‚omne. Rzumiem, czemu nie moÅ¼emy tego zrobiÄ‡, ale realnie czÄ™sto prowadzi do tego, Å¼e nie moÅ¼emy mieÄ‡ takiego czystego fasa.

**ÅK:** Tak jest tam, gdzieÅ› w filozofia, troszkÄ™ mi siÄ™ podoba rzeczy z AWS, jest Lambda liar, gdzie moÅ¼emy przynieÅ›Ä‡, ale tylko linuxowowÄ… binarkÄ™.

**SW:** Co nie dziwi mnie w AWS oczywiÅ›cie.

**ÅK:** Jest gdzieÅ› tutaj filozofia. Jest ta filozofia fajna, ale teÅ¼ nie jest przenaszalna, bo gro dziwnych komponentÃ³w.

**SW:** Tak ten Å›wiat siÄ™ mocno ewoluuje przez ostatnie 3 lata. WiÄ™c to bÄ™dzie coraz mniejszy problem bym powiedziaÅ‚.

**ÅK:** Tak, ale jest druga rzecz sieciÃ³wka.

**SW:** Tak TwÃ³j temat, ja nie jestem orÅ‚em.

**ÅK:** Tak, w zaleÅ¼noÅ›ci od platformy sposoby, brak prywatnego IP, brak moÅ¼liwoÅ›ci dobrego sfajerÅ‚olowania w niektÃ³rych przypadkach, bÄ…dÅº kombinowanie. No gdzieÅ› to boli, bo trzeba zmieniÄ‡ filozofiÄ™ myÅ›lenia o tym, w szczegÃ³lnoÅ›ci, Å¼e to siÄ™ znajduje zupeÅ‚nie poza naszÄ… kontrolÄ….

**SW:** Tak to prywatne IP, moÅ¼emy siÄ™ oburzaÄ‡, ale to czÄ™sto naprawdÄ™ ma sens z punktu widzenia korporacji. NaprawdÄ™ ma sens, tym bardziej, Å¼e powiedzieliÅ›my, Å¼e dostÄ™p do funkcji jest taki jaki jest. Sekret.

**ÅK:** Wiesz, co sprawdzÄ™ jednÄ… rzecz, bo nie przygotowaÅ‚em siÄ™ w tym, jak byÅ‚o w AWS, w Lambda, privateâ€¦ Tak jest privite. MajÄ… tam zupeÅ‚nie inne architektury. 

**SW:** Wszyscy teÅ¼ czÄ™sto siÄ™ dziwiÄ…, czemu musi byÄ‡ unikalna nazwa. Bo jest publiczny. Ale to teÅ¼ moÅ¼e ewoluowaÄ‡. Na chwilÄ™ obecnÄ… te limity sÄ… takie, jakie sÄ…. Dla mnie z zalet, bo trochÄ™ ponarzekaliÅ›my, jedyny case, kiedy realny jest przypadek, kiedy w mikroserwisach bÄ™dziemy mieli wiele jÄ™zykÃ³w w jednym systemie, oczywiÅ›cie tych wspieranych, bo nie oszukujmy siÄ™, czÄ™sto te caÅ‚e API nam powoduje to, Å¼e no sorry nie bÄ™dziemy mieli bÄ™dziemy mieli r-langa, Javy i wszystkiego innego w jednym systemie opartym na mikroserwisie. A tutaj faktycznie realnie mamy. Na tyle zostaÅ‚o duÅ¼o z platformÄ… odciÄ™te, jest poza naszymi moÅ¼liwoÅ›ciami, Å¼e zaczyna byÄ‡ realne posiadanie np. .NET tak ogÃ³lnie w jednej platformie. Co wiÄ™cej, z mojego punktu widzenia to jest nawet wskazane. Pewne rzeczy po prostu lepiej jest zrobiÄ‡ w node.

**ÅK:** Tak, moÅ¼na Å‚atwo wybraÄ‡ jÄ™zyk, ktÃ³ry potrzebujesz w zaleÅ¼noÅ›ci od tego, co potrzebujesz, czyli taki prosty kod szybki moÅ¼esz klepaÄ‡ w node bez problemu, a tam gdzie masz wiÄ™cej filozofii biznesowej, moÅ¼esz przenieÅ›Ä‡ sobie do CSharpa i tam siÄ™ tym bawiÄ‡, czy moÅ¼esz rÃ³wnie dobrze wymieszaÄ‡, tam jeszcze Pythona, dorzuciÄ‡ nutkÄ™ Javy i bÄ™dzie to moÅ¼e jakoÅ› dziaÅ‚aÅ‚o. Ja czekam aÅ¼ golang trochÄ™ mocniej bÄ™dzie wspierany, bo to bÄ™dzie w paru miejscach, moÅ¼e byÄ‡ ciekawe.

**SW:** Chyba Google wspiera terazâ€¦

**ÅK:** Tak, to w AWS teÅ¼ jest. W Azure, w dwÃ³jce dzieje siÄ™. Jest informacja na temat trwajÄ…cego privite preview. Ono jest za zamkniÄ™tymi drzwiami, ale teÅ¼ tam dzieje siÄ™ dodanie do tego, wiÄ™c to doÅ›Ä‡ ciekawie teÅ¼ wyglÄ…da.

**SW:** BÄ™dzie ewaluowaÅ‚o, ale to jest fajny przypadek dla firm, ktÃ³re nie sÄ… Uberem, Googlem, i tak dalej. MoÅ¼emy faktycznie mieÄ‡ wielotechnologiczny stos jedyny.  Dobra chyba podsumowujemy dyskusjÄ™.


**ÅK:** Ty zaczniesz?

**SW:** MogÄ™ zaczÄ…Ä‡. Dla mnie punkt pierwszy Serverless to jest godzenie siÄ™ z wenderlockiem. Obchodzenie tego nie ma sensu, bo nie wykorzystanie czegoÅ› takiego jak turbo factions czy step factions, zaleÅ¼y, w ktÃ³rÄ… platformÄ™ pÃ³jdziemy jest slabym pomysÅ‚em. PogÃ³dÅºmy siÄ™ z tym faktem i lecimy dalej tak naprawdÄ™. Co u Ciebie?

**ÅK:** Dobra to ja trochÄ™ tak jak podszedÅ‚em tez z NVP. To jest najwiÄ™ksza zaleta. JeÅ¼eli trzeba coÅ› zrobiÄ‡ nowego, to jest to Å›wietny sposÃ³b do prototypowania czy teÅ¼ dodawania do nowych funkcjonalnoÅ›ci, w szczegÃ³lnoÅ›ci jak zrobiliÅ›my jakiÅ› lift-and-shift aplikacji, bo jest to przez providerÃ³w cloudowych bardzo promowane, zrÃ³b pan lift-and-shift wirtualki i systemu, monolitu i innych rzeczy i rozbudowywanie tego o nowe funkcjonalnoÅ›ci.

**SW:** Zgadzam siÄ™, jak najbardziej.  To ja od siebie coÅ› dorzucÄ™. To, co chyba obaj mÃ³wiliÅ›my, nakÅ‚anianie do dobrych wzorcÃ³w. Microsoft miaÅ‚ teÅ¼ takie podejÅ›cie nakÅ‚aniania do dobrych praktyk. PÃ³jdÅºmy do tego pitfola, bo tam jest duÅ¼o fajnych skarbÃ³w i dobra architektura, Å‚atwo moÅ¼na to zrobiÄ‡ i jest bardzo fajne wsparcie do robienia systemu dobrze. Ta platforma nagradza dobrÄ… architekturÄ™. To jest pierwszy chyba taki case jak patrzÄ™ tak wstecz na caÅ‚Ä… historiÄ™ IT, ktÃ³ra siÄ™ wokÃ³Å‚ niej obracaÅ‚a.

**ÅK:** Dobra to lecÄ…c po Twoim, modelowanie, czyli Å›wiadome bÄ™dÄ… te nanoserwisy i inne rzeczy w niektÃ³rych miejscach, trzeba siÄ™ pogodziÄ‡, ale Å›wiadome ich modelowanie, Å¼e to jest bardzo istotna rzecz, Å¼e musimy Å›wiadomie to modelowaÄ‡, w jaki sposÃ³b to bÄ™dzie budowane, troszkÄ™ te Å‚aÅ„cuchy wywoÅ‚aÅ„, zastanowiÄ‡ siÄ™ czy przypadkiem nie moÅ¼na tego porozbijaÄ‡, czy ten kod musi byÄ‡. Tutaj akurat dochodzisz do factions te fasy nie muszÄ… mieÄ‡ tak dÅ‚ugiego kodu jak mÃ³wiliÅ›my o mikroserwisach. To jest inny przypadek, wiÄ™c tu jesteÅ›my nagradzani za to, Å¼e tak kody bÄ™dÄ… zwiÄ™zÅ‚e i dobrze jest robiÄ‡ offloading do innych usÅ‚ug, ktÃ³re sÄ… juÅ¼, bo czÄ™sto ten kod teÅ¼ siÄ™ integruje z innymi rzeczami. WiÄ™c wÅ‚aÅ›nie modelowanie, nanoserwisy, Å¼eby pomyÅ›leÄ‡, jak to zrobiÄ‡.

**SW:**  Zgadzam siÄ™ jak najbardziej. Ja na koniec rzucÄ™ jeszcze ostatni taki trochÄ™ zadzior. Jestem ciekawy i Ty chyba teÅ¼ jesteÅ› ciekawy bardzo mocno, jak siÄ™ bÄ™dzie miaÅ‚ Serverless do serwis nasza, bo trochÄ™ Service mesh. TrochÄ™ Dervice mesh coraz bliÅ¼ej tego tematu of loadingu, szczegÃ³lnie, jeÅ¼eli chodzi o Kubernetesa, weÅºmiemy Service Fabric Microsoft, zaczyna byÄ‡ coraz bliÅ¼ej, wiÄ™c to moÅ¼e byÄ‡ bardzo ciekawe poÅ‚Ä…czenie i gdzie siÄ™ skoÅ„czy za rok, dwa, jak to bÄ™dzie wyglÄ…daÅ‚o. Trzeba bÄ™dzie uwaÅ¼aÄ‡.

**ÅK:** Tak. Serverless jest gdzieÅ› tÄ… architekturÄ… na najbliÅ¼sze lata. PodejÅ›cie jest dobre, bo zmusza nas do skupienia siÄ™ na kodzie, a nie na platformie wreszcie. A to jest duÅ¼y plus.

**SW:** To, co tyle. 

**ÅK:** Tyle.

**ÅK:** KoÅ„czymy.

**SW:** KoÅ„czymy. To do kolejnego.

**ÅK:** Na razie.

**SW:** Na razie.
