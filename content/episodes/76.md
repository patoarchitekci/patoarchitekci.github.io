---
title: '#76 Patoarchitekci Short #28
'
date: 2023-05-26T08:00:00+02:00
episode: "76"
tags: ["kafka", "chmura", "architektura"]
description: ""

# Jekyll compatibility fields (zachowane dla innych systemÃ³w)  
spreaker: 53994352.3
apple: "patoarchitekci-short-28/id1477067604?i=1000614562177"
spotify: "https://open.spotify.com/episode/1Ch9F61x9YmgMtYPe9HH78"
youtube: "https://www.youtube.com/watch?v=-T2gAlp34tE"

# Hugo fields  
youtube_id: "-T2gAlp34tE"
youtube_url: "https://www.youtube.com/embed/-T2gAlp34tE?enablejsapi=1"

# Social media images (poprawione nazwy)
og_landscape: "/img/76-landscape.webp"
og_square: "/img/76-square.webp"

# Intro for episode
intro: |
  Patoarchitekci #76 Â - tym razem o CloudFlare, Booking.com, czy Coinbase ma racjÄ™ odnoÅ›nie Datadoga - oraz Redpanda vs. Kafka!Â 
  

# Links for the episode
links:
  - title: "GitHub - bigcode-project/starcoder: Home of StarCoder: fine-tuning &amp;amp; inference!"
    url: "https://github.com/bigcode-project/starcoder"
  - title: "How Booking.com Searches Through Millions of Locations in Milliseconds"
    url: "https://blog.quastor.org/p/bookingcom-searches-millions-locations-milliseconds?utm_source=pocket_saves"
  - title: "Cloudflare Queues: messages at your speed with consumer concurrency and explicit acknowledgement"
    url: "https://blog.cloudflare.com/messages-at-your-speed-with-concurrency-and-explicit-acknowledgement/"
  - title: "Fleet Management at Spotify nullPart 3): Fleet-wide Refactoring - Spotify Engineering : Spotify Engineering"
    url: "https://engineering.atspotify.com/2023/05/fleet-management-at-spotify-part-3-fleet-wide-refactoring/"
  - title: "Managing concurrency in Blob storage - Azure Storage  "
    url: "https://learn.microsoft.com/en-us/azure/storage/blobs/concurrency-manage"
  - title: "Datadogâ€™s $65M/year customer mystery solved - The Pragmatic Engineer"
    url: "https://blog.pragmaticengineer.com/datadog-65m-year-customer-mystery/"
  - title: "Kafka vs Redpanda Performance - Do the claims add up? &amp;mdash; Jack Vanlightly"
    url: "https://jack-vanlightly.com/blog/2023/5/15/kafka-vs-redpanda-performance-do-the-claims-add-up"
  - title: "Avoid batch jobs! Model the future!"
    url: "https://www.youtube.com/watch?v=oKq_ZsfrFfs&ab_channel=CodeOpinion"
  - title: "Datadogâ€™s $65M Bill and Why Developers Should Care"
    url: "https://thenewstack.io/datadogs-65m-bill-and-why-developers-should-care/"
  - title: "#27 Patologie MikroserwisÃ³w - Repozytoria - Patoarchitekci"
    url: "https://patoarchitekci.io/27/"
  - title: "Github Copilot and ChatGPT alternatives - The Pragmatic Engineer"
    url: "https://blog.pragmaticengineer.com/github-copilot-alternatives/"

# Newsletter content (zachowane dla kompatybilnoÅ›ci)
newsletter: |
  CzeÅ›Ä‡! ğŸ‘‹ âœ¨
  
  Patoarchitekci #76 Â - tym razem o CloudFlare, Booking.com, czy Coinbase ma racjÄ™ odnoÅ›nie Datadoga - oraz Redpanda vs. Kafka!Â 
  
  
  
  
  ## Odcinek na stronie i materiaÅ‚y do niego â¬‡ï¸
  
  â¡ï¸ [OdsÅ‚uchaj na stronie](https://patoarchitekci.io/76)
  â¡ï¸ [Spotify](https://open.spotify.com/episode/1Ch9F61x9YmgMtYPe9HH78)
  â¡ï¸ [Apple Podcasts](patoarchitekci-short-28/id1477067604?i=1000614562177)
  â¡ï¸ [YouTube](https://www.youtube.com/watch?v=-T2gAlp34tE)
  
  ## Short & Sweet
  

  ### ğŸ¤ DoÅ‚Ä…cz do Discord ğŸ‘‰ [https://discord.gg/78zPcEaP22](https://discord.gg/78zPcEaP22)
  
  ### ğŸ¢ Patron odcinka
  SÅ‚uchasz PatoarchitektÃ³w dziÄ™ki PROTOPII â€“ firmie, w ktÃ³rej Åukasz i Szymon dziaÅ‚ajÄ… na co dzieÅ„, wspierajÄ…c zespoÅ‚y IT na kaÅ¼dym etapie: od projektowania, przez wdroÅ¼enia i migracje, aÅ¼ po optymalizacjÄ™ i zabezpieczenia. Oferujemy teÅ¼ mentoring i szkolenia dostosowane do potrzeb kaÅ¼dej firmy, niezaleÅ¼nie od wielkoÅ›ci. SprawdÅº nas: [protopia.tech](https://protopia.tech/)
  
  PS. Masz pytania? Pisz Å›miaÅ‚o po drugiej stronie to nie bot na bazie GPT czy Claude ğŸ˜
---

**Szymon Warda**: CzeÅ›Ä‡, SÅ‚uchacie PatoarchitektÃ³w. ProwadzÄ… Szymon Warda... 

**Åukasz KaÅ‚uÅ¼ny**: ...I Åukasz KaÅ‚uÅ¼ny. Wszystkie linki do tego odcinka znajdziecie na Patoarchitekci.io tym razem /76 albo gdzieÅ› w tym playerze, w ktÃ³rym sÅ‚uchacie na dole w opisie. No dobra, Szymonie, to zacznijmy od tego tajemniczego, bo jestem ciekawy. Szymon mi schowaÅ‚ jakiegoÅ› linka i nie powiedziaÅ‚... To co dzisiaj bÄ™dzie?

**Szymon Warda**: To ja Ci powiem takÄ… sytuacjÄ™. No nie? IdÅºmy. Problem, rozwiÄ…zanie. Chcemy takÄ… sytuacjÄ™ mieÄ‡, Å¼eby mieÄ‡ jasny ownership. Kto zarzÄ…dza jakimÅ› konkretnym repo. Idziemy sobie w repo per powiedzmy serwis, rozdzielamy te repa, wiemy kto odpowiada. I w tym momencie mamy problem. Problem jaki jest? Jak wprowadzamy globalne zmiany. No nie? CiÄ™Å¼ko, nagle musimy dziesiÄ…tki, setki, tysiÄ…ce PRÃ³w robiÄ‡ w rÃ³Å¼nych repach, to koordynacja tego jest trudna. Jakie mamy rozwiÄ…zanie, moÅ¼emy to zautomatyzowaÄ‡. Na przykÅ‚ad zaÅ‚Ã³Å¼my - moÅ¼emy sobie stworzyÄ‡ obraz dockerowy, ktÃ³ry korzystajÄ…c z tooli linuksowych, z takich normalnych tooli do modyfikacji tekstu... BÄ™dzie nam automatycznie wprowadzaÅ‚ te zmiany. Dobra, temat jest - problem tej samej, takiej natury - jak namierzyÄ‡... Gdzie sÄ… jakieÅ› zaleÅ¼noÅ›ci i jak na takiej duÅ¼ej iloÅ›ci repo wprowadziÄ‡ te zmiany, no to mamy rozwiÄ…zanie. MoÅ¼emy sobie uÅ¼yÄ‡ Java BOM - Bill of Materials generalnie, Å¼eby okreÅ›liÄ‡ ktÃ³re repo co wykorzystuje i moÅ¼e obsÅ‚uÅ¼yÄ‡ Kubernetesa i tam disclosure Å¼e poda tego obrazu dockerowego, ktÃ³ry bÄ™dzie te zmiany wprowadzaÅ‚ na tych setkach, tysiÄ…cach rep. I tworzyÅ‚ pull requesty, no nie? Ale nagle jest problem, bo nagle mamy setki tysiÄ…ce pull requestÃ³w w rÃ³Å¼nych repach i nagle koordynacja tego jest trudna, czyli duÅ¼o roboty ludzkiej.

**Szymon Warda**: No dobra, takie mamy rozwiÄ…zanie. To sÄ… oczywiÅ›cie autoPRy, Å¼e wystawiamy PRa, potem go automatycznie mergujemy, nie.

**Åukasz KaÅ‚uÅ¼ny**: JeÅ¼eli sÄ… testy.

**Szymon Warda**: I caÅ‚oÅ›Ä‡ brzmi mega skomplikowanie. Å»eby nie byÅ‚o, Å¼e to jest w ogÃ³le coÅ› wymyÅ›lone przeze mnie, to jest to artykuÅ‚ od Spotify'a.

**Åukasz KaÅ‚uÅ¼ny**: Znaczy wiesz co, z drugiej strony wiem jak to... Od tam... Ty teÅ¼ wiesz, od znajomych, jak to dziaÅ‚a w Google'u i Å¼e takie mechanizmy tam dziaÅ‚ajÄ… zajebiÅ›cie, ale w Monorepo.

**Szymon Warda**: WÅ‚aÅ›nie.

**Åukasz KaÅ‚uÅ¼ny**: WÅ‚aÅ›nie.

**Szymon Warda**: WÅ‚aÅ›nie tu chodzi o to, teraz Å¼eby daÄ‡ liczbÄ™. Spotify w ten sposÃ³b w 2022 roku ogarnÄ…Å‚ 270 tysiÄ™cy pijarÃ³w, z czego 77 byÅ‚o automergem. I teraz moje pytanie, jest teraz takie, bo caÅ‚y proces wyglÄ…da bardzo imponujÄ…co, ale modyfikowanie zaleÅ¼noÅ›ci korzystajÄ…c z tooli linuksowych i w tym automatyzacja... Czy oni sobie nie stworzyli problemu sami z siebie? Bo wydaje mi siÄ™, Å¼e siÄ™ wkopali w doÅ‚ek, wÅ‚aÅ›nie powiedziaÅ‚eÅ›... Monorepo by to rozwiÄ…zaÅ‚o bez wiÄ™kszego problemu. A nagle mamy problem tej synchronizacji, mamy backstage'a, ktÃ³ry koordynuje co siÄ™ gdzie wywaliÅ‚o. Jak dziaÅ‚a i tak dalej... Absurdalny wrÄ™cz narzut pracy na problem, ktÃ³ry moÅ¼na rozwiÄ…zaÄ‡ po prostu ludzko, Å‚atwiej.

**Åukasz KaÅ‚uÅ¼ny**: Tak. Druga sprawa wiesz, to jest teÅ¼... Czasami w zaleÅ¼noÅ›ci jak wyglÄ…dajÄ… i zbudowane zaleÅ¼noÅ›ci sÄ… paczki i inne rzeczy. DuÅ¼o ludzi czÄ™sto ma przy pewnych rzeczach wstrÄ™t do publikowania wewnÄ™trznych paczek.

**Szymon Warda**: Nie wiem, czemu. To jest w ogÃ³le podstawa.

**Åukasz KaÅ‚uÅ¼ny**: Ale w sensie bo kojarzysz, Å¼e jest bardzo czÄ™sto - sklonujmy repo i sobie zbudujmy tÄ… binarkÄ™, bibliotekÄ™, whatever. ZaciÄ…gnijmy. A sÄ… mechanizmy czy to jak pÃ³jdziemy sobie na githuba, ten Dependabot czy inne, ktÃ³re na tej podstawie potrafiÄ… to zrobiÄ‡ automatem.

**Szymon Warda**: Tak. Tylko Å¼e Dependabot podbije w repo na... Bo to wÅ‚aÅ›nie w konteÅ›cie repo. A to chodzi o odbicie tego globalnie, wszÄ™dzie, Å¼eby zaleÅ¼noÅ›ci byÅ‚y spÃ³jne.

**Åukasz KaÅ‚uÅ¼ny**: Czyli publikujesz nowÄ… wersjÄ™ paczki i to Ci siÄ™ rozprowadza po de facto organizacji.

**Szymon Warda**: Tak. Tylko najpierw musisz skoordynowaÄ‡ we wszystkich repach, czy wszyscy podbili. To jest ten problem, no nie.

**Åukasz KaÅ‚uÅ¼ny**: No to sÅ‚uchaj, wiesz, zawsze bÄ™dÄ… takie problemy.

**Szymon Warda**: Tak, ale zobacz, zaÅ‚Ã³Å¼my, Å¼e normalnie na poziomie pojedynczego repo mamy do tego toola, ktÃ³re dziaÅ‚ajÄ… i dziaÅ‚ajÄ… od dziesiÄ…tek lat. A jak nagle rozbijemy to zbyt granularnie, bo z caÅ‚ym szacunkiem... Ale wydaje mi siÄ™, Å¼e w Spotify'u zbyt granularnie to zrobili, Å¼e mimo tak absurdalnej iloÅ›ci rep, bo Å¼e potrzebujÄ… aÅ¼ takiej automatyzacji - i spÃ³jrz na prepaid, 270 tysiÄ™cy pijarÃ³w to jest duÅ¼o. I ciekawi mnie ile z tych pijarÃ³w jest na poziomie generalnie, Å¼e musimy wÅ‚aÅ›nie ten narzut na podbijanie w lewo i w prawo zaleÅ¼noÅ›ci. No nie. WiÄ™c ciekawy link. ArtykuÅ‚ dÅ‚ugi, naprawdÄ™ bardzo, bardzo dÅ‚ugi, warty do przeczytania i przemyÅ›lenia. Bym tak to powiedziaÅ‚.

**Åukasz KaÅ‚uÅ¼ny**: I zachÄ™cÄ™ jeszcze do naszego starego 27ego odcinka, bo go teraz wykopaÅ‚em pod tytuÅ‚em Patologie MikroserwisÃ³w - Repozytoria.

**Szymon Warda**: Tak, artykuÅ‚... On siÄ™ czyta, on ma sens, ale jak siÄ™ cofniemy chwilÄ™ do tyÅ‚u i powiemy czy to na pewno jest potrzebne? Nie, dla mnie, dla mnie zdecydowanie nie. I pozostaÅ‚e artykuÅ‚y wÅ‚aÅ›nie z tej serii teÅ¼ caÅ‚kiem sÄ… niezÅ‚e juÅ¼, do przeczytania tak naprawdÄ™.

**Åukasz KaÅ‚uÅ¼ny**: No, jestem wÅ‚aÅ›nie ciekaw.

**Szymon Warda**: Dobrze, teraz coÅ› Ty rzuÄ‡.

**Åukasz KaÅ‚uÅ¼ny**: Dobra, ja teraz rzucÄ™, a zacznijmy, bo marudzimy na KafkÄ™. KtoÅ› nam kiedyÅ› wspominaÅ‚ o Redpandzie.

**Szymon Warda**: PamiÄ™tam, byÅ‚o.

**Åukasz KaÅ‚uÅ¼ny**: DokÅ‚adnie i ktoÅ› tutaj stwierdziÅ‚, Å¼e sprawdzi w takim razie... Wykresy, ktÃ³rymi siÄ™ reklamujÄ….

**Szymon Warda**: O, jak miÅ‚o.

**Åukasz KaÅ‚uÅ¼ny**: PoszedÅ‚ Open Messaging Benchmark w ruch. I co siÄ™ okazaÅ‚o? Tutaj z takiego researchu jak sobie przejdziemy przez ten blog. Wpisy na tym blogu. To po pierwsze... Testy dla Redpandy nie znalazÅ‚y siÄ™ w repo Open Messaging Benchmark, tylko w forku. Taka ciekawostka. I druga sprawa, jakie sÄ… wnioski z tego? Jest tak, Å¼e moÅ¼na twierdziÄ‡, Å¼e w niektÃ³rych scenariuszach Redpanda jest szybsza. W niektÃ³rych Kafka na tym samym sprzÄ™cie.

**Szymon Warda**: Czyli no wiadomo, optymalizujemy pod pewien use case, jeÅ¼eli coÅ› optymalizujemy, to gdzieÅ› bÄ™dziemy gorsi. No, nie wyciÄ…gniemy szybkoÅ›ci, performance'u z kapelusza. No, to gdzieÅ› bÄ™dzie. Chyba, Å¼e napisaÅ‚eÅ› wszystko w Assemblerze, a w tym momencie koszt rozwoju tego bÄ™dzie znowu poÅ›wiÄ™cony, no nie oszukujmy siÄ™.

**Åukasz KaÅ‚uÅ¼ny**: Nie no, ale tak, no nie oszukujmy siÄ™, Å¼e niekiedy jak popatrzymy jak w niektÃ³rych jÄ™zykach optymalizatoyr dziaÅ‚ajÄ…, to przecieÅ¼...

**Szymon Warda**: Trzeba wybieraÄ‡, ktÃ³re walki trzeba wygrywaÄ‡. Nie ma sensu caÅ‚ego systemu pisaÄ‡ w assemblerze. Fragmenty majÄ… sens, caÅ‚oÅ›Ä‡ nie ma sensu, to siÄ™ po prostu nie opÅ‚aca. Tego nigdy nie skoÅ„czymy. Taka prawda.

**Åukasz KaÅ‚uÅ¼ny**: Tak, wiÄ™c same... RzucajÄ…c, tutaj jest pokazane... CaÅ‚y wpis. Redpanda nie jest tak piÄ™kna jak jÄ… malujÄ….

**Szymon Warda**: O dziwo marketing nie zawsze jest prawdziwy. Kto by pomyÅ›laÅ‚.

**Åukasz KaÅ‚uÅ¼ny**: Tak. I co ciekawe, Kafka, jest teÅ¼ duÅ¼o szczegÃ³Å‚Ã³w, wÅ‚aÅ›nie, jak Å¼e Kafka mogÅ‚a np. dobiÄ‡ dyski do koÅ„ca i wyczerpaÄ‡, czyli obiÄ‡ ich limit. Redpanda nie potrafiÅ‚a.

**Szymon Warda**: W ogÃ³le patrzÄ…c dalej w ten wpis, bo faktycznie wczeÅ›niej go nie widziaÅ‚em, to muszÄ™ powiedzieÄ‡ jedno, dobry wpis nie tylko w kontekÅ›cie Redpandy, ale w kontekÅ›cie teÅ¼ testowania w ogÃ³le systemÃ³w kolejkowych. NaprawdÄ™, pod tym wzglÄ™dem jest sensownie!

**Åukasz KaÅ‚uÅ¼ny**: Tak, jest. I w ogÃ³le to jest takie podsumowanie, bo tego jest jeszcze 6 - takich wpisÃ³w. Czyli to, co widzisz, to jest summary, a jest tam po kolei 6 linkÃ³w. Jak zejdziesz sobie na dÃ³Å‚, ktÃ³re to w ogÃ³le jeszcze rozkÅ‚adajÄ… dalej.

**Szymon Warda**: No tak, wÅ‚aÅ›nie tak scrollujÄ™ i tego jest duÅ¼o. NiezÅ‚e. NaprawdÄ™ niezÅ‚e. Dobrze. To teraz moÅ¼e ja czymÅ› zarzucÄ™. TrochÄ™ mÃ³wiliÅ›my jakiÅ› czas temu o copilocie, ChatGPT itd. Staramy siÄ™ wstrzymaÄ‡, ale copilot teÅ¼ nas interesuje. Nie pamiÄ™tam czy na przykÅ‚ad wspomnieliÅ›my o tym w podcaÅ›cie wÅ‚aÅ›nie, Å¼e jak waÅ¼ne stanie siÄ™ za chwilÄ™ posiadanie modeli onpremowych tak naprawdÄ™, ktÃ³re nie bÄ™dÄ… trenowane na danych, ktÃ³re nam wyciekÅ‚y, bo jest szansa jak wkleimy ten kod, Å¼e on jednak w tym modelu zostaje, bo siÄ™ uczy i potem siÄ™ inne rzeczy dziejÄ…. WiÄ™c fajny wpis z Practical Engineer... odnoÅ›nie porÃ³wnania rÃ³Å¼nych modeli, ale teraz do copilota i tak przeglÄ…dajÄ…c to trochÄ™ dokÅ‚adniej to w ogÃ³le... Przede wszystkim, od czego zaczniemy, na jakich wymiarach w ogÃ³le porÃ³wnujÄ™ i co ocenia w tabelce takiej Å‚adnej spisanej, na czym byÅ‚ trenowany, na jakich danych, czy jest opcja self-hosted, bo nie wszystkie muszÄ… mieÄ‡, czy moÅ¼na dostrajaÄ‡ do wÅ‚asnego kodu de facto. Tego, co mamy? Jaki jest poziom dojrzaÅ‚oÅ›ci, czy jest opensource i jaki jest cennik? I od razu nadmieniÄ™ - ta jego tabelka nie jest super dokÅ‚adna.

**Szymon Warda**: ZnalazÅ‚em przypadki, gdzie to siÄ™ trochÄ™ rozjeÅ¼dÅ¼aÅ‚o, Å¼e jak projekt mÃ³wi, Å¼e jest w alfie a on daje, Å¼e jest production-ready. WiÄ™c tak wÅ‚aÅ›nie rÃ³Å¼nie to bywa, prawda? CzÄ™sto widziaÅ‚em Alfy odpalane jako produkcjÄ™ i co wyglÄ…da fajnie? Faktycznie wyglÄ…da na to, Å¼e coraz wiÄ™cej modeli jest, ktÃ³re moÅ¼na odpalaÄ‡ - one z reguÅ‚y sÄ… pÅ‚atne. Dwa modele, ktÃ³re wyglÄ…dajÄ… fajnie. Tabnine - bo jest opensource'owy. On wÅ‚aÅ›nie jest pokazany jako production, ale na stronie repo i  na githubie jest, Å¼e uwaga uwaga to jest alfa. Tabnine i Codium... Generalnie to te dwa ostatnie sÄ… juÅ¼ pÅ‚atne, ale to doÅ›Ä‡ ciekawie wyglÄ…da, szczegÃ³lnie pod kÄ…tem potrzeby hostowania i uÅ¼ywania tego kodu na onpremie, Å¼eby te dane nie wyciekÅ‚y, bo sorry, sporo byÅ‚o akcji wÅ‚aÅ›nie, Å¼e coÅ› wyciekÅ‚o, bo ktoÅ› wkleiÅ‚ kawaÅ‚ek kodu i potem siÄ™ nagle gdzie indziej pojawia. Wydaje mi siÄ™, Å¼e zobaczymy takie modele czÄ™Å›ciej, chyba Å¼e dostawcy typu Microsoft i inni bÄ™dÄ… robili modele po prostu wydzielane. Po prostu jako self-hosted, to teÅ¼ jest jeden ze scenarisuzy.

**Åukasz KaÅ‚uÅ¼ny**: Tak, i patrzÄ…c siÄ™ jeszcze dorzucÄ™ jednÄ… takÄ… ciekawostkÄ™ do tego, a mianowicie Starcodera, czyli jest to kawaÅ‚ek tutaj modelu, LLMa wÅ‚aÅ›nie opensource'owego do generacji kodu.

**Szymon Warda**: Okej.

**Åukasz KaÅ‚uÅ¼ny**: I to teÅ¼ jest taka ciekawostka i posiada fine-tuning.

**Szymon Warda**: To jest waÅ¼ne, bo wÅ‚aÅ›nie te codebase'y bÄ™dÄ… siÄ™ od siebie rÃ³Å¼niÅ‚y. Czasem jak nie mamy tego codebase'u zbyt dobrego to moÅ¼e nie powinniÅ›my go finetunowaÄ‡, ale to tam bywa rÃ³Å¼nie. Ale wpis ogÃ³lnie warty chociaÅ¼by do zapoznania siÄ™, jak szeroki to jest rynek, bo to nie sÄ… pojedyncze modele. Tego jest tam chyba okoÅ‚o 12 - wymieniaÅ‚ z tych, ktÃ³re on znalazÅ‚. De facto. WiÄ™c krÃ³tki wpis, warto przynajmniej tÄ… tabelkÄ™ zobaczyÄ‡.

**Åukasz KaÅ‚uÅ¼ny**: Dobra, to teraz druga rzecz. Zawsze patrzymy, Å¼e rekrutacje do Big Techu zawsze opieraÅ‚y siÄ™ teÅ¼ o algorytmy i sprawdzanie - czy umiesz w algorytmy?

**Szymon Warda**: To sprawdza pewien sposÃ³b myÅ›lenia. Tak, dokÅ‚adnie.

**Åukasz KaÅ‚uÅ¼ny**: I tutaj nastÄ™pny przykÅ‚ad to wpis na temat struktur danych. W jaki sposÃ³b booking.com moÅ¼e tak szybko wyszukiwaÄ‡ oferty po lokalizacji? Jest tutaj fajny opis caÅ‚oÅ›ci - pokazujÄ…cy, jak ten feature sobie dziaÅ‚a i potem strukturÄ™ jakÄ… nakÅ‚adamy... Na mapie, czyli Quadtrees. W jaki sposÃ³b sÄ… budowane? To taki... Raczej obszerny, ale w miarÄ™ krÃ³tki, pokazujÄ…cy samÄ… logikÄ™, nie kodowanie takiego czegoÅ›. I to jest takie pokazanie, Å¼e sÄ… przypadki gdzie uÅ¼ywasz takich algorytmÃ³w i innych zabawek. JeÅ¼eli tworzysz czy Bloom Filters czy inne takie algorytmy, ktÃ³re trochÄ™ zmieniajÄ… Twoje myÅ›lenie na temat kodowania, rozwiÄ…zywania problemÃ³w.

**Szymon Warda**: Algorytmy subtelne warto znaÄ‡. Ja mam zawsze z nimi taki problem, Å¼e czasami sÄ… wciskiwane do kodu.

**Åukasz KaÅ‚uÅ¼ny**: Na siÅ‚Ä™.

**Szymon Warda**: Bo chce siÄ™ je pokazaÄ‡. Tak, to jest ryzyko a utrzymanie ich potem jest trudne. Tak prawdÄ™ powiedziawszy, jeÅ¼eli ktoÅ› dobije juÅ¼ do sÅ‚ownika to z reguÅ‚y to wystarcza. Ale zgadzam siÄ™ z TobÄ… w peÅ‚ni. Warto je znaÄ‡, bo dla wÄ…skich przypadkÃ³w nagle bÄ™dziemy mieli coÅ›, co nam zadziaÅ‚a kilka, kilkadziesiÄ…t, kilkaset razy lepiej niÅ¼ cokolwiek innego, co musimy mieÄ‡ z pudeÅ‚ka.

**Åukasz KaÅ‚uÅ¼ny**: Tak - I to nie jest znanie, Å¼e - kurde, potrafimy je wykodowaÄ‡ z pamiÄ™ci. Sorry, to podziwiam takich ludzi, ktÃ³rzy majÄ… to wypalone w mÃ³zgu.

**Szymon Warda**: A ja nie podziwiam, bo to jest znowu kolejne ryzyko. Lepiej wziÄ…Ä‡ coÅ›, co juÅ¼ kilka tysiÄ™cy ludzi przetestowaÅ‚o.

**Åukasz KaÅ‚uÅ¼ny**: Tak, wiesz, wypalone, ale chodzi o to, Å¼eby wiedzieÄ‡, Å¼e sÄ… gdzieÅ› takie a nie inne algorytmy i podejÅ›cia.

**Szymon Warda**: Tak, Å¼e pewna grupa problemÃ³w zostaÅ‚a juÅ¼ rozwiÄ…zana w pewien sposÃ³b i nie trzeba koÅ‚a od nowa wymyÅ›laÄ‡. DokÅ‚adnie, zgadzam siÄ™, fajny w ogÃ³le teÅ¼ wpis w kontekÅ›cie nawet oprawy graficznej i wyjaÅ›nienia - co, jak, gdzie wyglÄ…da. Nawet z samych rysunkÃ³w moÅ¼na sobie przypomnieÄ‡, czym sÄ… wÅ‚aÅ›nie Quadtrees.

**Åukasz KaÅ‚uÅ¼ny**: Dobra, co z Twojej strony jeszcze?

**Szymon Warda**: Z mojej strony jeszcze kilka rzeczy takich trochÄ™ short and sweet. Rzeczy, ktÃ³re mnie w sumie - mamy, jednak link, co mamy wspÃ³lny tak naprawdÄ™. Ale z takich rzeczy short and sweet to sÄ…... CloudFlare wypuÅ›ciÅ‚ w swojej ofercie kolejki, zwykÅ‚e kolejki, na razie bez patcha i tak dalej. Na razie to jest wszystko w alfie, ale tak dla przypomnienia - CloudFlare ma usÅ‚ugÄ™ hostowania, ma bazÄ™, ma bazÄ™ relacyjnÄ…, bazÄ™ obiektowÄ….

**Åukasz KaÅ‚uÅ¼ny**: ObiektowÄ….

**Szymon Warda**: Ma teraz kolejki, to staje siÄ™...

**Åukasz KaÅ‚uÅ¼ny**: To peÅ‚noprawne on-the-edge, peÅ‚noprawna platforma.

**Szymon Warda**: Tak, znaczy wydaje mi siÄ™, Å¼e dla... Ostatnio rozmawiaÅ‚em z osobÄ…, ktÃ³ra ma po prostu swÃ³j wÅ‚asny serwis aplikacji generalnie.

**Åukasz KaÅ‚uÅ¼ny**: Mhm.

**Szymon Warda**: I tak realnie patrzÄ…c, to wÅ‚aÅ›nie on wchodziÅ‚ w AWSa. On tego nie potrzebuje. On tego AWSa w ogÃ³le nie potrzebuje, on spokojnie moÅ¼e wszystko oprzeÄ‡ na CloudFlarze, caÅ‚e swoje potrzeby, frontend i prosta baza danych.

**Åukasz KaÅ‚uÅ¼ny**: Znaczy wiesz co, jak robiÅ‚em stronÄ™ do streamingu konferencji Architektura i Kontenery to teraz uwierzytelnianie do materiaÅ‚Ã³w i tam inne rzeczy jest oparte wÅ‚aÅ›nie na CloudFlarze, bo byÅ‚o po prostu parÄ™ linijek, wysyÅ‚asz, zapominasz.

**Szymon Warda**: Tak - i to API w ogÃ³le, ktÃ³re zrobili, jest naprawdÄ™ przyjemne. Jest super proste, jest totalnie bez Å¼adnych wodotryskÃ³w, ale na zwykÅ‚e aplikacje wystarcza. Na Enterprise to w ogÃ³le nie ta bajka, ale na takie wykorzystywanie codzienne w zupeÅ‚noÅ›ci wystarcza.

**Åukasz KaÅ‚uÅ¼ny**: Na wszystkie side projecty i inne rzeczy Å›wietnie siÄ™ sprawdzi.

**Szymon Warda**: Tak, jestem ciekawy gdzie dalej siÄ™ CloudFlare rozwinie, bo wydaje mi siÄ™, Å¼e rozwinie siÄ™ taki wÅ‚aÅ›nie co powiedziaÅ‚eÅ›. Taki cloud on the edge i to moÅ¼e bardzo szybko, fajnie dziaÅ‚aÄ‡.

**Åukasz KaÅ‚uÅ¼ny**: Tu fajne wÅ‚aÅ›nie jest ten... Te ficzery Enterprisowe teÅ¼ mogÄ… wbrew pozorom siÄ™ bardzo szybko pojawiÄ‡. PatrzÄ…c siÄ™ na inne Offeringi ich.

**Szymon Warda**: MajÄ…, majÄ… duÅ¼o rzeczy w Enterprisowym kontekÅ›cie networkingu w ogÃ³le jako takiego.

**Åukasz KaÅ‚uÅ¼ny**: Tak, tylko Å¼e mÃ³wiÄ™, Å¼e w tym wÅ‚aÅ›nie edge'owym Offeringu moÅ¼e siÄ™ wiÄ™cej pojawiÄ‡.

**Szymon Warda**: Dobrze.

**Åukasz KaÅ‚uÅ¼ny**: I wspÃ³lny wpis... To zacznij, zacznij tÄ… podÅ›miechujkÄ™.

**Szymon Warda**: Znaczy nie wiem, czy to podÅ›miechujka. Znowu wpis od tego samego czÅ‚owieka, od ktÃ³rego byÅ‚ wpis odnoÅ›nie copilota, mianowicie wpis nazywa siÄ™ gÅ‚oÅ›no... Mianowicie... Kto zapÅ‚aciÅ‚ 65 milionÃ³w dolarÃ³w za Datadoga? I wydaje mi siÄ™, Å¼e siÄ™ zgodzimy z tym, Å¼e pierwszÄ… czeÅ›Ä‡ moÅ¼emy spokojnie olaÄ‡ tak naprawdÄ™, bo to jest ten caÅ‚y... Dochodzenie, kto zapÅ‚aciÅ‚.

**Åukasz KaÅ‚uÅ¼ny**: Tak. Powiedzmy, tak, kto to, przepraszam, bo to Coinbase...

**Åukasz KaÅ‚uÅ¼ny**: Coinbase.

**Åukasz KaÅ‚uÅ¼ny**: Coinbase. Za duÅ¼o trace'owaÅ‚.

**Szymon Warda**: Tyle potrzebowali. MoÅ¼e. Nie mi oceniaÄ‡ czy za duÅ¼o, ale faktycznie. Ale druga czÄ™Å›Ä‡ wpisu. Ja siÄ™... Zgadzamy siÄ™ co do tego wÅ‚aÅ›nie, Å¼e jest sensowna. Po pierwsze, bo na jaki stos siÄ™ przenieÅ›li? To jest jedna czÄ™Å›Ä‡, a druga... Jest ten magiczny algorytm. Kiedy warto pÃ³jÅ›Ä‡ w vendora, a kiedy nie. JeÅ¼eli koszty wewnÄ™trznego utrzymania, ludzi itd. SÄ… mniejsze niÅ¼ vendor, to oczywiÅ›cie bierzmy coÅ› wÅ‚asnego, ale czasami my moÅ¼emy pÅ‚aciÄ‡ jak za zboÅ¼e. Czasami vendor bÄ™dzie miaÅ‚ sens po prostu, bo wewnÄ™trznie byÅ‚oby droÅ¼ej.

**Åukasz KaÅ‚uÅ¼ny**: Ale zazwyczaj - Im wiÄ™ksza skala, tym vendor mniej siÄ™ opÅ‚aca.

**Szymon Warda**: Ale na starcie ten vendor to wÅ‚aÅ›nie zastrzyk wiedzy po prostu.

**Åukasz KaÅ‚uÅ¼ny**: Tak, dokÅ‚adnie. WiÄ™c trzeba teÅ¼ to piÄ™kne pokazanie rozÅ‚oÅ¼enia. Jedna rzecz, ktÃ³ra dla mnie jest ciekawa z tego wpisu, bo tutaj jest teÅ¼ potem ucieczka na... Z powrotem do wÅ‚asnych rozwiÄ…zaÅ„. I tutaj, tak jak Grafana i Prometeusz w ogÃ³le mnie nie zaskakujÄ…, o tak.

**Szymon Warda**: TeÅ¼ nie.

**Åukasz KaÅ‚uÅ¼ny**: Raczej jestem ciekaw, czy to jest Prometeusz, czy jakaÅ› inna odmiana. ByÄ‡ moÅ¼e czÄ™Å›ciowo komercyjna i to jest ciekawe.

**Szymon Warda**: Ale pewnie zaskoczyÅ‚y CiÄ™ logi.

**Åukasz KaÅ‚uÅ¼ny**: Tak, Ciebie teÅ¼ pewnie.

**Szymon Warda**: TeÅ¼. Click House.

**Åukasz KaÅ‚uÅ¼ny**: Tak.

**Szymon Warda**: Bo... I biorÄ…c pod uwagÄ™, Å¼e wziÄ™li GrafanÄ™, ktÃ³ra jest oczywistym wyborem. SwojÄ… drogÄ… nie ma tu rzeczy o tracingu, to mnie teÅ¼ zdziwiÅ‚o, to ja akurat strzelaÅ‚em, Å¼e to siÄ™ pojawi tu Loki tak naprawdÄ™.

**Åukasz KaÅ‚uÅ¼ny**: Wiesz co...

**Szymon Warda**: Albo Elastic.

**Åukasz KaÅ‚uÅ¼ny**: WÅ‚aÅ›nie Elastica albo Lokiego. MyÅ›laÅ‚em, Å¼e jak zaczÄ…Å‚em GrafanÄ™ to pytaniem byÅ‚o - Elastic czy Loki, chociaÅ¼ jakby byÅ‚ Elastic to pewnie byÅ‚yby w nim rÃ³wnieÅ¼ metryki.

**Szymon Warda**: Bardzo moÅ¼liwe, Å¼e tak. Tak, moÅ¼liwe, Å¼e byÅ‚oby tak.

**Åukasz KaÅ‚uÅ¼ny**: Dobra, ale Clickhouse jako rozwiÄ…zanie jest genialne, jeÅ¼eli chodzi o wydajnoÅ›Ä‡, ale zaskoczyÅ‚o mnie, Å¼e wpisuje siÄ™, bo nigdy od tej strony na to nie patrzyÅ‚em. Jako rozwiÄ…zanie do logÃ³w.

**Szymon Warda**: No wÅ‚aÅ›nie przeglÄ…dam, to wyglÄ…da ciekawie. Faktycznie. Wpis jest warty - gÅ‚Ã³wnie ta koÅ„cÃ³wka. Faktycznie do przejrzenia sobie na spokojnie. MoÅ¼na powiedzieÄ‡, Å¼e od obrazkÃ³w Grafany w dÃ³Å‚ to zaczyna byÄ‡ juÅ¼ wartoÅ›ciowy wpis. Jak dla mnie.

**Åukasz KaÅ‚uÅ¼ny**: Dobra. Ci, co nie wiedzÄ…, Clickhousik ma rosyjskÄ… duszÄ™, bo byÅ‚ na poczÄ…tku projektem Yandexa, ale zostaÅ‚ wyrzucony do open source'u.

**Szymon Warda**: I teÅ¼ Uber z niego korzysta. Tak swojÄ… drogÄ….

**Åukasz KaÅ‚uÅ¼ny**: Tak. Dobra - i ode mnie ostatnia rzecz, ktÃ³rÄ… miaÅ‚em. Jest sobie prezentacja Avoid batch jobs, model the future. Jest ciekawa rzecz pokazana, Å¼eby trochÄ™ zmieniÄ‡ myÅ›lenie, z takich czasami... z takich ficzerÃ³w korzystaÅ‚em, o ktÃ³rych jest tutaj mowa. Czyli Å¼eby planowaÄ‡ przyszÅ‚oÅ›Ä‡, a nie batch joby. I autor prezentacji pokazuje dwa takie przypadki. Sposoby, jak moÅ¼na unikaÄ‡. Pierwszy - pewnie Ci znany sposÃ³b na inteligentniejszych kolejkach, Å¼e moÅ¼emy wysÅ‚aÄ‡ opÃ³ÅºnionÄ… wiadomoÅ›Ä‡.

**Szymon Warda**: Przydaje siÄ™ czasami. Tak.

**Åukasz KaÅ‚uÅ¼ny**: Tak, Å¼e to jest jeden z ciekawych scenariuszy. OpÃ³Åºnimy wiadomoÅ›Ä‡. To jest pokazane, jako Å¼e zostaÅ„my przy modelu caÅ‚ym eventowym asynchronicznym i nie miejmy crona tylko nadajmy wiadomoÅ›Ä‡, ktÃ³ra zostanie przetworzona za x czasu.

**Szymon Warda**: Tam wewnÄ™trznie. Tam jest cron wewnÄ™trznie, nie oszukujmy siÄ™.

**Åukasz KaÅ‚uÅ¼ny**: Tak, ale jest to... W sensie nie ma go w naszym systemie.

**Szymon Warda**: DokÅ‚adnie, to jest... Oddajemy odpowiedzialnoÅ›Ä‡ do czegoÅ›, co juÅ¼ wiemy, wykorzystujemy. Nie musimy czegoÅ› nowego, nowego wprowadzaÄ‡.

**Åukasz KaÅ‚uÅ¼ny**: Tak. Druga rzecz, ktÃ³ra siÄ™ tam pojawia, to tak naprawdÄ™ przy atrybutach naszych obiektÃ³w, innych rzeczy dawaÄ‡ po prostu i reguÅ‚ach biznesowych sprawdzaÄ‡, czy one sÄ… speÅ‚niane czy nie, kiedy przychodzi faktyczne wykorzystanie, czyli jeÅ¼eli mamy coÅ›, co jest okreÅ›lone jakoÅ› time based, jeÅ¼eli wygaÅ›nie jakiÅ› czas, to Å¼eby sobie to po prostu weryfikowaÄ‡, a nie tam cronem sprzÄ…taÄ‡. A z drugiej strony - jeÅ¼eli coÅ› musi siÄ™ zadziaÄ‡ akcjÄ… i byÄ‡ zaschedulowane, to jest to po prostu opÃ³Åºniona wiadomoÅ›Ä‡.

**Szymon Warda**: Tak, poleganie na czymÅ› zewnÄ™trznym jest fajne. Mi siÄ™ przypomniaÅ‚o. OdnoÅ›nie opÃ³Åºnienia, bo czÄ™sto opÃ³Åºnienia zaÅ‚Ã³Å¼my sÄ… generowane jako pessimistic concurrency. Taka maÅ‚a rzecz, ktÃ³ra siÄ™ moÅ¼e komuÅ› przydaÄ‡. Mamy fajnÄ… obsÅ‚ugÄ™ pessimistic concurrency na blobach w Azurze. SwojÄ… drogÄ…. Tam i optimistic i pessimistic. I pessimistic jest robione tak, Å¼e nawet moÅ¼na by to wykorzystaÄ‡ jako mechanizm do pessimistic concurrency dla czÄ™Å›ci aplikacyjnej. MaÅ‚e, proste, moÅ¼e komuÅ› siÄ™ przydaÄ‡.

**Åukasz KaÅ‚uÅ¼ny**: Dobra, wrÃ³cÄ™ do tego linka, bo jest to do tej ciekawostki. Dobra, to chyba wszystko.

**Szymon Warda**: Wszystko, koÅ„czymy. Trzymajcie siÄ™.

**Åukasz KaÅ‚uÅ¼ny**: To trzymaj siÄ™, na razie.

