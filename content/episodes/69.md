---
title: '#69 Wprowadzenie do Event Sourcing z Oskarem Dudyczem
'
date: 2023-04-07T08:00:00+02:00
episode: "69"
tags: ["sourcing", "architektura", "it", "event"]
description: ""

# Jekyll compatibility fields (zachowane dla innych systemÃ³w)  
spreaker: 53460484
apple: "wprowadzenie-do-event-sourcing-z-oskarem-dudyczem/id1477067604?i=1000607816170"
spotify: "https://open.spotify.com/episode/79aJrKtwbNeUI6nLC0BzMI"
youtube: "https://www.youtube.com/watch?v=qSAIeqcIsso"

# Hugo fields  
youtube_id: "qSAIeqcIsso"
youtube_url: "https://www.youtube.com/embed/qSAIeqcIsso?enablejsapi=1"

# Social media images (poprawione nazwy)
og_landscape: "/img/69-landscape.webp"
og_square: "/img/69-square.webp"

# Intro for episode
intro: |
  Tym razem nasz goÅ›Ä‡ specjalny, Oskar Dudycz, przybliÅ¼y nam temat event sourcingu!
  

# Links for the episode
links:
  - title: "Simple patterns for events schema versioning"
    url: "https://event-driven.io/en/simple_events_versioning_patterns/"
  - title: "How to model event-sourced systems efficiently - Oskar Dudycz - DDD Europe 2022"
    url: "https://www.youtube.com/watch?v=gG6DGmYKk4I"
  - title: "Event Streaming is not Event Sourcing!"
    url: "https://event-driven.io/en/event_streaming_is_not_event_sourcing"
  - title: "Newsletter Oskara - Architecture Weekly"
    url: "https://www.architecture-weekly.com/"
  - title: "Optimistic concurrency for pessimistic times"
    url: "https://event-driven.io/en/optimistic_concurrency_for_pessimistic_times/"
  - title: "Szkolenie Kubernetes the Hard Way - 14.06.2022"
    url: "https://dolacz.architekturaikontenery.pl/szkolenie-kubernetes-the-hard-way-14-06-2023"
  - title: "Let&#39;s build event store in one hour!"
    url: "https://event-driven.io/en/lets_build_event_store_in_one_hour/"
  - title: "When not to use Event Sourcing?"
    url: "https://event-driven.io/en/when_not_to_use_event_sourcing/"
  - title: "Let&#39;s build the worst Event Sourcing system! - Oskar Dudycz - EventSourcing Live 2021"
    url: "https://www.youtube.com/watch?v=Lu-skMQ-vAw"
  - title: "Beginner&#39;s Guide to Event Sourcing  "
    url: "https://www.eventstore.com/event-sourcing"
  - title: "Versioning in an Event Sourced System"
    url: "https://leanpub.com/esversioning"
  - title: "Marten  "
    url: "https://martendb.io/"
  - title: "Event Versioning with Marten"
    url: "https://event-driven.io/en/event_versioning_with_marten/"
  - title: "Blog Oskara"
    url: "https://event-driven.io/en/"
  - title: "Event-driven startup - Alexey Zimarev"
    url: "https://zimarev.com/blog/event-sourcing/startup-story-1/"
  - title: "[KAFKA-2260] Allow specifying expected offset on produce - ASF JIRA"
    url: "https://issues.apache.org/jira/browse/KAFKA-2260"
  - title: "Never Lose Data Again - Event Sourcing to the Rescue!"
    url: "https://event-driven.io/en/never_lose_data_with_event_sourcing/"
  - title: "Event Store Blog"
    url: "https://www.eventstore.com/blog"
  - title: "Szkolenie Azure Kubernetes Service AKS Masterclass - 13.06.2023"
    url: "https://dolacz.architekturaikontenery.pl/szkolenie-azure-kubernetes-service-aks-masterclass-13-06-2023"
  - title: "GitHub - oskardudycz/EventSourcing.NetCore: Examples and Tutorials of Event Sourcing in .NET"
    url: "https://github.com/oskardudycz/EventSourcing.NetCore"
  - title: "EventStoreDB - the state-transition database for data-driven businesses"
    url: "https://www.eventstore.com/"
  - title: "DoÅ‚Ä…cz do Poznaj Terraform w przedsprzedaÅ¼y"
    url: "https://architekturaikontenery.pl/poznajterraform/?utm_source=patoarchitekci&utm_medium=ep69&utm_campaign=ptf_pre"
  - title: "Keep your streams short! Temporal modeling for fast reads and optimal data retention"
    url: "https://www.eventstore.com/blog/keep-your-streams-short-temporal-modelling-for-fast-reads-and-optimal-data-retention"

# Newsletter content (zachowane dla kompatybilnoÅ›ci)
newsletter: |
  CzeÅ›Ä‡! ğŸ‘‹ âœ¨
  
  Tym razem nasz goÅ›Ä‡ specjalny, Oskar Dudycz, przybliÅ¼y nam temat event sourcingu!
  
  
  
  
  ## Odcinek na stronie i materiaÅ‚y do niego â¬‡ï¸
  
  â¡ï¸ [OdsÅ‚uchaj na stronie](https://patoarchitekci.io/69)
  â¡ï¸ [Spotify](https://open.spotify.com/episode/79aJrKtwbNeUI6nLC0BzMI)
  â¡ï¸ [Apple Podcasts](wprowadzenie-do-event-sourcing-z-oskarem-dudyczem/id1477067604?i=1000607816170)
  â¡ï¸ [YouTube](https://www.youtube.com/watch?v=qSAIeqcIsso)
  
  ## Short & Sweet
  

  ### ğŸ¤ DoÅ‚Ä…cz do Discord ğŸ‘‰ [https://discord.gg/78zPcEaP22](https://discord.gg/78zPcEaP22)
  
  ### ğŸ¢ Patron odcinka
  SÅ‚uchasz PatoarchitektÃ³w dziÄ™ki PROTOPII â€“ firmie, w ktÃ³rej Åukasz i Szymon dziaÅ‚ajÄ… na co dzieÅ„, wspierajÄ…c zespoÅ‚y IT na kaÅ¼dym etapie: od projektowania, przez wdroÅ¼enia i migracje, aÅ¼ po optymalizacjÄ™ i zabezpieczenia. Oferujemy teÅ¼ mentoring i szkolenia dostosowane do potrzeb kaÅ¼dej firmy, niezaleÅ¼nie od wielkoÅ›ci. SprawdÅº nas: [protopia.tech](https://protopia.tech/)
  
  PS. Masz pytania? Pisz Å›miaÅ‚o po drugiej stronie to nie bot na bazie GPT czy Claude ğŸ˜
---

**Åukasz KaÅ‚uÅ¼ny**: CzeÅ›Ä‡ SÅ‚uchacie PatoarchitektÃ³w prowadzÄ… Åukasz KaÅ‚uÅ¼ny...

**Szymon Warda**: ...I Szymon Warda. Wszystkie linki do tego odcinka oczywiÅ›cie na patoarchitekci.io/69.

**Åukasz KaÅ‚uÅ¼ny**: No dobra Szymonie, to dzisiaj o czym? 

**Szymon Warda**: DziÅ› bÄ™dzie o event sourcingu, to chyba nasz ulubiony temat do nabijania siÄ™, ale dzisiaj bÄ™dzie w wersji powaÅ¼nej.

**Åukasz KaÅ‚uÅ¼ny**: Tak - i robimy wprowadzenie. WziÄ™liÅ›my osobÄ™, ktÃ³ra pomoÅ¼e nam dzisiaj i odpowie nam na nasze pytania, wÄ…tpliwoÅ›ci, rzeczy, z ktÃ³rych teÅ¼ siÄ™ nabijamy. ZaprosiliÅ›my osobÄ™, ktÃ³rÄ… u mnie w telefonie jest takÄ… wÅ‚aÅ›nie jeÅ¼eli chodzi o event sourcing albo trudne projekty, gdzie ktoÅ› chce rozwaÅ¼yÄ‡ event sourcing, to jest taki numer jeden w moim telefonie, Å¼eby zadzwoniÄ‡ albo napisaÄ‡... I jest z nami dzisiaj Oskar Dudycz. Oskar udziela siÄ™ bardzo sporo na temat event sourcingu, byÅ‚ ewangelistÄ… w event storze. Jest mainteinerem Martena, czyli event sourcingu dla dotneta z wykorzystaniem Postgress SQLa + tworzy duÅ¼o opensource'owych rzeczy, przykÅ‚adÃ³w i hejtuje trochÄ™ technologie pokazujÄ…c, Å¼e powinniÅ›my robiÄ‡ to proÅ›ciej i logiczniej. Co jest z naszym podejÅ›ciem bardzo zgodne, co do tego jak my widzimy technologiÄ™. CzeÅ›Ä‡ Oskarze!

**Oskar Dudycz**: CzeÅ›Ä‡! DziÄ™ki. AÅ¼ siÄ™ zarumieniÅ‚am. Bardzo Å‚adne wprowadzenie. DziÄ™kujÄ™ bardzo. Delikatnie ujÄ…Å‚eÅ› to, Å¼e gdzieÅ› tam siÄ™ pojawiam w Event Sourcingu. Ja juÅ¼ mam wraÅ¼enie, Å¼e niektÃ³rzy chyba tylko juÅ¼ w lodÃ³wce mnie widzÄ… jak otwierajÄ…, takÅ¼e...

**Szymon Warda**: Raczej jesteÅ› synonimem event sourcingu - jak siÄ™ wpisuje event sourcing, to siÄ™ pojawiasz Ty, tak. To siÄ™ zgadza.

**Åukasz KaÅ‚uÅ¼ny**: DokÅ‚adnie, jak i powoli EDA rÃ³wnieÅ¼, jak jeszcze jÄ… trochÄ™ pohejtujesz.

**Oskar Dudycz**: Ja siÄ™ Å›miejÄ™, Å¼e jestem wierzÄ…cym praktykujÄ…cym, takÅ¼e...

**Åukasz KaÅ‚uÅ¼ny**: Dobre.

**Szymon Warda**: To jak mamy mÃ³wiÄ‡ o event sourcingu? Teraz przejdziemy do konkretÃ³w. To w takim... WytÅ‚umacz event sourcing. Czy moÅ¼na tÅ‚umaczyÄ‡ event sourcing - jak dla piÄ™ciolatka albo dla biznesu? Jedna... to w sumie toÅ¼same, moÅ¼na powiedzieÄ‡, niemalÅ¼e.

**Oskar Dudycz**: OK. To najpierw pierwszym pytaniem, ktÃ³re mogÅ‚oby paÅ›Ä‡ jest... Czy wiesz jak dziaÅ‚a ksiÄ™gowoÅ›Ä‡? JeÅ›li odpowiedÅº by brzmiaÅ‚a tak, no to mÃ³gÅ‚bym od razu powiedzieÄ‡: to wiesz, jak dziaÅ‚a event sourcing. Ale Å¼eby nie iÅ›Ä‡ na Å‚atwiznÄ™, to event sourcing... Jest to wzorzec wytwarzania oprogramowania, w ktÃ³rym wynik kaÅ¼dej operacji biznesowej powinniÅ›my zapisaÄ‡. I co wiÄ™cej, przy podejmowaniu kolejnej decyzji powinniÅ›my pobraÄ‡ wszystkie te nasze poprzednie decyzje dla danego obiektu biznesowego, czyli po prostu nie wiem, uÅ¼ytkownika, koszyka zakupowego itd. I dopiero na tej podstawie uzyskaÄ‡ nasz stan wiedzy i podjÄ…Ä‡ kolejnÄ… decyzjÄ™ i zapisaÄ‡ kolejny fakt. No i tymi faktami sÄ… wÅ‚aÅ›nie zdarzenia. I nazwa event sourcing pochodzi z tego, Å¼e wÅ‚aÅ›nie zdarzenia sÄ… naszym ÅºrÃ³dÅ‚em prawdy. To tak wysokopoziomowo tak bym to mÃ³gÅ‚ powiedzieÄ‡. Nie wiem, czy to by biznes zrozumiaÅ‚, ale...

**Åukasz KaÅ‚uÅ¼ny**: No wÅ‚aÅ›nie to jest zawsze ciekawe. Z ksiÄ™gowoÅ›ciÄ… jest to chyba genialne porÃ³wnanie, Å¼e event sourcing jest jak wÅ‚aÅ›nie ksiÄ™ga przychodÃ³w i rozchodÃ³w peÅ‚na.

**Szymon Warda**: Tak, ale kto robiÅ‚ systemy ksiÄ™gowe - to gdzieÅ› tam stwierdzÄ…, Å¼e "a by edycja siÄ™ taka przydaÅ‚a", Å¼eby to zostaÅ‚o, ale ogÃ³lnie rzecz biorÄ…c tak.

**Oskar Dudycz**: Ja jak pracowaÅ‚em w module ksiÄ™gowym to nasz biznes nam mÃ³wiÅ‚, Å¼e moÅ¼emy robiÄ‡ co chcemy dopÃ³ki na koniec dnia siÄ™ wszystko zgadza.

**Åukasz KaÅ‚uÅ¼ny**: Tak, dobre. SÅ‚uchaj Oskar, a gdybyÅ›my zeszli bardziej technicznie do event sourcingu, czyli powiedzieliÅ›my sobie to jest ta prosta definicja. A dla osÃ³b, ktÃ³re jednak sÄ… techniczne, jak byÅ› zdefiniowaÅ‚ event sourcing?

**Oskar Dudycz**: To moÅ¼e teÅ¼ sprÃ³bujÄ™ najpierw od takiej prostej, rzekÅ‚bym nawet prostackiej definicji, czyli w tej najprostszej definicji technicznej. Event sourcing jest to wzorzec taki przechowywania danych, czyli mamy tam dwie struktury danych, zdarzenie, ktÃ³re jest tak jak mÃ³wiÅ‚em, jakimÅ› faktem biznesowym zapisanym po kaÅ¼dej operacji biznesowej, czyli po kaÅ¼dej logice i mamy strumieÅ„ zdarzeÅ„, gdzie strumieÅ„ to jest taka uporzÄ…dkowana sekwencja. No i kluczowym aspektem event soucingu jest takie coÅ› jak event store. I event store to jest wÅ‚aÅ›nie baza danych, to podkreÅ›lÄ™ - baza danych wÅ‚aÅ›nie do przechowywania zdarzeÅ„. No i event stories z zaÅ‚oÅ¼enia to sÄ… takie bazy klucz-wartoÅ›Ä‡, gdzie kluczem jest identyfikator strumienia. Czyli to moÅ¼na porÃ³wnaÄ‡ do zwykÅ‚ego klucza w bazie relacyjnej, a naszymi danymi jest po prostu sekwencja zdarzeÅ„. Czyli zamiast trzymaÄ‡ jeden spÅ‚aszczony stan no to trzymamy caÅ‚Ä… historiÄ™ tego, co siÄ™ wydarzyÅ‚o dla naszego obiektu. No i to tak wydaje mi siÄ™, to jest tak najproÅ›ciej, jakby to moÅ¼na byÅ‚o powiedzieÄ‡. Taka nawet trywalizacja nieco event sourcingu, ale w praktyce tak to wyglÄ…da.

**Åukasz KaÅ‚uÅ¼ny**: Jeszcze dopytamy siÄ™ o szczegÃ³Å‚y.

**Szymon Warda**: Tak, no bo mÃ³wiÅ‚eÅ› duÅ¼o o zdarzeniach. O to chodzi w event sourcingu. To teraz naturalnym elementem, ktÃ³ry jest de facto... Pytanie wchodzi. A jak siÄ™ do event sourcingu ma event-driven architecture. Czy jedno jest moÅ¼liwe bez drugiego? I w ktÃ³rÄ… stronÄ™ jest zaleÅ¼noÅ›Ä‡?

**Oskar Dudycz**: To rÃ³Å¼nie ludzie mÃ³wiÄ…. WedÅ‚ug mnie no to... Event sourcing jest jednym z wzorcÃ³w, ktÃ³re... Architektury opartej na zdarzeniach. Ale gdzieÅ› tam na granicach, powiedzmy event-driven architecture, bo event sourcing jest o tym jak najlepiej i jak najwydajniej rejestrowaÄ‡ i je potem utrwalaÄ‡ - te wszystkie wÅ‚aÅ›nie fakty, te zdarzenia, ktÃ³re siÄ™ wydarzyÅ‚y w naszym systemie. Z kolei event-driven architecture to jest jak Å‚Ä…czyÄ‡ ze sobÄ… poszczegÃ³lne elementy, jakiÅ› workflowÃ³w, procesÃ³w biznesowych, czyli event sourcing, to jest trwaÅ‚oÅ›Ä‡ danych, a z kolei Event-Driven Architecture skupia siÄ™ na tym, jak orkiestrowaÄ‡, Å‚Ä…czyÄ‡ ze sobÄ… poszczegÃ³lne fragmenty systemu przy pomocy zdarzeÅ„, czyli bardziej dane w ruchu niÅ¼ dane takie utrwalone.

**Åukasz KaÅ‚uÅ¼ny**: Czyli jak na to popatrzymy, to event sourcing jest bardziej wzorcem skÅ‚adowania danych niÅ¼ samym tym frontem, do ktÃ³rego wszyscy siÄ™ przyzwyczaili? W EDA, event-driven architecture.

**Oskar Dudycz**: Tak, zdecydowanie, no event sourcing... W kaÅ¼dym razie, w moim rozumieniu; gÅ‚Ã³wnie skupia siÄ™ na modelu zapisu, czyli jak najlepiej przeprowadziÄ‡ naszÄ… logikÄ™ biznesowÄ… i zapisaÄ‡ fakty i event sourcing i teÅ¼ event story dajÄ… moÅ¼liwoÅ›Ä‡ publikowania informacji o tym, Å¼e nowe zdarzenie siÄ™ pojawiÅ‚o. I to jest ten element, ktÃ³ry jest punktem styku z event-driven architecture. Ale wszystko, co potem siÄ™ dzieje to juÅ¼ tak naprawdÄ™ nie ma znaczenia, czy my mamy event sourcing, czy bazy relacyjne, czy bazy dokumentowe. Wszystkie te same problemy, czy teÅ¼ zalety architektur opartych na zdarzeniach bÄ™dÄ… takie same, niezaleÅ¼nie od tego, ktÃ³rego wzorca uÅ¼yjemy.

**Szymon Warda**: Czyli siÄ™ zgadzamy, jak najbardziej. Przez wiele lat robiliÅ›my dobrze, super.

**Åukasz KaÅ‚uÅ¼ny**: To jest teraz Oskar takie pytanie, ktÃ³re pewnie juÅ¼ nie raz usÅ‚yszaÅ‚eÅ›, bo ja chyba sam nawet... I w projekcie mieliÅ›my takÄ… kwestiÄ™ tÅ‚umaczÄ…cÄ… to wspÃ³lnie, czy wyobraÅ¼asz sobie, bo jak sÅ‚yszymy wÅ‚aÅ›nie event sourcing i jest ta EDA i ta caÅ‚oÅ›Ä‡... Jeszcze ludzie wyobraÅ¼ajÄ… sobie, Å¼e bÄ™dÄ… posiadali jeden duÅ¼y event store, ktÃ³rego wszyscy bÄ™dÄ… czytali, pisali. BÄ™dzie on uniwersalny i de facto dziÄ™ki temu tÄ… czÄ™Å›Ä‡ asynchronicznÄ…... TÄ… kolejkowoÅ›Ä‡ bÄ™dziemy w stanie jakoÅ› czÄ™Å›ciowo wyrzuciÄ‡ i zastÄ…piÄ‡ je po prostu takim event storem.

**Szymon Warda**: To teÅ¼ dorzucÄ™, Å¼e to jest jedna z takich promowanych czÄ™sto sÅ‚yszÄ™ na konferencjach wÅ‚aÅ›nie, Å¼e tak moÅ¼na zrobiÄ‡ de facto.

**Oskar Dudycz**: Wydaje mi siÄ™, Å¼e wiÄ™kszoÅ›Ä‡ z tego wywodzi siÄ™ z Kafki, ktÃ³rÄ… ja nie uwaÅ¼am za event store, w kaÅ¼dym razie nie w rozumieniu event sourcingowym, ale uwaga... Niestety teÅ¼ te narzÄ™dzia event sourcingowe np. Event Store DB; Tak naprawdÄ™ moÅ¼na sobie uruchomiÄ‡ kilka klastrÃ³w, ale takim domyÅ›lnym rozwiÄ…zaniem jest jednak uÅ¼ycie tego jednego event stora. WiÄ™c musimy odrÃ³Å¼niÄ‡ tutaj dobrÄ… praktykÄ™ od praktyki rzeczywistej i raczej dobrÄ… praktykÄ… jest to, Å¼eby jednak traktowaÄ‡ event sourcing jako wzorzec wewnÄ…trzmoduÅ‚owy. Ja go w ogÃ³le nie nazywam wzorcem architektonicznym. To jest design pattern. Wzorzec obsÅ‚ugi, przechowywania danych - to nie jest coÅ›, co powinniÅ›my z zaÅ‚oÅ¼enia aplikowaÄ‡ globalnie na wszystkie systemy, czyli tak jak wybieramy czy uÅ¼yjemy w tym module bazÄ™ dokumentowÄ… czy bazÄ™ relacyjnÄ…, czy key-value store, no to moÅ¼emy dodaÄ‡ do tego rÃ³wnania teÅ¼ event store i event sourcing, ale zdecydowanie nie uwaÅ¼am tego, Å¼e powinniÅ›my wspÃ³Å‚dzieliÄ‡, o ile nasze narzÄ™dzia na to nam pozwalajÄ…, Å¼e nie powinniÅ›my wspÃ³Å‚dzieliÄ‡ bazy, szczegÃ³lnie w takim systemie rozproszonym, bo jeÅ¼eli mamy monolit albo mniejszÄ… skalÄ™ no to ok, to moÅ¼emy tak zrobiÄ‡, ale.

**Szymon Warda**: Czyli w ramach moduÅ‚u de facto.

**Åukasz KaÅ‚uÅ¼ny**: Czyli podsumujemy, Å¼e wÅ‚aÅ›nie taki mikroserwis ma swÃ³j event store dedykowany, swojÄ… przestrzeÅ„. I tak jak przy kaÅ¼dym mikroserwisie przy tym mÃ³wimy, Å¼e jest wÅ‚aÅ›cicielem tych danych i tylko on ma dostÄ™p i odczyt do tej caÅ‚ej warstwy. A Å¼e technicznie ileÅ› tych event store'Ã³w poÅ‚oÅ¼ymy na jednym infrastrukturalnym rozwiÄ…zaniu; to jest zupeÅ‚nie oddzielna kwestia.

**Oskar Dudycz**: Tak, zdecydowanie. No i ja tutaj bym zalecaÅ‚ ogÃ³lnie te same praktyki, ktÃ³re stosujemy... Najlepsze... Co do tego jak dzieliÄ‡ i ukÅ‚adaÄ‡ w pudeÅ‚ka nasze bazy danych w klasycznym podejÅ›ciu.

**Szymon Warda**: To jeszcze jeden temat. WÅ‚aÅ›nie moÅ¼na powiedzieÄ‡, Å¼e trochÄ™ zaczÄ…Å‚eÅ›, ruszyÅ‚eÅ› go i niejako potwierdzasz naszÄ… szyderÄ™. Ale Å¼eby tak zadaÄ‡ pytanie wprost bardzo mocno, bo no... JuÅ¼ wiele lat siÄ™ nabijamy wÅ‚aÅ›nie. Event Sourcing na Kafce, tak czy nie?

**Oskar Dudycz**: No zdecydowanie nie.

**Szymon Warda**: O BoÅ¼e, wreszcie, ktoÅ› to potwierdziÅ‚!

**Oskar Dudycz**: To znaczy, ogÃ³lnie ja jestem, podkreÅ›lÄ™ od razu - disclaimer. Ja w ogÃ³le uÅ¼ywaÅ‚em Kafki. LubiÄ™ KafkÄ™. To jest bardzo fajne narzÄ™dzie.

**Szymon Warda**: Tak.

**Oskar Dudycz**: Ale nie do event sourcingu. I teraz dlaczego? Bo tak jak wspominaÅ‚em, event sourcing to jest o tym, jak trwale przechowywaÄ‡ dane no i ogÃ³lnie przez trwale to raczej mamy na myÅ›li bazÄ™ danych. I jeÅ¼eli patrzymy na KafkÄ™, to ona jest takÄ… bazÄ… danych... I jak moglibyÅ›my nazwaÄ‡ zapisywanie czegoÅ› w pliku tekstowym bazÄ… danych? W duÅ¼ym naciÄ…gniÄ™ciu rzeczywistoÅ›ci moglibyÅ›my tak powiedzieÄ‡. Przyjmijmy, zaÅ‚Ã³Å¼my optymistycznie, Å¼e ona jest w stanie trwale te dane przechowywaÄ‡. No to niestety, ale Kafka sama w sobie brakuje takich elementÃ³w, ktÃ³re byÅ›my oczekiwali od event store'a. No bo tak jak wspomniaÅ‚em, zaleÅ¼y nam na tym, Å¼eby trwale przechowywaÄ‡ dane, umiejscawiamy event sourcing raczej w modelu zapisu. Czyli powinno nam zaleÅ¼eÄ‡ na tym, Å¼ebyÅ›my byli w stanie podjÄ…Ä‡ decyzjÄ™ na bazie aktualnych danych, Å¼ebyÅ›my mieli gwarancjÄ™, Å¼e nikt w miÄ™dzyczasie nam tego stanu nie zmieniÅ‚. No ok, moÅ¼na sobie bez tego radziÄ‡, ale zdecydowanie to upraszcza. Jednak wiÄ™kszoÅ›Ä‡ programistÃ³w jest do tego przyzwyczajonych.

**Oskar Dudycz**: No i teraz tak: Kafka nie ma czegoÅ› takiego jak optymistic concurrency. Czyli optymistyczna zbieÅ¼noÅ›Ä‡. Jest taki ticket w Jirze, ktÃ³ry ma oznaczony bardzo niski priorytet i jest to od iluÅ› tam lat, wisi. WiÄ™c optymistyczna wspÃ³Å‚bieÅ¼noÅ›Ä‡ daje nam to gwarancjÄ™, Å¼e jeÅ¼eli dwie osoby zapisaÅ‚y w tym samym czasie, no to ta druga dostanie informacjÄ™, Å¼e to nie jest aktualny stan. W Kafce nie ma takiej moÅ¼liwoÅ›ci. No i teraz tak: strumienie. I tu i tu mamy strumienie. Z tym, Å¼e w Kafce nacisk jest na to, Å¼eby ona jak najefektywniej przenosiÅ‚a dane z jednego miejsca do drugiego. WiÄ™c one nie muszÄ… byÄ‡ takie granularne, bo powiedzmy mamy jakiÅ› topic czy teÅ¼ partycjÄ™ pod kÄ…tem moduÅ‚u, pod kÄ…tem rodzaju encji. No jak sobie to podzielimy, to juÅ¼ jest teÅ¼ dÅ‚uÅ¼sza dyskusja, ale raczej w event sourcingu to jeden strumieÅ„ zdarzeÅ„ powinien odpowiadaÄ‡ jednej instancji obiektu. Czyli tak mÃ³wiÄ…c w nomenklaturze bazy relacyjnej - jednemu wierszowi. Tylko Å¼e tu mamy caÅ‚Ä… historiÄ™ tego, co siÄ™ dla niego wydarzyÅ‚o. A w Kafce nie jesteÅ›my w stanie tego zrobiÄ‡ w prosty sposÃ³b, bo Kafka ma maksymalnÄ… liczbÄ™ partycji, czyli fizycznie, gdzie moÅ¼emy zagwarantowaÄ‡ kolejnoÅ›Ä‡ zdarzeÅ„, ktÃ³ra w event sourcingu jest kluczowa.

**Oskar Dudycz**: To w Kafce mamy 160 tysiÄ™cy partycji. W kaÅ¼dym razie na tyle, na ile ostatni raz patrzyÅ‚em, to 160 tysiÄ™cy w bazie danych rekordÃ³w. To jest raczej nieakceptowalne. MoÅ¼emy to hashowaÄ‡, jakoÅ›, umieszczaÄ‡ kilka rekordÃ³w na jednej partycji, ale z kolei w event sourcingu... Gdy przywracamy stan, powinniÅ›my pobraÄ‡ wszystkie zdarzenia, odbudowaÄ‡ nasz domyÅ›lny stan i na tej podstawie sobie podjÄ…Ä‡ kolejnÄ… decyzjÄ™. To tutaj jeÅ¼eli byÅ›my harowali, to musielibyÅ›my pobieraÄ‡ wszystkie inne rekordy i tak moÅ¼naby iÅ›Ä‡ w nieskoÅ„czonoÅ›Ä‡. Ja takiej dyskusji z jakimiÅ› ewangelistami Kafki miaÅ‚em duÅ¼o i koniec koÅ„cÃ³w to siÄ™ sprowadza, Å¼e no ok, sÄ… w stanie wymyÅ›liÄ‡ jakÄ…Å›... Taki domek z kart, gdzie moÅ¼na byÅ‚oby te definicje event sourcingu naciÄ…gnÄ…Ä‡, ale pytanie po co, skoro sÄ… do tego narzÄ™dzia, ktÃ³re sÄ… dedykowane i robiÄ… to dobrze, wiÄ™c...

**Åukasz KaÅ‚uÅ¼ny**: Dobra, realnie muszÄ™ Ci jednej rzeczy pogratulowaÄ‡, bo wpisaÅ‚em sobie, Å¼eby znaleÅºÄ‡ ten numerek. WpisaÅ‚em sobie wÅ‚aÅ›nie Kafka optimistic concurrency i jest w googlu na pierwszym miejscu TwÃ³j wpis, w ktÃ³rym to dwa lata temu hejtujesz. Ja sobie wziÄ…Å‚em ten ticket, sprawdziÅ‚em. No to dÅ‚ugo to wisi, bo juÅ¼ od 2015.

**Oskar Dudycz**: No wiÄ™c to wedÅ‚ug mnie to jest ok Å¼e tak wisi, bo dla mnie to pokazuje, Å¼e po prostu marketing mÃ³wi swoje, a specjaliÅ›ci techniczni mÃ³wiÄ… swoje i oni wiedzÄ…, Å¼e to dla nich to nie jest scenariusz uÅ¼ycia, ktÃ³ry oni chcÄ… promowaÄ‡. To, Å¼e marketing sobie promuje ten scenariusz, no to caÅ‚e szczÄ™Å›cie jednak inÅ¼ynierÃ³w Kafka ma sporo dobrych, choÄ‡by ten Stop Ford itd. No ale to jest marketing, nie.

**Åukasz KaÅ‚uÅ¼ny**: A nie Field City Oak, ktÃ³ry uprawia marketing.

**Oskar Dudycz**: Tak.

**Szymon Warda**: A tak z ciekawoÅ›ci - jak myÅ›lisz skÄ…d wziÄ™Å‚o siÄ™ to? Bo to jest doÅ›Ä‡ dominujÄ…ce podejÅ›cie na rynku, Å¼e jeÅ¼eli wÅ‚aÅ›nie mÃ³wimy o event sourcingu, to duÅ¼o osÃ³b domyÅ›lnie mÃ³wi - okay, to zrÃ³bmy to na Kafce. Masz odpowiedÅº, skÄ…d siÄ™ to wziÄ™Å‚o?

**Oskar Dudycz**: Mam kilka poszlak. Na pewno confluent ma olbrzymie zasoby, pompuje w marketing. I ja siÄ™ Å›miejÄ™, Å¼e tak jak niektÃ³re partie prawicowe mÃ³wiÄ… na prawo od nas juÅ¼ nikt. To confluent mÃ³wi, w Å›wiecie event-driven na prawo od nas juÅ¼ nikt, wiÄ™c oni wszystkie wzorce event-driven chcÄ… wciÄ…gnÄ…Ä‡. Ale wydaje mi siÄ™, Å¼e teÅ¼ ta oryginalna definicja... Bo w sumie nikt nie wie, kto wymyÅ›liÅ‚ event sourcing. Greg Young siÄ™ Å›mieje, Å¼e Sumerowie w tym swoim pierwszym... No ale ta pierwsza definicja i to Greg Young nawet mÃ³wi, Å¼e Martin Fowler tÄ… definicjÄ™, ktÃ³ra jest najbardziej popularna event sourcingu, to ona jest taka, powiedziaÅ‚bym nieco nieszczÄ™sna w tym sensie, Å¼e ona jest bardzo nieprecyzyjna, wiÄ™c moÅ¼na pod niÄ… podciÄ…gnÄ…Ä‡ bardzo duÅ¼o, w tym wÅ‚aÅ›nie to, Å¼e po prostu zapisujemy zdarzenia i je potem nasÅ‚uchujemy na nie, bo w wiÄ™kszoÅ›ci przypadkÃ³w tak to kiedyÅ› byÅ‚o, choÄ‡by jakiÅ› wzorzec obserwator, powiadomienia... Wydaje mi siÄ™, Å¼e wszystko po trochÄ™.

**Åukasz KaÅ‚uÅ¼ny**: CaÅ‚y, Oskar, ten Enterprise Integration Pattern, ktÃ³re gdzieÅ› tam powstaÅ‚o na poczÄ…tku lat dwutysiÄ™cznych i caÅ‚e SOA wtedy.

**Oskar Dudycz**: Tak. Wydaje mi siÄ™, Å¼e tak wszystko po trochÄ™, nie? Ale najbardziej bym winiÅ‚ tutaj w ostatnich latach marketing Confluent i no wiecie sami zresztÄ…, bo przecieÅ¼ to wasz podcast jest o tych rÃ³Å¼nych patologiach i no tak niestety nasze dziaÅ‚a industry, Å¼e wymyÅ›lamy sobie buzzwordy i potem je pchamy dalej.

**Åukasz KaÅ‚uÅ¼ny**: Raczej, chyba, jeszcze jak ktoÅ› kupi ten support od confluenta, to jest na kogo zwalaÄ‡ potem ratowanie tego.

**Oskar Dudycz**: Tak.

**Szymon Warda**: Nie po iluÅ› tam latach to siÄ™... PrÄ™dzej czy pÃ³Åºniej to Jenga siÄ™ zawali.

**Oskar Dudycz**: Ale na usprawiedliwienie, ja nie byÅ‚em, ale znam kogoÅ›, kto byÅ‚... Na Kafka Summit i tam nie ma takiego promowania event sourcingu. Tam zdaje siÄ™, sÄ… duÅ¼o bardziej pragmatyczne.

**Åukasz KaÅ‚uÅ¼ny**: No nie dziwiÄ™ siÄ™. SÅ‚uchaj, to takie pytanie, jak jesteÅ›my... PogadaliÅ›my trochÄ™ o technikaliach. WrÃ³Ä‡my teraz moÅ¼e bardziej do takich wzorcÃ³w uÅ¼ycia. I pierwsze takie pytanie, ktÃ³re siÄ™ nasuwa, bo mÃ³wimy, Å¼e event sourcing jest fajny, ma duÅ¼o zawiÅ‚oÅ›ci i innych rzeczy, ale jest de facto prostym wzorcem, bo to mamy takie trochÄ™ sprzeczne komunikaty i jakbyÅ› powiedziaÅ‚, gdzie on generalnie siÄ™ sprawdza jako wzorzec wÅ‚aÅ›nie, tak jak powiedziaÅ‚eÅ›, jako strategia w naszych aplikacjach i jak czÄ™sto odradzasz? A jak czÄ™sto mÃ³wisz, Å¼e to jest kierunek, w ktÃ³rym warto Å¼ebyÅ›cie poszli, tylko zrobili to poprawnie?

**Oskar Dudycz**: Ja z zaÅ‚oÅ¼enia nie widzÄ™ takiej sytuacji z automatu, gdzie on by siÄ™ mÃ³gÅ‚ nie sprawdziÄ‡, ale widzÄ™ sytuacje, kiedy... No nie daÅ‚by jakieÅ› dodatkowej wartoÅ›ci i przede wszystkim najwiÄ™kszÄ… wartoÅ›Ä‡ no to widzÄ™ tam, gdzie mamy bardziej zÅ‚oÅ¼ony proces biznesowy, czyli taki wielokrokowy, gdzie chcielibyÅ›my zrozumieÄ‡ i mieÄ‡ moÅ¼liwoÅ›Ä‡ takÄ…... Diagnostyki. JuÅ¼ nie mÃ³wiÄ™ audytu, bo to moÅ¼emy bez event sourcingu zrobiÄ‡, ale wÅ‚aÅ›nie takiej diagnostyki i lepszego zrozumienia procesu, ewentualnie jeÅ¼eli byÅ›my chcieli mieÄ‡ taki wiÄ™kszy wkÅ‚ad w sensie takie dosyÄ‡ granularne informacje. Ja najczÄ™Å›ciej uÅ¼ywam takiego dosyÄ‡ trywialnego, ktÃ³ry wyglÄ…da nieco CRUDowo scenariusza, czyli koszyk zakupowy. No i zobaczcie, Å¼e nawet w koszyku zakupowym mamy tych krokÃ³w kilka, bo moÅ¼emy dodaÄ‡ produkt, usunÄ…Ä‡, potwierdziÄ‡, zdefiniowaÄ‡ przesyÅ‚kÄ™ i tak dalej. I nawet jeÅ¼eli ten scenariusz jest dosyÄ‡ prosty i wydaje siÄ™ zrÃ³bmy CRUDa, to zobaczcie, Å¼e z tych wszystkich danych choÄ‡by wÅ‚aÅ›nie, ktÃ³re produkty byÅ‚y razem wybierane, ktÃ³re koszyki byÅ‚y opuszczone, biznes jest w stanie bardzo duÅ¼o ciekawych informacji wyciÄ…gnÄ…Ä‡. WiÄ™c tak dÅ‚ugo jak te informacje bÄ™dziemy mieÄ‡ trwale zapisane w naszej bazie danych, to potem moÅ¼emy nawet do tyÅ‚u siÄ™gnÄ…Ä‡ czy to biznes, czy to nawet my, bo moÅ¼emy sobie wziÄ…Ä‡ sekwencjÄ™ zdarzeÅ„ dla naszego rekordu jako programiÅ›ci i po prostu nawet uÅ¼yÄ‡ do zdebugowania lokalnie, Å¼eby zobaczyÄ‡, Å¼e ok, te pierwsze trzy zdarzenia wszystko szÅ‚o dobrze, a przy czwartym siÄ™ coÅ› wywaliÅ‚o.

**Oskar Dudycz**: WiÄ™c po pierwsze wÅ‚aÅ›nie takie wielokrokowe scenariusze, przepÅ‚ywy i potem jako wkÅ‚ad do analityki danych, chociaÅ¼ teÅ¼ niestety, ale jeszcze event story same w sobie nie majÄ… takich wbudowanych narzÄ™dzi do analityki, wiÄ™c do tego raczej trzeba uÅ¼yÄ‡ czegoÅ› co jest dedykowane. Na kiedy siÄ™ to nie sprawdzi... Wydaje mi siÄ™, Å¼e przede wszystkim siÄ™ nie sprawdzi, kiedy czynnik ludzki jest oporny.

**Åukasz KaÅ‚uÅ¼ny**: Przepraszam. WiedziaÅ‚em, wiedziaÅ‚em, miaÅ‚em siÄ™ o to zapytaÄ‡, wiÄ™c trafiÅ‚eÅ› po prostu w sedno tego problemu, ktÃ³ry ja widzÄ™ rynkowo.

**Szymon Warda**: A to teraz ja trochÄ™ naprowadzÄ™. Bo mÃ³wimy sobie, gdzie siÄ™ sprawdzaÅ‚y, gdzie siÄ™ nie sprawdzaÅ‚o. MÃ³wimy o tych ogÃ³lnie event, event story, ale teraz jakbyÅ›my tak poagregowali, co byÅ‚o wspÃ³lne na poziomie technicznym? ZejdÅºmy juÅ¼ na poziom miÄ™sa. Generalnie. JeÅ¼eli ma siÄ™ udaÄ‡, to co? A jeÅ¼eli ma siÄ™ nie udaÄ‡, to co wybieraÄ‡? No nie? To w agregacie... ByÅ›my spojrzeli.

**Oskar Dudycz**: No to tak. Takie skÅ‚adniki, ktÃ³re muszÄ… zajÅ›Ä‡ albo powinny zajÅ›Ä‡. Po pierwsze no to niestety, ale czynnik ludzki i niekoniecznie to muszÄ… byÄ‡ ludzie, ktÃ³rzy zjedli zÄ™by na event sourcingu, bo takich nie ma za duÅ¼o. Ale ludzie, ktÃ³rzy chcÄ… siÄ™ uczyÄ‡ i ludzie, ktÃ³rzy jeÅ¼eli chcÄ… siÄ™ uczyÄ‡ i nie majÄ… czasu, no to lepiej, Å¼eby jednak byÅ‚ ktoÅ›, kto cokolwiek z tym robiÅ‚, Å¼eby byÅ‚ w stanie wdroÅ¼yÄ‡ innych. JeÅ›li majÄ… czas, no to tych materiaÅ‚Ã³w siÄ™ pojawia coraz wiÄ™cej, choÄ‡by mÃ³j blog. Ale juÅ¼ technicznie. WaÅ¼nÄ… rzeczÄ… jest to, Å¼eby siÄ™ teÅ¼ rozeznaÄ‡ odnoÅ›nie tych implementacji event store'Ã³w, ktÃ³re sÄ… w danej technologii, w ktÃ³rej pracujemy. Bo tak jak sam event sourcing powiedziaÅ‚em, jest wzorcem dosyÄ‡ prostym. No ale to juÅ¼ teÅ¼ omÃ³wiliÅ›my, Å¼e duÅ¼o moÅ¼na pod to podciÄ…gnÄ…Ä‡. No i na przykÅ‚ad Marten pod spodem ma Postgress, wiÄ™c dostajemy wszystkie te gwarancje, ktÃ³re daje nam baza relacyjna, czyli transakcyjnoÅ›Ä‡, moÅ¼liwoÅ›Ä‡ nawet odbudowy read modeli w tym samej transakcji, co dodajemy zdarzenia. Z kolei Event Store DB bardziej celuje na skupienie na wÅ‚aÅ›nie obsÅ‚udze samej zdarzeÅ„ i to jest baza, ktÃ³ra zostaÅ‚a stworzona.

**Oskar Dudycz**: Nie ma Å¼adnej innej pod spodem, ale teÅ¼ nie ma np. modeli odczytu. Nie ma moÅ¼liwoÅ›ci jakiegoÅ› hackowania i zapisywania zmian wiÄ™cej niÅ¼ w jednym strumieniu, czyli wiÄ™cej niÅ¼ jednym agregacie w ramach jednej transakcji. WiÄ™c te Event Story potrafiÄ… siÄ™ duÅ¼o rÃ³Å¼niÄ‡ od siebie, wiÄ™c to trzeba teÅ¼ sprawdziÄ‡, bo jeÅ¼eli mamy zespÃ³Å‚, ktÃ³ry siÄ™ uczy, to moÅ¼e na poczÄ…tku... No to nie jest moÅ¼e idealna rada, ale no jak siÄ™ uczymy, to raczej trochÄ™ pohackujemy i potrzebujemy sobie pohakowaÄ‡. WiÄ™c moÅ¼e teÅ¼ uÅ¼yjmy bazy albo rodzaju event store'a, ktÃ³ry nas tutaj jakoÅ› nie uderzy. No i w event sourcingu... Bardzo waÅ¼ne jest jednak, Å¼eby zrozumieÄ‡ te podstawowe aspekty modelowania, no bo pamiÄ™tajmy, Å¼e to jest wzorzec przechowywania danych, czyli tak jak w bazach relacyjnych normalizujemy dane - w bazach dokumentowych denormalizujemy - no to w event sourcingu musimy siÄ™ nauczyÄ‡ jak robiÄ‡, Å¼eby trzymaÄ‡ te strumienie jak najkrÃ³tsze, bo jak one bÄ™dÄ… krÃ³tsze, to wszystko bÄ™dzie lÅ¼ej, bÄ™dzie Å‚atwiej z nimi pracowaÄ‡, wydajnoÅ›Ä‡ bÄ™dzie lepsza. WiÄ™c w event sourcingu tak naprawdÄ™ bardzo duÅ¼o jesteÅ›my w stanie problemÃ³w technicznych uniknÄ…Ä‡ poprzez odpowiednie modelowanie wÅ‚aÅ›nie strumieni, czyli juÅ¼ tak konkretnie mÃ³wiÄ…c, zamiast na przykÅ‚ad trzymaÄ‡ strumieÅ„ jako historiÄ™ wszystkich transakcji w kasie w Biedronce, to moÅ¼e trzymajmy strumieÅ„ jako odpowiednik jednej zmiany kasjera w Biedronce i nagle zamiast kilkudziesiÄ™ciu czy tam kilkuset tysiÄ™cy zdarzeÅ„ bÄ™dziemy mieÄ‡, nie wiem, 100, 500 w ramach jednej zmiany i to juÅ¼ bÄ™dzie duÅ¼o bardziej zarzÄ…dzalne.

**Oskar Dudycz**: No wiÄ™c to. No i potem dosyÄ‡ waÅ¼nÄ… rzeczÄ… jest jednak, Å¼eby zrozumieÄ‡ te rzeczy zwiÄ…zane, opsowe i DevOpsowe, ktÃ³re w przypadku narzÄ™dzi tych event sourcingowych sÄ… nieco trudniejsze, bo one pod tym kÄ…tem sÄ… nieco mniej dojrzaÅ‚e. Tak jak ogÃ³lnie event sourcing, event story sÄ… juÅ¼ dojrzaÅ‚ymi narzÄ™dziami, to w przypadku tematÃ³w opsowych i DevOpsowych to majÄ… trochÄ™ wiÄ™cej ostrych krawÄ™dzi. Znaczy majÄ… wszystko to, co oczekujemy, ale moÅ¼e to byÄ‡ nieco trudniej.

**Åukasz KaÅ‚uÅ¼ny**: Dobra. SÅ‚uchaj, jest jedna rzecz, ktÃ³ra mi siÄ™ tutaj... Przy tym jak powiedziaÅ‚eÅ›, bo bodajÅ¼e to chyba Greg Young powiedziaÅ‚, Å¼e kaÅ¼dy powinien napisaÄ‡ wÅ‚asnego event store'a, bo nie jest trudnÄ… rzeczÄ…, Å¼e Å‚atwo sobie to zaimplementowaÄ‡. I z Twojej perspektywy jaka jest teraz taka realnoÅ›Ä‡ w dzisiejszych czasach, bo event sourcing gdzieÅ› pod spodem musi umieÄ‡ zrobiÄ‡... Bardzo... Dobra biblioteka do event sourcingu musi umieÄ‡ zrobiÄ‡ duÅ¼o rzeczy i powinna teÅ¼ gdzieÅ› w teorii uÅ‚atwiaÄ‡ nam wÅ‚aÅ›nie potem teÅ¼ wintegrowanie siÄ™ w EDAA, w inne takie rozwiÄ…zania, jeÅ¼eli podejdziemy to jako na komponent caÅ‚oÅ›ci, a nie samego uÅ¼ycia. WiÄ™c jak jest Twoim zdaniem z implementacjÄ… wÅ‚asnego event store'a?

**Oskar Dudycz**: Ja bym powiedziaÅ‚, Å¼e zachÄ™cam kaÅ¼dego do napisania swojego event store'a, a potem uÅ¼ycia go w swoim produkcyjnym systemie. To jest ogÃ³lnie super frajda napisaÄ‡ taki event store. Nawet udaÅ‚o mi siÄ™ w 25 minut to zrobiÄ‡ na prezentacji, ale umÃ³wmy siÄ™ - nie zaczynamy naszego projektu od tego typu... O, napiszmy sobie bazÄ™ relacyjnÄ…, bo chcielibyÅ›my uÅ¼ywaÄ‡ bazy relacyjnej. MoÅ¼e to zrÃ³bmy. No ok, moÅ¼emy to zrobiÄ‡ tylko no tak jak w przypadku tego stwierdzenia, to kaÅ¼dy siÄ™ puknie w gÅ‚owÄ™. To jakoÅ› w przypadku event store'a to jakoÅ› nie. Wydaje mi siÄ™, Å¼e to miaÅ‚oby sens, gdybyÅ›my nie znaleÅºli takiego event store'a w naszej technologii, ktÃ³ry jest dojrzaÅ‚y. I ktÃ³ry ma jakichÅ› ludzi, ktÃ³rzy aktywnie nad tym pracujÄ…. Ale jednak w wiÄ™kszoÅ›ci technologii takowe juÅ¼ sÄ…, wiÄ™c samo napisanie swojego event store'a jest faktycznie dosyÄ‡ proste. Ale utrzymanie go, no to jest inna sprawa. To nigdy nie bÄ™dzie raczej coÅ›, na co my bÄ™dziemy mieÄ‡ dedykowany czas od naszego biznesu, wiÄ™c prÄ™dzej czy pÃ³Åºniej kaÅ¼de takie core'owe rozwiÄ…zanie raczej... Nie padnie ofiarÄ… zerowego priorytetu. Dodatkowo jeÅ¼eli chodzi o sam zapis zdarzeÅ„, no to jest dosyÄ‡ proste.

**Oskar Dudycz**: Serializujemy, zapisujemy i tyle. To sÄ… dwie metody w teorii, ktÃ³re musi mieÄ‡ event store. Dodaj zdarzenie na koniec strumienia, odczytaj wszystkie zdarzenia ze strumienia, ale jeÅ¼eli chcemy... A w event sourcingu zdecydowanie chcemy i potrzebujemy mieÄ‡ read modele, no to sytuacja juÅ¼ siÄ™ dosyÄ‡ komplikuje. No bo potem jak zrobiÄ‡, Å¼eby wydajnie te read modele byÅ‚y aktualizowane? Jak zapewniÄ‡ kolejnoÅ›Ä‡ zdarzeÅ„? Jak zapewniÄ‡ odbudowÄ™ tych read modeli? No to sÄ… juÅ¼ sytuacje, ktÃ³re sÄ… nietrywialne. One moÅ¼e nie sÄ… Å›ciÅ›le zwiÄ…zane z samym event sourcingiem, ale jeÅ¼eli siÄ™ piszemy na event sourcing, no to to sÄ… rzeczy, ktÃ³re i tak bÄ™dziemy musieli przerobiÄ‡, wiÄ™c lepiej Å¼eby robiÅ‚ to ktoÅ› wedÅ‚ug mnie, kto siÄ™ na tym zna i komu za to pÅ‚acÄ…, albo chociaÅ¼ hobbystycznie siedzi i to robi po godzinach jak ja na przykÅ‚ad.

**Szymon Warda**: Ja o to pytam, bo mÃ³wimy sobie o event sourcingu - widziaÅ‚eÅ› jakie sÄ… wartoÅ›ci, kiedy stosowaÄ‡ event sourcing. Wszystko fajnie, a tak personalnie to, co ja widzÄ™ na rynku to jest, Å¼e event sourcing fajnie wyglÄ…da jako taki greenfield. Z reguÅ‚y po x latach on czÄ™sto dÄ…Å¼y do takiego totalnego braku utrzymania. No bo mÃ³wimy sobie, Å¼e moÅ¼emy sobie trzymaÄ‡ wszystkie wiadomoÅ›ci we wszystkich wersjach i tak dalej, i tak dalej, nigdy tego nie zmieniaÄ‡ i w ogÃ³le odtworzyÄ‡ siÄ™ od startu czasu sprzed 15, 20 lat. No ale mi siÄ™ tak pali taka lampka, Å¼e OK, to musimy teraz trzymaÄ‡ te wszystkie kontrakty, utrzymywaÄ‡ to, i taki tam kod, ktÃ³ry tylko roÅ›nie, roÅ›nie, roÅ›nie, roÅ›nie. No wiÄ™c jak jest z utrzymaniem event sourcingu? Co zrobiÄ‡, Å¼eby ten system oparty na event sourcing byÅ‚ utrzymywalny i czy takie popularne mity konferencyjne i mÃ³wienie, ooo bÄ™dzie wszystko fajnie, super i nie martw siÄ™ o nic - na ile to jest: wÅ‚oÅ¼yÄ‡ sobie do szuflady i nie - a na ile jest tak, Å¼e faktycznie tak jest.

**Oskar Dudycz**: Wydaje mi siÄ™, Å¼e tak... TrudnoÅ›Ä‡ wersjonowania event sourcingu istnieje, ale wedÅ‚ug mnie stopieÅ„ skomplikowania i to - zwykle jak zaczynamy jakieÅ› warsztaty czy spotkanie z ludÅºmi to jest zawsze, o, jak wersjonowaÄ‡ zdarzenia i ok, jeÅ¼eli siÄ™ tego nie robiÅ‚o i siÄ™ nie myÅ›laÅ‚o o tym od poczÄ…tku, tylko siÄ™ potem wÅ‚aÅ›nie budzi z rÄ™kÄ… w nocniku dwa lata pÃ³Åºniej, no to to bÄ™dzie trudne, tego siÄ™ nie da zrobiÄ‡ Å‚atwo, ale to teÅ¼ dotyczy kaÅ¼dej innej migracji, ktÃ³rÄ… gdzieÅ› musimy danych zrobiÄ‡, jak siÄ™ obudzimy siÄ™ z rÄ™kÄ… w nocniku po dwÃ³ch latach, Å¼e nie dbaliÅ›my o ten nasz model danych. No i faktycznie tych technik modelowania i opisu jak to robiÄ‡ poprawnie niestety materiaÅ‚Ã³w nieco brakuje. Ale jak to moÅ¼na zrobiÄ‡? MÃ³wi siÄ™, Å¼e w event sourcingu tych danych siÄ™ nie traci i faktycznie tych danych siÄ™ nie traci, bo zapisujemy kaÅ¼de zdarzenie osobno i tak dalej. Ale to wcale nie znaczy, Å¼e my te dane wszystkie musimy trzymaÄ‡ w jednym miejscu. Bo jeÅ¼eli wyodrÄ™bnimy sobie takie cykle Å¼ycia, nawet jak mÃ³wiÅ‚em o tej kasie w Biedronce, to do takiej bieÅ¼Ä…cej operacyjnej dziaÅ‚alnoÅ›ci konkretnej kasy interesuje nas tylko to, co siÄ™ wydarzyÅ‚o w ramach tej zmiany w tej kasie, prawda?

**Oskar Dudycz**: Czyli wszystkie te pozostaÅ‚e dane albo juÅ¼ sÄ… w ogÃ³le nam niepotrzebne do transakcyjnej takiej operacyjnoÅ›ci, czyli do podejmowania decyzji biznesowych? A moÅ¼e sÄ… potrzebne tylko gdzieÅ› do modeli odczytu? A moÅ¼e w ogÃ³le jedyne do czego nam sÄ… potrzebne, to do jakiegoÅ› audytu itd. WiÄ™c w przypadku event sourcingu, tak samo jak w przypadku innych rodzajÃ³w przechowywania danych, powinniÅ›my rozrÃ³Å¼niaÄ‡ temperaturÄ™ naszych danych, czyli te gorÄ…ce dane, ktÃ³re sÄ… na bieÅ¼Ä…co. UÅ¼ywamy ich caÅ‚y czas, je tam zmieniamy, chÅ‚odne, czyli ktÃ³rych w ogÃ³le nie potrzebujemy, lub takie letnie, ktÃ³re trochÄ™ potrzebujemy, trochÄ™ nie. No wiÄ™c nic nie stoi na przeszkodzie, Å¼eby te zdarzenia, ktÃ³rych nie potrzebujemy, przenieÅ›Ä‡ gdzieÅ› indziej. Czyli przykÅ‚adowo jak mamy dane audytowe, to przenieÅ›Ä‡ je do jakiegoÅ› bloba. JeÅ¼eli mamy dane, potrzebujemy tylko do analityki, to moÅ¼e przenieÅ›my je do jakiegoÅ› systemu analitycznego i z tego event stora je usuÅ„my potem. Czyli powinniÅ›my stosowaÄ‡ techniki archiwizacji. No i w event sourcingu kluczowe jest myÅ›lenie o cyklu Å¼ycia obiektÃ³w. To jest jedna z charakterystyk, bo im dÅ‚uÅ¼ej on Å¼yje, tym strumieÅ„ jest dÅ‚uÅ¼szy i tym trudniej siÄ™ pracuje.

**Oskar Dudycz**: Jeszcze co do samego wersjonowania - jeÅ¼eli byÅ›my zastosowali te techniki archiwizacji to zobacz, Å¼e jeÅ¼eli mamy nowÄ… wersjÄ™ zdarzenia i wiemy, Å¼e w naszym systemie obiekty Å¼yjÄ… powiedzmy nie wiem, tydzieÅ„-dwa, to moglibyÅ›my wdroÅ¼yÄ‡ wersjÄ™, ktÃ³ra wspiera i starÄ… i nowÄ…. MinÄ… dwa tygodnie czy tam trzy dla bezpieczeÅ„stwa i wiemy, Å¼e juÅ¼ nie przeÅ¼yÅ‚ Å¼aden obiekt w praktyce, ktÃ³ry jest w starej wersji, wiÄ™c moÅ¼emy zaczÄ…Ä‡ jÄ… po prostu... Od niej odchodziÄ‡, nawet pomimo, Å¼e gdzieÅ› moÅ¼e te dane w teorii mogÅ‚yby byÄ‡, ale w praktyce ich nigdy nie bÄ™dzie, bo juÅ¼ je zarchiwizowaliÅ›my.

**Szymon Warda**: Ale z ciekawoÅ›ci - trochÄ™ Ciebie zchallenge'ujÄ™ - jak mamy dostÄ™p ksiÄ™gowy czy ksiÄ™gowoÅ›Ä‡... Faktycznie, moÅ¼e, te dane - czy mogÄ… Å¼yÄ‡ dÅ‚uÅ¼szy czas de facto, czy moÅ¼emy tylko siÄ™gnÄ…Ä‡ do np. faktury sprzed 2-3 lat? No nie? Czy w tym momencie faktycznie trzymasz tÄ™ wersjÄ™ zdarzeÅ„? De facto wersjonujesz, czy jednak migrujesz te zdarzenia na nowsze schematy. Jak tutaj to wypoÅ›rodkowaÄ‡?

**Oskar Dudycz**: Ja raczej wersjonujÄ™, czyli przez wersjonowanie mogÄ™ w ogÃ³le nie wersjonowaÄ‡. JeÅ¼eli jedyne do czego siÄ™ spodziewam to do audytu, to wystarczy, Å¼e bÄ™dÄ™ w stanie to odczytaÄ‡. Potem. JeÅ›li mam dane w JSONie, to moÅ¼na w ogÃ³le zignorowaÄ‡ te wersje, ktÃ³rych nie bÄ™dziemy uÅ¼ywaÄ‡. Co do innych - to sÄ… rÃ³Å¼ne taktyki, bo moÅ¼emy trzymaÄ‡ te wersje i ich nie uÅ¼ywaÄ‡, ale Å¼ebyÅ›my byli w stanie w jakiÅ› to obsÅ‚uÅ¼yÄ‡. Jest teÅ¼ technika tak zwany app casting, czyli trzymamy w kodzie tylko aktualnÄ… wersjÄ™ plus takie funkcje, ktÃ³re biorÄ… stary payload i w locie go... Gdy deserializujemy to zamieniajÄ… na nowy format, dziÄ™ki czemu co prawda mamy te zdarzenia w rÃ³Å¼nych wersjach, ale w kodzie juÅ¼ jesteÅ›my w stanie uÅ¼ywaÄ‡ tylko tej najnowszej. Z kolei Greg Young twierdzi, Å¼e przy kaÅ¼dym wdroÅ¼eniu nowej wersji systemu powinniÅ›my przepisywaÄ‡ wszystkie te zdarzenia na nowy format i archiwizowaÄ‡ te, ktÃ³rych nie uÅ¼ywamy. Z tym, Å¼e ja nigdy tak nie zrobiÅ‚em. Tzn. robiÅ‚em tego typu przepisywania, ale to raczej przy jakiejÅ›... Jak robiÅ‚em jakÄ…Å› migracjÄ™ danych. Raczej nie przy okazji konkretnego deploymentu. Bo Å¼eby takie rzeczy robiÄ‡ to trzeba mieÄ‡ naprawdÄ™ opanowane te narzÄ™dzia i tak jak mÃ³wiÅ‚em te narzÄ™dzia jeÅ›li chodzi o takie tematy DevOpsowe.

**Oskar Dudycz**: Å»eby to zrobiÄ‡ pÅ‚ynnie, no to trzeba je dobrze znaÄ‡. One nie dostarczajÄ… tak z out of the box tego typu rzeczy, wiÄ™c tutaj trzeba bardzo uwaÅ¼aÄ‡.

**Szymon Warda**: To zalecenie Grega brzmi jak utrudnianie sobie bardzo mocno deploymentu. To brzmi jak duÅ¼y proces budowania aplikacji. Mi teÅ¼ siÄ™ tak trochÄ™ pali Å¼Ã³Å‚ta lampeczka, Å¼e trochÄ™ nie za bardzo to brzmi.

**Oskar Dudycz**: To znaczy miaÅ‚oby to sens, jeÅ¼eli by to robiÄ‡ konsekwentnie, bo z jednej strony pozbywamy siÄ™ tych starych danych, ktÃ³rych nie uÅ¼ywamy i wtedy ten zakres bieÅ¼Ä…cych danych jest wzglÄ™dnie maÅ‚y stosunkowo, no ale wiemy jak to w praktyce jest. No niestety realia sÄ… takie, Å¼e wiÄ™kszoÅ›Ä‡ ludzi w ogÃ³le nawet nie myÅ›li w tych kategoriach, ktÃ³re dane potrzebujÄ…, ktÃ³re nie, a co dopiero Å¼eby je gdzieÅ› archiwizowaÄ‡ itd. Tak to praktyka wyglÄ…da.

**Szymon Warda**: I selling point jest taki, Å¼e nie wiesz, ktÃ³rych danych masz potrzebowaÄ‡ za ileÅ› tam lat.

**Oskar Dudycz**: No tak.

**Szymon Warda**: Dlatego siÄ™ wtedy braÅ‚o wszystko zdarzenia, wiÄ™c okej, ciekawe podejÅ›cie.

**Oskar Dudycz**: Znaczy wiesz, te dane ciÄ…gle masz, bo rÃ³wnie dobrze moÅ¼esz je przenieÅ›Ä‡ na jakiÅ› taki...

**Szymon Warda**: Archiwum.

**Oskar Dudycz**: Archiwum albo w ogÃ³le do innego klastra, ktÃ³ry jeÅ¼eli tych danych nie potrzebujesz, czyli np. do odbudowy czy gdzieÅ›, to nie musisz za niego pÅ‚aciÄ‡ tyle co za normalny produkcyjny. Jak przychodzi Ci sytuacja, gdy tych danych zaczynasz znowu potrzebowaÄ‡, podkrÄ™casz suwaczek i jest to teÅ¼ taÅ„sze, wiÄ™c jest to dosyÄ‡ faktycznie rzecz, ktÃ³ra jest trochÄ™ zaprzeczeniem tego selling pointu. No ale ja teÅ¼ na przykÅ‚ad nie uÅ¼ywam w zachwalaniu tego Å¼e audyt itd. OK. W ogÃ³le wedÅ‚ug mnie event sourcing sam w sobie, on nie ma takiej pojedynczej killer feature, Å¼e moÅ¼na powiedzieÄ‡ to jest to. I tu powinieneÅ› uÅ¼ywaÄ‡ event sourcingu. Raczej to jest zestaw tych rÃ³Å¼nych rzeczy, ktÃ³re on daje, po prostu out of the box i tak jakby skumulujemy te wszystkie rzeczy. To on daje wtedy tak jakby ten... Lub moÅ¼e daÄ‡, przechyliÄ‡ decyzjÄ™ na korzyÅ›Ä‡ uÅ¼ycia event sourcing. Ale jeÅ¼eli byÅ›my wziÄ™li kaÅ¼dÄ… z tych rzeczy osobno, no to moglibyÅ›my Å‚atwo to zbiÄ‡, Å¼e ok, w tym innym narzÄ™dziu teÅ¼ to mamy.

**Åukasz KaÅ‚uÅ¼ny**: SÅ‚uchaj, to kolejne pytanie do tego, ktÃ³re teÅ¼ jest mitem konferencyjnym, blogowym. Od tego siÄ™ przejawia, Å¼e jak robisz event sourcing to jest wymagane. Musisz omodelowaÄ‡ i projektowaÄ‡ aplikacje zgodnie z DDD Domain Driven Design. Musisz koniecznie uÅ¼yÄ‡ CQRSa, inaczej to siÄ™ rozsypie jak domek z kart. I jest taki mit, Å¼e musimy te wszystkie... OkreÅ›lam to mitem, bo siÄ™ z tym nie zgadzam. WÅ‚aÅ›nie, Å¼e musimy to wszystko zawsze pakowaÄ‡ w kupie. Jakie jest Twoje doÅ›wiadczenie?

**Oskar Dudycz**: Prawda leÅ¼y gdzieÅ› po Å›rodku. Tutaj jeÅ¼eli ktoÅ› tak twierdzi, to w ogÃ³le powinniÅ›my siÄ™ zapytaÄ‡ go co ma na myÅ›li przez DDD. Ja sam nie wiem jak bym okreÅ›liÅ‚ DDD. Dla mnie Domain Driven Design to jest po prostu jakiÅ› taki przybornik, zestaw rÃ³Å¼nych narzÄ™dzi skupionych na biznesie, ktÃ³re mogÄ™ lub nie, ale nie muszÄ™ uÅ¼ywaÄ‡ w swoim projekcie. No i faktycznie event sourcing. Tak jak wspominaÅ‚em im lepiej modelujemy dane tym bÄ™dzie nam Å‚atwiej rÃ³wnieÅ¼ technicznie, wiÄ™c pod tym kÄ…tem skupienia na biznesie jest duÅ¼o wspÃ³lnego z Domain Driven Design. Z tym, Å¼e ja osobiÅ›cie coraz wiÄ™cej widzÄ™, Å¼e Domain Driven Design. UÅ¼ycie takie ksiÄ…Å¼kowe w przypadku event sourcingu dodaje wiÄ™cej ciÄ™Å¼koÅ›ci tego event sourcingu niÅ¼ zalet choÄ‡by agregaty, choÄ‡by... OgÃ³lnie te wzorce te taktyczne sÄ… bardziej takie ciÄ™Å¼kawe, object-oriented, gdzie event sourcing jest dosyÄ‡ prostym wzorcem, bardziej takim funkcyjnym. WiÄ™c te wzorce taktyczne moÅ¼na jak najbardziej uÅ¼ywaÄ‡ z event sourcingiem... Ale ja bym od razu najpierw siÄ™ zastanowiÅ‚ czy faktycznie musimy - i to uproÅ›ciÄ‡. Jak najbardziej. WiÄ™c to co ma wspÃ³lnego event sourcing z DDD to na pewno skupienie na biznesie.

**Oskar Dudycz**: No ale wiadomo, spoÅ‚ecznoÅ›Ä‡ DDD teÅ¼ wszystkie rzeczy skupione na biznesie zawÅ‚aszcza. Ja siÄ™ czasem Å›miejÄ™, Å¼e co, 16 lat temu nikt nie prÃ³bowaÅ‚ robiÄ‡ aplikacji skupionych na biznesie? Nagle dopiero od 15 lat ktoÅ› pomyÅ›laÅ‚, Å¼e kurczÄ™, fajnie by byÅ‚o, Å¼eby te aplikacje robiÅ‚y to co biznes chce? No chyba to tak nie do koÅ„ca jest. Nawet Eric Evans... On zresztÄ… jest bardzo skromnÄ… osobÄ… i on teÅ¼ mÃ³wi, Å¼e po prostu skatalogowaÅ‚ te wzorce, wiÄ™c.

**Szymon Warda**: Nie wziÄ™Å‚o siÄ™ znikÄ…d na pewno.

**Oskar Dudycz**: DokÅ‚adnie. Co do CQRSa, to CQRS... TeÅ¼ zaleÅ¼y jak ludzie to definiujÄ…. JeÅ¼eli tak jak na konferencjach to zupeÅ‚nie nie potrzeba uÅ¼ywaÄ‡ CQRSa do event sourcing. JeÅ›li tak, jak oryginalna definicja, czyli Å¼e segregujemy nasze operacje na zapisy i odczyty i dodatkowo kaÅ¼dÄ… z tych operacji skupiamy siÄ™ na tym, Å¼eby robiÅ‚a coÅ› biznesowo konkretnego, czyli zmieniÅ‚a, powiedzmy wykonaÅ‚a jakÄ…Å› logikÄ™ biznesowÄ… albo zrobiÅ‚a... odpytaÅ‚a pod jakimÅ› kÄ…tem biznesowym nasze dane - to zdecydowanie event sourcing... Potrzebuje tego. No bo Å¼eby zapisaÄ‡ takie biznesowe, sensowne zdarzenie, to musimy znaÄ‡ biznesowÄ… intencjÄ™. No bo jeÅ¼eli mamy zapytanie z API typu create, update, delete to w najlepszym razie nam wyjdzie CRUD sourcing, a nie event sourcing, bo bÄ™dziemy mieÄ‡ zdarzenia created updated deleted. No spoko, tylko technicznie moÅ¼e i moÅ¼na byÅ‚oby to nazwaÄ‡ event sourcingiem, ale nie da to nam Å¼adnych zalet event sourcingu, tego typu podejÅ›cia. WiÄ™c ja teÅ¼ mÃ³wiÄ™, Å¼e CQRS, event sourcing to jest tak jak tequila, limonka i sÃ³l dobrze ze sobÄ… grajÄ…, ale to nie jest tak, Å¼e to musi wszystko byÄ‡ razem.

**Oskar Dudycz**: No event sourcing bez CQRSa takiego... Powiedzmy, no mÃ³wiÄ™ tego prostego wzorca segregacji zachowaÅ„. To trudno by byÅ‚o zrobiÄ‡. A CQRS bez event sourcingu? Jak najbardziej, polecam, Oskar Dudycz.

**Szymon Warda**: A pytanko takie, no bo poruszyÅ‚eÅ› temat CRUDÃ³w. Z reguÅ‚y wÅ‚aÅ›nie, jak mamy jakiÅ›tam projekt to jakieÅ› tam CRUDy zaczynajÄ… siÄ™ itd. I z reguÅ‚y teÅ¼ maÅ‚o wiemy o tej domenie, maÅ‚o wiemy co potrzebujemy. Teraz... Jakie jest Twoje go-to podejÅ›cie tak naprawdÄ™, czy albo moÅ¼e co uwaÅ¼asz i w jakich sytuacjach? Czy powinniÅ›my zaczynaÄ‡ od event sourcingu jak widzimy, Å¼e okej, tu moÅ¼e pasowaÄ‡, czy jednak wejÅ›Ä‡ w prosty model zaÅ‚Ã³Å¼my relacyjny albo jakiÅ› inny sposÃ³b i dopiero stwierdziÄ‡ ok, tu by nam pasowaÅ‚ event sourcing. Jak juÅ¼ znamy lepiej domenÄ™, wiemy co wiemy, czego potrzebujemy i w tym momencie przymigrowaÄ‡ na event sourcing.

**Oskar Dudycz**: Nawet wÅ‚aÅ›nie ostatnio w sobotÄ™ miaÅ‚em takie dyskusje na warsztatach na ten temat. Nie ma dobrej odpowiedzi na ten temat, no bo z jednej strony faktycznie gdy uczymy siÄ™ domeny i gdy zaczynamy greenfield no to tak, nie znamy technologii najprawdopodobniej, ktÃ³re uÅ¼ywamy, bo skoro zaczynamy greenfield, to siÄ™ chcemy wyszaleÄ‡ i wybieramy jakieÅ› nowe technologie, albo chcemy jak to Å‚adnie siÄ™ mÃ³wi po prostu byÄ‡ innowacyjni. No i najgorszÄ… rzeczÄ…, ktÃ³rÄ… moÅ¼emy zrobiÄ‡, to uczyÄ‡ siÄ™ i technologii i domeny. WiÄ™c jeÅ¼eli nie mamy kogoÅ›, kto robiÅ‚ coÅ› w event sourcingu, to faktycznie moÅ¼e to nie byÄ‡ najlepszym pomysÅ‚em, Å¼eby powiedzmy rozpoczynaÄ‡ wszystkie moÅ¼liwe bitwy w jednym czasie. Z tym, Å¼e wiemy, Å¼e jak czegoÅ› nie zaczniemy robiÄ‡ od razu, to po pierwsze pewnie juÅ¼ do tego nigdy nie wrÃ³cimy. Po drugie jeÅ¼eli siÄ™ uczymy czegoÅ› nowego, to jak na pewno wiecie, to jest proces. Musimy popeÅ‚niÄ‡ ileÅ› tam bÅ‚Ä™dÃ³w, musimy siÄ™ tego nauczyÄ‡. To nie jest tak, Å¼e nagle powiemy o. To jest mÃ³j moment, teraz bÄ™dziemy to robiÄ‡ w event sourcingu, to tak to nie zadziaÅ‚a.

**Oskar Dudycz**: I tak tÄ… krzywÄ… nauki bÄ™dziemy musieli przejÅ›Ä‡. No wiÄ™c tutaj jest kluczowe, jak bardzo to nam pasuje do naszego projektu, jak bardzo waÅ¼nym elementem tego traktujemy. No bo jeÅ¼eli wiemy, Å¼e tutaj ten event sourcing nam da duÅ¼Ä… przewagÄ™ konkurencyjnÄ… i jest to coÅ›, co... Na czym chcemy siÄ™ oprzeÄ‡ z jakichÅ› powodÃ³w, no to lepiej zaczÄ…Ä‡ to wczeÅ›niej robiÄ‡. Dodatkowo w przypadku greenfielda zaletÄ… wedÅ‚ug mnie event sourcingu jest to, Å¼e jak pracujemy w event sourcingu to te zdarzenia sÄ… bardzo fajnÄ… formÄ… dokumentacji danych. I nawet jeÅ¼eli nasze zrozumienie tego bÄ™dzie powodowaÅ‚o, Å¼e bÄ™dziemy mieÄ‡ kilka wersji tych zdarzeÅ„, no to z drugiej strony w greenfieldzie dokumentacji raczej nie uÅ›wiadczysz. WiÄ™c te zdarzenia mogÄ… byÄ‡ takÄ… formÄ… teÅ¼ dokumentacji historycznej jak nasze zrozumienie i nasza domena siÄ™ zmieniaÅ‚a. Czy to jest warte czy nie? Trudno mi powiedzieÄ‡. To zaleÅ¼y od konkretnego projektu, ale niektÃ³rzy wÅ‚aÅ›nie twierdzÄ…, Å¼e nie, w greenfieldach nigdy event sourcing. Ja moÅ¼e teÅ¼ podeÅ›lÄ™ Wam... Jest taki fajny artykuÅ‚ Aleksieja Zimarewa. MoglibyÅ›my dodaÄ‡ do materiaÅ‚Ã³w wÅ‚aÅ›nie po odcinku gdzie on fajnie to wÅ‚aÅ›nie w ten sposÃ³b opisuje.

**Oskar Dudycz**: Z tym, Å¼e jeszcze tylko jednÄ… rzecz i ja bym raczej zalecaÅ‚, Å¼ebyÅ›my siÄ™ nie rzucali na kluczowÄ… domenÄ™ z event sourcingiem, bo tam stopieÅ„ skomplikowania jest tak duÅ¼y, Å¼e tak jak powiedziaÅ‚eÅ›... Zanim zrozumiemy tÄ… domenÄ™ to duÅ¼o popeÅ‚nimy bÅ‚Ä™dÃ³w. WiÄ™c jeÅ¼eli kompletnie nie znamy event sourcingu, nikt w naszym zespole nie zna. Zacznijmy od czegoÅ› maÅ‚ego. WdroÅ¼ymy tÄ… maÅ‚Ä… rzecz na produkcjÄ™. PopeÅ‚nijmy te bÅ‚Ä™dy na takiej sytuacji, gdzie nikt nam gÅ‚owy za to nie urwie, gdzie sami siÄ™ nie spalimy ze wstydu. Nawet jak nam siÄ™ to nie uda. CoÅ› co moglibyÅ›my spokojnie wyrzuciÄ‡ do Å›mietnika i nikt by nam tutaj problemu z tego nie robiÅ‚.

**Szymon Warda**: Mi siÄ™ super podobaÅ‚a jedna rzecz, co powiedziaÅ‚eÅ›, Å¼e uÅ¼ywaÄ‡ tam gdzie event sourcing byÅ‚by naszÄ… przewagÄ… konkurencyjnÄ…. I to jest bardzo dobre podsumowanie de facto. Czyli nie, Å¼e fajnie byÅ‚oby uÅ¼yÄ‡, tylko Å¼e jeÅ¼eli uÅ¼yjemy, to bÄ™dÄ… super, super zyski z tego na poziomie nawet biznesowym. Tak naprawdÄ™. To bardzo, bardzo dobre podsumowanie.

**Åukasz KaÅ‚uÅ¼ny**: Dobra, Oskar, bÄ™dziemy powoli koÅ„czyÄ‡ i gdybyÅ› powiedziaÅ‚ o trzech takich rzeczach najwaÅ¼niejszych, ktÃ³rych chciaÅ‚byÅ›, Å¼eby ludzie z tej rozmowy zapamiÄ™tali, zapamiÄ™tali o event sourcingu.

**Oskar Dudycz**: To pierwsza rzecz, zmarnuje od razu, to event sourcing na Kafce. Nie, nie rÃ³bcie tego. UÅ¼yjcie narzÄ™dzi, ktÃ³re sÄ… do tego dedykowane. Druga sprawa, pobawcie siÄ™ trochÄ™ event sourcingiem. Niekoniecznie od razu na produkcji, bo event sourcing jest wzorcem, ktÃ³ry moÅ¼e daÄ‡ przewagi tam... JeÅ¼eli macie procesy, ktÃ³re sÄ… nieco bardziej skomplikowane, gdy potrzebujecie wiedzieÄ‡ co siÄ™ wydarzyÅ‚o i mieÄ‡ takÄ… lepszÄ… diagnostykÄ™ czy wkÅ‚ad pod analitykÄ™. No i uwaÅ¼am, Å¼e wÅ‚aÅ›nie to nie jest tak, Å¼e musimy go uÅ¼ywaÄ‡ wszÄ™dzie, ale warto go mieÄ‡ w swoim przyborniku, bo im wiÄ™cej mamy rzeczy wÅ‚aÅ›nie w przyborniku takim programistycznym, liderskim, Patoarchitekckim, no to tym lepiej, tym lepsze bÄ™dziemy mogli podjÄ…Ä‡ decyzje, gdy nawet... JeÅ¼eli teraz tego w naszym projekcie nie potrzebujemy, no to jeÅ¼eli siÄ™ zdarzy taki moment, to chociaÅ¼ bÄ™dziemy w stanie wiedzieÄ‡ i bÄ™dziemy w stanie to wykorzystaÄ‡. Chyba jeszcze mi zostaÅ‚a jedna rzecz - no to przede wszystkim event sourcing teÅ¼ jest czymÅ›, co moÅ¼e jest ciÄ…gle niszÄ…, ale mocno siÄ™ wedÅ‚ug mnie rozwija. Nawet InfoQ w swoim raporcie to potwierdza. Nieco zbyt optymistycznym, ale jest to teÅ¼ coÅ›, co faktycznie w Å›wiecie tym takim rozproszonym, w Å›wiecie, gdy storage jest tani, ale informacje sÄ… bezcenne, moÅ¼e nam daÄ‡ pewne zalety i warto chociaÅ¼ sprÃ³bowaÄ‡, bo nie jest taki straszny, jak go malujÄ….

**Szymon Warda**: No dobrze, to w takim razie powoli zbieramy siÄ™. To powiedz gdzie szukaÄ‡, gdzie szukaÄ‡ materiaÅ‚Ã³w? Jak, co robiÄ‡, Å¼eby wiedzieÄ‡ wiÄ™cej?

**Oskar Dudycz**: ZachÄ™cam do lektury mojego bloga event-driven.io

**Szymon Warda**: ZachÄ™camy.

**Oskar Dudycz**: Staram siÄ™ tam takie piguÅ‚ki konkretne przekazywaÄ‡ jak wÅ‚aÅ›nie... Nie tylko event sourcingu, ale takie moje przemyÅ›lenia. NajwiÄ™cej jest o event sourcingu, czyli jak rozwiÄ…zywaÄ‡ konkretne problemy pragmatycznie. MyÅ›lÄ™, Å¼e warto sobie teÅ¼ na YouTubie poszukaÄ‡ choÄ‡by wiadomo, rzeczy Grega Younga. TeÅ¼ Greg pracuje nad nowÄ… ksiÄ…Å¼kÄ…, jest juÅ¼ bliski ukoÅ„czeniu. Mnie moÅ¼na teÅ¼ znaleÅºÄ‡ w Architecture Weekly. ProwadzÄ™ taki newsletter. SÄ… teÅ¼ tam webinary, gdzie czasem coÅ› o event sourcingu przekazujÄ™. A jeÅ›li chodzi ogÃ³lnie o event sourcing, to teÅ¼ na blogu eventstore.db siÄ™ sporo pojawia. Polecam z narzÄ™dzi wÅ‚aÅ›nie Marten, Event Store DB, Axon. W zaleÅ¼noÅ›ci od tego w jakiej technologii pracujemy, warto siÄ™ tym pobawiÄ‡. No i przede wszystkim, no, myslÄ™, najlepiej sprÃ³bowaÄ‡ i siÄ™ przekonaÄ‡ samemu. Czy to faktycznie jest takie trudne i straszne.

**Szymon Warda**: Dobrze.

**Åukasz KaÅ‚uÅ¼ny**: To Oskar, dziÄ™kujemy za dzisiaj i podzielenie siÄ™ wiedzÄ….

**Szymon Warda**: Za bardzo praktycznÄ… rozmowÄ™.

**Oskar Dudycz**: DziÄ™kujÄ™ Wam bardzo, bardzo siÄ™ cieszÄ™. DziÄ™ki, mam odhaczony kolejny element, wystÄ…piÅ‚em w moim... Jednym z moich ulubionych podcastÃ³w, takÅ¼e cieszÄ™ siÄ™ bardzo. SÅ‚ucham kaÅ¼dy odcinek.

**Åukasz KaÅ‚uÅ¼ny**: DziÄ™ki, wzajemnie. Na razie.

**Oskar Dudycz**: DziÄ™ki.

**Åukasz KaÅ‚uÅ¼ny**: Trzymajcie siÄ™.

