---
layout: post
title: '#74 Patoarchitekci Short #27'
date: 2023-05-12 08:00:00 +0200
description: 
episode: "74"
tags: []
spreaker: 53819375
apple: patoarchitekci-short-27/id1477067604?i=1000612738192
newsletter:  |
  Patoarchitekci Short! Dzi m. in:
  - Co ma wsp贸lnego hacking, Uber i legislacja Wielkiej Brytanii?
  - Czy rzeczywicie Amazon nie radzi sobie z mikroserwisami, z serverlessem,
  - nowe regulacje odnonie opensource'u przepchnite przez Senat USA.
  
  ## Sprawd藕 czerwcowe pato-szkolenia
  
  - [Szkolenie Azure Kubernetes Service AKS Masterclass - 13.06.2023](https://dolacz.architekturaikontenery.pl/szkolenie-azure-kubernetes-service-aks-masterclass-13-06-2023)
  - [Szkolenie Kubernetes the Hard Way - 14.06.2022](https://dolacz.architekturaikontenery.pl/szkolenie-kubernetes-the-hard-way-14-06-2023)
  
  

  ## Posuchaj odcinka na 猬锔

  ★ [WWW](https://patoarchitekci.io/74/)

  ★ [Spotify](https://open.spotify.com/episode/6fON2Wrhh3y4nuIKR6agdj)

  ★ [Apple Podcasts](https://podcasts.apple.com/pl/podcast/patoarchitekci-short-27/id1477067604?i=1000612738192)

  ★ [YouTube](https://www.youtube.com/watch?v=izBVKEbic10)
---
Patoarchitekci Short! Dzi m. in:
Co ma wsp贸lnego hacking, Uber i legislacja Wielkiej Brytanii? 
Czy rzeczywicie Amazon nie radzi sobie z mikroserwisami, z serverlessem, 
oraz: nowe regulacje odnonie opensource'u przepchnite przez Senat USA.

Przegld nowoci ze wiata IT - okiem Patoarchitekt贸w! 


Linki i ciekawe znaleziska:

- [Azure Kubernetes Service (AKS) Masterclass - 13.06.2023](https://dolacz.architekturaikontenery.pl/szkolenie-azure-kubernetes-service-aks-masterclass-13-06-2023)
- [Szkolenie Kubernetes the Hard Way - 14.06.2022](https://dolacz.architekturaikontenery.pl/szkolenie-kubernetes-the-hard-way-14-06-2023)
- [Scaling up the Prime Video audio/video monitoring service and reducing costs by 90% - Prime Video Tech](https://www.primevideotech.com/video-streaming/scaling-up-the-prime-video-audio-video-monitoring-service-and-reducing-costs-by-90)
- [Monoliths are not dinosaurs  ](https://www.allthingsdistributed.com/2023/05/monoliths-are-not-dinosaurs.html)
- [Even Amazon can't make sense of serverless or microservices](https://world.hey.com/dhh/even-amazon-can-t-make-sense-of-serverless-or-microservices-59625580)
- [How to recover from microservices](https://world.hey.com/dhh/how-to-recover-from-microservices-ce3803cc)
- [GKE Autopilot is now default mode of cluster operation  ](https://cloud.google.com/blog/products/containers-kubernetes/gke-autopilot-is-now-default-mode-of-cluster-operation/)
- [Ex-Uber security chief sentenced over covering up hack](https://www.bbc.com/news/technology-65497186)
- [Senate takes action on open-source vulnerabilities in wake of 2022 Log4j attack](https://www.itbrew.com/stories/2023/04/28/senate-takes-action-on-open-source-vulnerabilities-in-wake-of-2022-log4j-attack)

### Transkrypcja

**Szymon Warda**: Cze. Suchacie Patoarchitekt贸w! Prowadz Szymon Warda 

**ukasz Kau偶ny**: i ukasz Kau偶ny. Wszystkie linki do tego odcinka znajdziecie na patoarchitekci/io/74 albo gdzie na dole w opisie na playerze, kt贸rym suchacie.

**Szymon Warda**: To zaczynamy. wie偶utka wiadomo, z niedawna, kr贸tka i treciwa, ale te偶 wydaje mi si, 偶e te偶 zmieni si... Zmieni postrzeganie r贸l w organizacjach. Zosta skazany Ex Security Chief Ubera za przykrywanie hacku. Wyrok nie jest du偶y, bo to jest 3 lata w zawiasach, ale jednak jest to wyrok skazujcy za odpowiedzialno, kt贸r peni w organizacji. I wydaje mi si, 偶e to bdzie na nasz skal tak codzienn, dziaanie to nie bdzie takie du偶e. Nie bdzie to miao du偶ego wpywu, ale jednak zmieni podejcie i zarzdzanie ryzykiem i do tego jak bdziemy podchodzili do bezpieczestwa w organizacjach do danych tak naprawd.

**ukasz Kau偶ny**: Wiesz co, mo偶e by, tylko... Zobacz, 偶e to jest troszeczk za ukrywanie i to jest ciekawe, bo jak powiedzie odpowiedzialno, powiem Ci tak - pewnie nic by si mu nie stao, albo kwota tej kary poszaby z jego OC.

**Szymon Warda**: Zgadzam si w zupenoci, 偶e to jest za ukrywanie, ale wydaje mi si, 偶e w tym momencie, bo to, 偶e hacki si zdarzaj, to bd si zdarzay, tego nie zmienimy. Bardziej bdzie wiksze robienie w gacie. W kontekcie tego nie przykrywamy hack贸w i wydaje mi si, 偶e przez ten wyrok nawet bdziemy wicej takich sytuacji widzieli. Wicej firm bdzie jednak ku temu, 偶e okay, publikujemy, po prostu nie bd bra na sieebie odpowiedzialnoci, tego, 偶e ukryjemy, to, bo mo偶e to wypyn. Wic bdziemy widzieli wicej wiadomoci o tym.

**ukasz Kau偶ny**: Tak, powiedziabym te偶 UK, je偶eli chodzi o ochron danych... Jest super i takie bardzo mocno do przodu. Wic to jest pytanie - czy to jest wyznacznik, bo zobacz, 偶e w reszcie Europy w og贸le. No wanie, po tylu latach to jest pierwszy taki du偶y kazus.

**Szymon Warda**: W zupenoci tak, tylko to gdzie si musi zacz. Pamitaj, 偶e te rzeczy zaczynaj si gdzie, potem propaguj si powoli.

**ukasz Kau偶ny**: No wic zobaczymy. Jestem ciekaw, czy po prostu OC nie bdzie podwy偶szane.

**Szymon Warda**: Mo偶liwe! Tym bardziej, 偶e jest cinienie na to, 偶eby przyjrze si w znaczcy spos贸b tym du偶ym organizacjom technicznym. No nie, w kontekcie podatk贸w... W kontekcie wanie legislacji i innych rzeczy.

**ukasz Kau偶ny**: Tak, Uber si reklamowa mimo 偶e to tylko przepieralnia rodk贸w.

**Szymon Warda**: Wtrc si dalej z drugim tematem, bo on si bardzo mocno wi偶e. Senat amerykaski - znowu gdzie to musi si zacz - mia przesuchanie odnonie pamitamy... W zeszym roku to chyba byo, odnonie tego podatnoci w Log4Ju i co si stao? 29 marca przepchnli Security Open Source Software Act. Co to robi generalnie? Robi to, 偶e po pierwsze stwierdza wa偶no open source'u, wic nie idzie to w kierunku, 偶e zabraniamy. Nie. Stwierdzamy, 偶e on jest, jest wa偶ny i bdzie u偶ywany. Potwierdza krytyczno. Zaznacza potrzeb interwencji na poziomie federalnym, czyli na poziomie caego pastwa Stan贸w Zjednoczonych. No nie? Bezpieczestwo w open sourcie. Wic to jest ciekawe.

**ukasz Kau偶ny**: Czyli de facto sponsoring kontraktor贸w i firm.

**Szymon Warda**: Nie, wanie nie, bo teraz idziemy dalej. To, co zrobili. Nadaje rol Directors of Security and Infrastructure Security Agency CISA, 偶eby prowadzi outreach. Nie wiem, jakie jest adne tumaczenie tego na polski. Czyli takie inicjatywy generalnie, kt贸re bd sigay do r贸偶nych projekt贸w i pomagao jako, wic to nie bdzie do koca szo w kierunku wanie kontraktor贸w. Wydaje mi si.

**ukasz Kau偶ny**: To jest troszeczk, wiesz co. Patrzc si na ten ekosystem to jest pytanie wiesz, bo dlaczego ja tak rzuciem, bo kto na koniec dnia, je偶eli bd podatnoci i inne rzeczy, je偶eli tak podchodz... To gdzie na koniec dnia znowu bd chcieli to ata cokolwiek czy... No nie oszukujmy si, agencje zamawiaj kogo do audyt贸w, dlatego m贸wi, 偶e kontraktorzy, firmy mog na tym zyska, kt贸re krc si wok贸 open source'u.

**Szymon Warda**: Zyskaj, ale mi si wydaje. Znaczy, bo ostatni element, kt贸ry stwierdzaj, to jest potrzeba stworzenia frameworka okrelajcego bezpieczestwo poszczeg贸lnych projekt贸w opensource'owych. I mi si wydaje, to jest ju偶 takie moje strzelanie, 偶e to p贸jdzie bardziej w kierunku tak jak za贸偶my, jak si p贸jdzie do knajpy w Nowym Jorku, to ka偶da knajpa ma w oknie przyklejon tabliczk od A do F na poziomie czystoci i to bardziej p贸jdzie w tym kierunku, 偶e bdziemy mieli projekty, bd miay po prostu certyfikacj na poziomie bezpieczestwa de facto.

**ukasz Kau偶ny**: No wiesz, no jestem ciekaw, bo CISA... Ja z ich guide'贸w te偶 korzystam czsto jako wytycznych, bo s dobre, wic to mo偶e by... Po prostu cieszy mnie, 偶e to Cisa tam bdzie robi.

**Szymon Warda**: Czyli tak, cay kierunek, w kt贸rym to idzie jest bardzo uo偶ony, mimo 偶e to robi... Senat to jest powiedzmy, ludzie starsi  tak po 70 par lat generalnie, ale nie byo to robione w kierunku paniki i raczej to idzie w dobrym kierunku. Z mojego punktu widzenia tak naprawd nie zrobilimy kroku do przodu, tylko bardziej ukadamy jak to bdzie wygldao.

**ukasz Kau偶ny**: To raczej patrzymy tak - jak dalej zrobi krok.

**Szymon Warda**: Tak dokadnie, wic mnie to cieszy. De facto. Naprawd. Dobrze. Co tam u Ciebie, ukaszu?

**ukasz Kau偶ny**: To ja zaczn od ding dong przerwy reklamowej. Je偶eli kto z Was jest zainteresowany, s 2 patoszkolenia - 13 czerwca, jednodniowy Master Class z AKSa, mocny Deep Dive w bebechy. Za to 14 czerwca jak to kto okreli szkolenie, w kt贸rym jest wicej misa ni偶 w bigosie jego teciowej, czyli Kubernetes The Hard Way. Cay dzie nauki bebech贸w Kubernetesa za to, czystego poprzez stawianie klastra z tumaczeniem, caymi wiczeniami, 偶eby postawi sobie z binarek samodzielnie Kubernetesa i zobaczy w og贸le... Skd te pewne zawioci si bior i niezrozumienia. A je偶eli de facto szukacie jakich szkole dedykowanych do Was do firmy, to z Szymonem takowe prowadzimy, wic dajcie zna. Bardzo chtnie si z Wami spotkamy.

**Szymon Warda**: A偶 bd mia link, kt贸ry podwa偶y to wszystko... Znaczy nie ch spotkania... Ale!

**ukasz Kau偶ny**: Dokadnie. Dobra, lemy a teraz przejd藕my sobie do nius贸w. Dla mnie - jedyn rzecz, kt贸r mam na dzisiaj to jest shit drama wok贸 Prime Video i ich postu na temat kawaka ich infrastruktury. W og贸le... nie wchodzc ju偶 w og贸le co on robi, bo to zupenie nie ma w tym miejscu sensu, tylko jak bardzo ludzie nie rozumiej i pr贸buj przypisywa teorie do jakiego pojedynczego przypadku architektonicznego.

**Szymon Warda**: Szukamy hot nius贸w nie tylko w polityce itd. W technologii te偶 generalnie.

**ukasz Kau偶ny**: Dokadnie. I teraz je偶eli popatrzymy na cao tutaj ukadanki, no to w Prime Video, czyli tej usudze Amazona oni robi pikny dogfooding, dogfooding czyli u偶ywaj swoich usug do budowy kolejnych. I w tym wypadku u偶yli serverlessa. U偶yli lambdy do... Lambdy i tych kawak贸w serverlessowych do budowy analizy swojego kontentu, kt贸ry tam maj. I wyszo na to, 偶e jak przysza scala to si zwalio. Wic co zrobili? Przerobili codebase tak, 偶eby polecia na EC2ki, co zreszt sami powiedzieli, 偶e scalili to do monolitycznych aplikacji, ale kod pozosta ten sam, bo by poprawnie napisany. No i pozwolio im to zej z kosztami o 90%. I to jest naprawd super takie zejcie. Ale co si potem wydarzyo, to wiele os贸b podchwycio to jakie to mikroserwisy s ze. Monolity for the win, chmura jest za.

**Szymon Warda**: I serverless jest zy, tak.

**ukasz Kau偶ny**: Tak, tak, DHH zacz od tego oczywicie g贸wnoburz postami w social mediach i na swoim blogu, kt贸re Wam wrzucilimy. I pierwsza taka rzecz, kt贸r rzuci event - Amazon Can't Make Sense of Serverless or Big Micro Services. No kurwa!

**Szymon Warda**: Znaczy, 偶eby byo wa偶ne. To jest tak samo jak odnonie rozkrcania firmy. Jak kto powiedzia, 偶e rozkrcajc firm trzeba powiedzmy budujc system, trzeba patrze na wytyczne Googla. Powiedzmy - trzeba patrze, ale pamitajmy, 偶e wytyczne Google'a s dla milion贸w u偶ytkownik贸w albo setek milion贸w u偶ytkownik贸w. Je偶eli rozkrcamy system, kt贸ry ma mie na starcie 10, setka tysicy, tysice u偶ytkownik贸w to wytyczne nie maj sensu. Tak samo Prime nie byby w tym miejscu, gdyby wczeniej nie skorzystali z serverlessa po prostu, bo serverless da im pewne mo偶liwoci odo偶enia pewnych koszt贸w ludzkich na poziom managementu tych VMek. I po prostu skalowali si - teraz maj fajny problem bo zarabiaj. Serwis jest wykorzystywany wic fajnie. Teraz zarabiajc kas, majc system dziaajcy mo偶emy zmienia. To jest fajny problem.

**ukasz Kau偶ny**: Tak, idc sobie wiesz, dalej to co powiedziae jest bardzo fajna rzecz bo CTO Amazona si wypowiedzia, odpali wpis i odpowiedzia. I jeden z takich mocnych zda, kt贸re sam podkreli - If you hire the best engineers, you should trust them to make the best decision. I oni zrobili, dowozili warto, a nie tam si skupiali na rachunku i technikaliach, tylko zbootstrapowali usug.

**Szymon Warda**: Co jest wa偶niejsze tej sytuacji? Wybrali mega elastyczny system, czyli serverlessa, w kt贸rym du偶o mog atwo zrobi, atwo si skalowa i tak dalej. Przez ten czas poznali swoj domen, dopiero jak domen znali de facto, czyli mieli t baz gdzie to dziaa i rozumieli jak to dziaa i w kt贸rym kierunku, przeszli na bardziej sztywn czyli VMki. I to ma sens, bo ju偶 znali domen, a w momencie eksploracji nie poszli za贸偶my full Kubernetes albo full VMki, bo to nie miaoby dla nich sensu, bo zmiany byyby zbyt kosztowne w tym momencie.

**ukasz Kau偶ny**: No.

**Szymon Warda**: Ludzie tej wartoci nie widz tak naprawd.

**ukasz Kau偶ny**: Wic to jest w og贸le, wiesz? Dlatego patrzc si cao i taka rzecz z caoci. Wic uwa偶am, 偶e tutaj DHH znowu ma haluny, 偶eby si popisa i porobi dramy. I wanie bardzo fajnie jest powiedziane od tego, CTO Amazona, z czym si zgadzam. Po prostu to nie jest religia. Nie ma jedynej susznej rzeczy, kt贸ra... Susznych wzorc贸w architektonicznych, kt贸re zawsze, wszdzie bd dziaay. I problem z mikroserwisami i te偶 pojmowaniem tam tego... Jak patrz, tych komentarzy... Jest taki, 偶e wszyscy zapominaj, 偶e architektura ewoluuje. Nawet mamy ju偶 teraz pojcie architektury ewolucyjnej. A druga rzecz, 偶e wszystkie techniki modelingowe powinnimy zacz od modelowania co chcemy zrobi. Bo czasami z modelowania jak nic wyjdzie nam monolit, a czasami z powodu sieczki organizacyjnej wyjd nam mikroserwisy, kt贸re rozwizuj nie problemy technologiczne, a organizacyjne.

**Szymon Warda**: Teraz co wicej, jeszcze jednej rzeczy nie dodae. To nam si mo偶e zmieni w trakcie 偶ycia de facto organizacji systemu, potrzeb, kierunku, w kt贸rym to optymalizujemy. Na starcie m贸g wyj monolit, 偶e ma sens, ale potem mo偶emy stwierdzi generalnie, 偶e jednak rozbijamy to i to, co jest te偶 super wa偶ne. Nie powinnimy chodzi w kierunku takich skrajnoci, a full monolit, a full mikroserwisy.

**ukasz Kau偶ny**: Nie.

**Szymon Warda**: To s wartoci, kt贸re... Z kt贸rych budujemy system. Cz systemu mo偶e by monolityczna, cz mo偶e by na mikroserwisach, cz mo偶e by, cz mo偶e by czym zupenie innym.

**ukasz Kau偶ny**: Suchaj, mi si zdarzao robi w projektach tak, 偶e miaem sobie monolit, ale kawaki rzeczy, kt贸re trzeba byo skalowa gdzie byy wycigane do maego mikroserwisu na serverlessa, batch贸wki. Czyli rozwizujemy jakie konkretne problemy, 偶eby dowie藕 t warto.

**Szymon Warda**: Jest fajny wpis, gdzie widziaem nie pamitam ju偶 teraz gdzie. Odnonie tego za贸偶my, jak dzieli system pod wzgldem tego np. regulacji rynkowej, kt贸re mamy. System generalnie to nie zrobimy, kt贸ry ogarnia kart, dane personalne i jeszcze jakietam pierdoy powiedzmy, nie rzucimy tego wszystko do jednego monolitu, bo w tym momencie bdziemy... Ten cay monolit bdzie w systemie regulacyjnym de facto bardzo sztywnym. Wydzielamy czci, kt贸re s zagro偶one, inaczej - kt贸re s objte regulacjami, a cz, kt贸re nie s, trzymamy osobno chocia偶by, bo inaczej tego nie ma sensu 偶adnego.

**ukasz Kau偶ny**: I urealniajc... Mamy np. ten spaprany mikroserwis user service, w kt贸rym s dane osobowe i tylko tam s przetwarzane, a je偶eli gdzie si pojawiaj to tylko w postaci IDk贸w i w module raportowym.

**Szymon Warda**: Modeli - i tego, jak dzieli system na serwisy jest bardzo du偶o. I m贸wienie, 偶e teraz nagle wracamy do monolit贸w nie ma 偶adnego sensu i jest takim tylko biciem piany, gupim. Sorry, ale potem si poznaje dowiadczonych architekt贸w, in偶ynier贸w, 偶e po prostu patrz na to tak z politowaniem i no dobra, ok. Przejdzie to!

**ukasz Kau偶ny**: Te偶 nie m贸wic. Monolit dobry, dobrze zrobiony monolit i zapocztkowany te偶 jest super spraw.

**Szymon Warda**: Jak najbardziej.

**ukasz Kau偶ny**: Wanie tu te偶 trzeba sobie popatrze, bo ka偶da z tych ma swoje wrzody na tyku. Ka偶da z tych architektur potrafi przyprawi o wrzody 偶odka przy du偶szym u偶ywaniu.

**Szymon Warda**: Znaczy to te偶 zale偶y od profilu, jakich ma si ludzi po prostu i ile si ich ma w organizacji. Wymiar贸w doboru architektury pod wzgldem strategii organizacji jest du偶o, bo to nie s... To nie s tylko rzeczy techniczne, to s te偶 rzeczy organizacyjne. Strategii rekrutacji, mas tak naprawd temat贸w. Dobrze, to ja jeszcze jeden link dorzuc odnonie Twojego... Odnonie Patoszkole.

**ukasz Kau偶ny**: No...

**Szymon Warda**: Autopilot w GKE. O co chodzi? Chodzi o to generalnie, 偶e chmura google'owa zrobia rollout autopilota. Co robi autopilot? Autopilot...

**ukasz Kau偶ny**: Raczej powiedzmy, wa偶ne, wrzucia to jako domylny tryb dziaania ich Kubernetes贸w w GKE.

**Szymon Warda**: Dokadnie tak. Co jest wa偶ne, na bazie workload'贸w sam dobiera infrastruktur i to mo偶na sobie powiedzie - o, fajnie, fajnie tak naprawd. Ale co jest wa偶ne? To jest taki ten killer element tego caego ogoszenia. Pacimy tylko za realnie zadeklarowane w specach poda u偶ycia, czyli nie pacimy za ten element kt贸ry jest nieu偶ywany je偶eli chodzi o nasze node'y. I to jest ciekawe... I moje przemylenie jest teraz takie, wydaje mi si, 偶e to jest ten sam kierunek de facto w kt贸rym idziemy - bdzie w og贸le szo... Cay nasz przemys. Powiedzmy sobie. Kiedy, lata temu generalnie Microsoft wczy domylnie co, co si nazywa auto-optymalizator kwerend i te偶 byo wielkie oburzenie, jak to? Bdziemy autooptymalizowali kwerendy na poziomie baz SQL-owych. O Bo偶e, Bo偶e, co to bdzie? I obecnie dla wikszoci system贸w to po prostu ma sens. Bdziemy po prostu mogli dziki temu wybiera w偶sze systemy, gdzie bdziemy to optymalizowali. I teraz nawizujc do szkole, to powiem tak... Tutaj si zgodzimy z tym, 偶e idea DevOpsa upada i si spalia i stracilimy generalnie...

**ukasz Kau偶ny**: Wiesz co, DevOpsa... S firmy, kt贸re... Ten model dziaa, a w innych silosy zostay po staremu z nowymi naklejkami.

**Szymon Warda**: Czyli - mo偶e powiem inaczej. Idea tego, 偶e bdziemy mieli developera, kt贸ry bdzie robi kod backendowy, kod Kubernetesowy, SQLa, w Elasticu, w Mongo jeszcze frontend napisze...

**ukasz Kau偶ny**: Upad.

**Szymon Warda**: Upad. To upado generalnie.

**ukasz Kau偶ny**: Nawet, powiedzmy sobie zespoy bez ludzi od infry nie bd komplementarne.

**Szymon Warda**: Taka, taka idea, 偶e czowiek bdzie robi wszystko. To w og贸le upado. I teraz czy warto uczy si Kubernetesa? Jest bardzo potrzebne zrozumienie go, bo nie ka偶dy bdzie musia pisa te YAMLe, ale wydaje mi si, 偶e developerzy bd musieli zrozumie co tam si dzieje, bo ci, kt贸rzy bd podchodzili do tego jak do magii - sorry, ale szybko upadn w tej sytuacji - wic to mimo, 偶e miaem negowa to powiem, 偶e tak. Dobry pomys og贸lnie.

**ukasz Kau偶ny**: Tak - no i poszerz, za dwa tygodnie bd gada akurat sesj na temat wanie pora偶ek Kubernetesowych Fuckup Stories. To bdzie wanie ten przypadek, kiedy kto potraktowa to jako midzy innymi magiczne pudeko.

**Szymon Warda**: Przewidywanie, 偶e cokolwiek jest magi, nigdy nie zadziaa i za chwil si wywali albo bdzie ze u偶ycie. Tak naprawd. Dobrze, to koczymy.

**ukasz Kau偶ny**: Zawijamy, zawijamy.

**Szymon Warda**: Trzymajcie si.

**ukasz Kau偶ny**: Na razie, hej.

