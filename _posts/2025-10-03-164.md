---
layout: post
title: '#164 Przekonaj mnie do OpenTelemetry
'
date: 2025-10-03 08:00:00 +0200
description: 
episode: "164"
tags: []
spreaker: 67989976
apple: https://podcasts.apple.com/us/podcast/przekonaj-mnie-do-opentelemetry/id1477067604?i=1000729842497&uo=4
spotify: https://open.spotify.com/episode/3PvSMmhljtN7t7nFuItbta
youtube: https://www.youtube.com/watch?v=zQKpeAwTWGg
newsletter: |
  CzeÅ›Ä‡! ğŸ‘‹ âœ¨
  
  **"Praktycznie kaÅ¼dy vendor umie konsumowaÄ‡ Open Telemetry"** - nawet **DataDog** i **New Relic** przyznajÄ…, Å¼e przegraÅ‚y tÄ™ wojnÄ™. Ale czy to znaczy, Å¼e powinieneÅ› rezygnowaÄ‡ z ich _"jednej linijki kodu"_ na rzecz konfigurowania **Prometheus + Loki + Tempo + Grafana**?
  
  Szymon twierdzi, Å¼e to **"przyszÅ‚oÅ›Ä‡ bez dwÃ³ch zdaÅ„"**, podczas gdy Åukasz pyta _"po co zmieniaÄ‡ coÅ›, co dziaÅ‚a?"_. Prawda jest brutalna: **kontrola nad kosztami** vs **wygoda pÅ‚acenia**, **przenoÅ›noÅ›Ä‡** vs **vendor lock-in**, **elastycznoÅ›Ä‡** vs _"wÅ‚Ä…cz i zapomnij"_. ğŸ¯
  
  Problem w tym, Å¼e **open source observability** to nie jest _"dla kaÅ¼dego"_. JeÅ›li twÃ³j system to _"20-letni monolit w maintenance mode"_, to moÅ¼esz przestaÄ‡ czytaÄ‡. Ale jeÅ›li masz **aktywny development** i **zespoÅ‚y DevOps**, to moÅ¼e czas przestaÄ‡ dokÅ‚adaÄ‡ siÄ™ do pensji programistÃ³w w **Dolinie Krzemowej** przez licencje APM.
  
  Czy **"future proofing"** to wystarczajÄ…cy argument do migracji? SprawdÅº, jak Szymon prÃ³buje przekonaÄ‡ Åukasza - i czy argumenty o _"standardach na nastÄ™pne 5 lat"_ brzmiÄ… przekonujÄ…co. âš ï¸
  
  
  
  
  ## Odcinek na stronie i materiaÅ‚y do niego â¬‡ï¸
  
  â¡ï¸ [OdsÅ‚uchaj na stronie](https://patoarchitekci.io/164)
  â¡ï¸ [Spotify](https://open.spotify.com/episode/3PvSMmhljtN7t7nFuItbta)
  â¡ï¸ [Apple Podcasts](https://podcasts.apple.com/us/podcast/przekonaj-mnie-do-opentelemetry/id1477067604?i=1000729842497&uo=4)
  â¡ï¸ [YouTube](https://www.youtube.com/watch?v=zQKpeAwTWGg)
  
  ## Short & Sweet
  

  ### ğŸ¤ DoÅ‚Ä…cz do Discord ğŸ‘‰ [https://discord.gg/78zPcEaP22](https://discord.gg/78zPcEaP22)
  
  ### ğŸ¢ Patron odcinka
  SÅ‚uchasz PatoarchitektÃ³w dziÄ™ki PROTOPII â€“ firmie, w ktÃ³rej Åukasz i Szymon dziaÅ‚ajÄ… na co dzieÅ„, wspierajÄ…c zespoÅ‚y IT na kaÅ¼dym etapie: od projektowania, przez wdroÅ¼enia i migracje, aÅ¼ po optymalizacjÄ™ i zabezpieczenia. Oferujemy teÅ¼ mentoring i szkolenia dostosowane do potrzeb kaÅ¼dej firmy, niezaleÅ¼nie od wielkoÅ›ci. SprawdÅº nas: [protopia.tech](https://protopia.tech/)
  
  PS. Masz pytania? Pisz Å›miaÅ‚o po drugiej stronie to nie bot na bazie GPT czy Claude ğŸ˜
---
**"Praktycznie kaÅ¼dy vendor umie konsumowaÄ‡ Open Telemetry"** - nawet **DataDog** i **New Relic** przyznajÄ…, Å¼e przegraÅ‚y tÄ™ wojnÄ™. Ale czy to znaczy, Å¼e powinieneÅ› rezygnowaÄ‡ z ich _"jednej linijki kodu"_ na rzecz konfigurowania **Prometheus + Loki + Tempo + Grafana**?

Szymon twierdzi, Å¼e to **"przyszÅ‚oÅ›Ä‡ bez dwÃ³ch zdaÅ„"**, podczas gdy Åukasz pyta _"po co zmieniaÄ‡ coÅ›, co dziaÅ‚a?"_. Prawda jest brutalna: **kontrola nad kosztami** vs **wygoda pÅ‚acenia**, **przenoÅ›noÅ›Ä‡** vs **vendor lock-in**, **elastycznoÅ›Ä‡** vs _"wÅ‚Ä…cz i zapomnij"_. ğŸ¯

Problem w tym, Å¼e **open source observability** to nie jest _"dla kaÅ¼dego"_. JeÅ›li twÃ³j system to _"20-letni monolit w maintenance mode"_, to moÅ¼esz przestaÄ‡ czytaÄ‡. Ale jeÅ›li masz **aktywny development** i **zespoÅ‚y DevOps**, to moÅ¼e czas przestaÄ‡ dokÅ‚adaÄ‡ siÄ™ do pensji programistÃ³w w **Dolinie Krzemowej** przez licencje APM.

Czy **"future proofing"** to wystarczajÄ…cy argument do migracji? SprawdÅº, jak Szymon prÃ³buje przekonaÄ‡ Åukasza - i czy argumenty o _"standardach na nastÄ™pne 5 lat"_ brzmiÄ… przekonujÄ…co. âš ï¸


SÅ‚uchasz PatoarchitektÃ³w dziÄ™ki PROTOPII â€“ firmie, w ktÃ³rej Åukasz i Szymon dziaÅ‚ajÄ… na co dzieÅ„, wspierajÄ…c zespoÅ‚y IT na kaÅ¼dym etapie: od projektowania, przez wdroÅ¼enia i migracje, aÅ¼ po optymalizacjÄ™ i zabezpieczenia. Oferujemy teÅ¼ mentoring i szkolenia dostosowane do potrzeb kaÅ¼dej firmy, niezaleÅ¼nie od wielkoÅ›ci. SprawdÅº nas: [protopia.tech](https://protopia.tech/)

Discord ğŸ‘‰ [https://discord.gg/78zPcEaP22](https://discord.gg/78zPcEaP22)

Linki i ciekawe znaleziska:

- [OpenTelemetry](https://opentelemetry.io/)

- [Grafana Tempo OSS | Distributed tracing backend](https://grafana.com/oss/tempo)

- [Application Performance Monitoring (APM) | Datadog](https://www.datadoghq.com/product/apm)

- [Enable OpenTelemetry in Application Insights - Azure Monitor](https://learn.microsoft.com/en-us/azure/azure-monitor/app/opentelemetry-enable)

- [Grafana: The open and composable observability platform](https://grafana.com/)

- [Prometheus - Monitoring system & time series database](https://prometheus.io/)

- [Grafana Loki OSS | Log aggregation system](https://grafana.com/oss/loki)

- [Documentation](https://opentelemetry.io/docs)

- [Collector](https://opentelemetry.io/docs/collector)

### Transkrypcja

**Szymon Warda**: Wczoraj dziaÅ‚aÅ‚o a dzisiaj nie dziaÅ‚a, to w tym mTmencie coÅ› siÄ™ musiaÅ‚o zmieniÄ‡. Open telemetry jest standardem, tak to trzeba juÅ¼ nazwaÄ‡ tak naprawdÄ™ i to dojrzaÅ‚ym, bo juÅ¼ wersja 1.0 wyszÅ‚a. Logi nie dziaÅ‚ajÄ…, logi, znaczy nie dziaÅ‚ajÄ…, kulawo trochÄ™ dziaÅ‚ajÄ…, ale sÄ…. SkÅ‚adnia Elastica, jeÅ¼eli chodzi o wyszukiwanie, jest prosta, Å¼e moÅ¼na postawiÄ‡ tam juniora i bÄ™dzie korzystaÅ‚ z tego dobrze. Skoro juÅ¼ robimy, integrujemy siÄ™ z aplikacjÄ…, to pchajmy te logi jawnie przez Open Telemetry Protocol. CzeÅ›Ä‡, czoÅ‚em, kluski z rosoÅ‚em. SÅ‚uchacie PatoarchitektÃ³w. ProwadzÄ… Szymon Warda...

**Åukasz KaÅ‚uÅ¼ny**: I Åukasz KaÅ‚uÅ¼ny. Wszystkie linki do tego odcinka znajdziecie na patoarchitekci.io, gdzieÅ› tu na dole, wierzymy w Was, dacie radÄ™. Dobra i dzisiaj odcinek w trochÄ™ innym stylu. Wracamy do observability i Szymon ma dziÅ› bardzo ciÄ™Å¼kie zadanie. Musi mnie przekonaÄ‡, Å¼e jest sens i czas w ogÃ³le inwestowaÄ‡ w Open Telemetry, jeÅ¼eli mÃ³wimy o observability. I sÅ‚uchaj Szymon, to skÄ…d ta rozmowa?

**Szymon Warda**: Ta rozmowa jest stÄ…d wÅ‚aÅ›ciwie, bo jak popatrzymy sobie na rynek, co siÄ™ dzieje, to mamy Open Telemetry, w ktÃ³ry siÄ™ dzieje doÅ›Ä‡ duÅ¼o. A ile razy wejdziemy do dowolnego wiÄ™kszego klienta (...), to widzimy duÅ¼ych graczy, widzimy New Relic'a, Dynatrace'a, Elastica i Datadoga, tego typu narzÄ™dzia. WiÄ™c w takim razie, skoro tak piejemy od dÅ‚uÅ¼szego czasu, bo zgodzisz siÄ™, Å¼e chwalimy Open TelemetriÄ™ od jakiegoÅ› czasu, to nie jest teÅ¼ super nic nowego na chwilÄ™ obecnÄ…, siÄ™ ustabilizowaÅ‚. To czemu dalej w ogÃ³le widzimy tych graczy? Czemu w ogÃ³le to istnieje i majÄ… siÄ™ caÅ‚kiem dobrze? Bo dochody majÄ… zacne, nazwijmy to tak delikatnie. StÄ…d ta rozmowa wÅ‚aÅ›ciwie. WiÄ™c w takim razie czy jest sens w ogÃ³le w takich duÅ¼ych instytucjach wchodziÄ‡ w Open Telemetry, wchodziÄ‡ w ten stos open sourceowy? W tym kontekÅ›cie bÄ™dziemy mÃ³wili gÅ‚Ã³wnie o stosie grafanowym, bo nie oszukujmy siÄ™, wygraÅ‚ tÄ… wojnÄ™ jeÅ¼eli chodzi o o to jak widzimy, co widzimy i tak dalej.

**Åukasz KaÅ‚uÅ¼ny**: Wiesz co, dobra, zrÃ³bmy chwilÄ™ cofniÄ™cia siÄ™, bo nie wszyscy wiedzÄ… tak naprawdÄ™ czym jest observability i czym jest Open Telemetry. To moÅ¼e zejdÅºmy pierwszÄ… rzecz Szymon, tak wracajÄ…c, znajdziecie do tego chyba 3 albo 4 odcinki, podlinkujemy je, stare na ten temat, gdzie spÄ™dziliÅ›my tam z godzinÄ™ 20, tÅ‚umaczÄ…c pewne pojÄ™cia pod spodem. Ale czym jest observability tak naprawdÄ™?

**Szymon Warda**: Czym jest observability? Observability jest takÄ… chÄ™ciÄ… tego, Å¼eby widzieÄ‡ czemu coÅ› nie dziaÅ‚a. RÃ³Å¼nica observability kontra monitoring. Monitoring to byÅ‚o, Å¼e patrzyliÅ›my na CPU, RAM i tak dalej i czy aplikacja dziaÅ‚a. Wtedy zaÅ‚Ã³Å¼my byÅ‚y takie sytuacje, Å¼e przychodzi zaÅ‚Ã³Å¼my szef do zespoÅ‚u, mÃ³wi: aplikacja mi nie dziaÅ‚a. ZespÃ³Å‚ monitorujÄ…cy patrzy, CPU jest ok, RAM jest okej, dziaÅ‚a z naszej perspektywy. Tak trochÄ™ tego nie wystarcza. Observability jest takÄ… chÄ™ciÄ… i ruchem, Å¼eby zobaczyÄ‡ co siÄ™ dzieje wewnÄ…trz tej aplikacji tak naprawdÄ™, jak ona przepÅ‚ywa po caÅ‚oÅ›ci, caÅ‚e nasze kochane mikroserwisy tudzieÅ¼ serwisy, jakkolwiek to nazwiemy i chÄ™ciÄ… zrozumienia, co siÄ™ dzieje wewnÄ…trz i zbierania sygnaÅ‚Ã³w i danych, ktÃ³re bÄ™dÄ… tÅ‚umaczyÅ‚y zachowanie naszego systemu.

**Åukasz KaÅ‚uÅ¼ny**: Ja lubiÄ™ to pojÄ™cie trochÄ™ teÅ¼ z mechaniki w ogÃ³le, takie inÅ¼ynierskie, Å¼e jesteÅ›my w stanie zmierzyÄ‡ stan systemu na podstawie wÅ‚aÅ›nie tych sygnaÅ‚Ã³w wychodzÄ…cych, wchodzÄ…cych, co siÄ™ dzieje. Dobra Szymon, a z czego, bo tam sÄ… trzy takie kluczowe skÅ‚adniki, z czego to observability siÄ™ skÅ‚ada?

**Szymon Warda**: I to idziemy od najstarszych, ktÃ³re znamy doskonale. Mamy logi, logÃ³w siÄ™ nie pozbÄ™dziemy, nie oszukujmy siÄ™. Czyli tekst, mÃ³wiÄ…c bardzo prosto. Tekst, ale teÅ¼ czÄ™sto okraszony dodatkowymi rzeczami, takimi metadanymi wÅ‚aÅ›nie, ktÃ³re powiemy, Å¼e odnoÅ›nie korelacji i tak dalej. TeÅ¼ czÄ™sto ten tekst, te logi juÅ¼ nie sÄ… prostÄ… liniÄ…, ale sÄ… teÅ¼ czÄ™sto formÄ… ustrukturyzowanÄ…. Structured Logging, juÅ¼ istnieje pojÄ™cie od dawna, weszÅ‚o, ma siÄ™ dobrze, promujemy jak najbardziej, jest ok. Idziemy dalej. Dalej mamy metryki, czyli zbiÃ³r key value moÅ¼na powiedzieÄ‡, gdzie kluczem jest nazwa metryki. Tam oczywiÅ›cie ona jest olabelowana, otagowana, jakkolwiek jÄ… nazwiemy tak naprawdÄ™. I mamy teÅ¼ wartoÅ›Ä‡. Jest to z reguÅ‚y liczba, tudzieÅ¼ jakiÅ› float tak naprawdÄ™. I to sÄ… wartoÅ›ci liczbowe, ktÃ³re sÄ… zbierane z rÃ³Å¼nych systemÃ³w, ktÃ³re mÃ³wiÄ…, jak czÄ™sto coÅ› siÄ™ dzieje, co siÄ™ dzieje i tak dalej. Czyli dajÄ… nam takie ogÃ³lne pojÄ™cie jak i co system wÅ‚aÅ›ciwie robi. I z mojej perspektywy one sÄ… super krytyczne tak naprawdÄ™, bo jeÅ¼eli patrzymy wÅ‚aÅ›nie odnoÅ›nie monitoringu observability tak naprawdÄ™, to... ZaÅ‚Ã³Å¼my, widzimy, Å¼e system nie dziaÅ‚a, to znaczy, Å¼e coÅ› siÄ™ zmieniÅ‚o z reguÅ‚y. ByÅ‚ deploy'ment, okay, to zmieniÅ‚ siÄ™ kod, to winny jest jasne. Ale jeÅ¼eli nie byÅ‚o deploy'mentu, jeÅ¼eli wczoraj dziaÅ‚aÅ‚o a dzisiaj nie dziaÅ‚a, to w tym momencie coÅ› siÄ™ musiaÅ‚o zmieniÄ‡. I wÅ‚aÅ›nie o to chodzi, Å¼eby... Wracam do tego, co Ty powiedziaÅ‚eÅ›, okreÅ›lenie, co siÄ™ dzieje wewnÄ…trz aplikacji. Czyli musimy namierzyÄ‡ to, co siÄ™ zmieniÅ‚o, bo coÅ› siÄ™ musiaÅ‚o zmieniÄ‡, albo wiÄ™cej ruchu, albo coÅ› innego. I wÅ‚aÅ›nie monitoring daje nam takÄ… szybkÄ… moÅ¼liwoÅ›Ä‡ przeczesania i porÃ³wnania co jest dzisiaj, co byÅ‚o wczoraj, co byÅ‚o tydzieÅ„ temu, Å¼eby znaleÅºÄ‡ tÄ… wÅ‚aÅ›nie anomaliÄ™, odstÄ™pstwo od tego, co dzisiaj raportowane jest inaczej. Tego w logach nie znajdziemy za bardzo.

**Åukasz KaÅ‚uÅ¼ny**: JeÅ¼eli teraz tak, pÃ³jdziemy, dobra, a czym jest samo Open... Mamy observability, czym jest Open Telemetry?

**Szymon Warda**: Åukasz, ale jeszcze o trace'ach zapomnieliÅ›my. Czyli sposÃ³b na Å›ledzenie rzeczy pomiÄ™dzy serwisami, co jest bardzo krytyczne i to jest fenomenalna rzecz. Natomiast bardziej dla developerÃ³w, mniej do monitorowania wÅ‚aÅ›nie, tak to czÄ™sto rozrÃ³Å¼niam. Ale teÅ¼ tam fajne rzeczy moÅ¼na wyciÄ…gnÄ…Ä‡. Mianowicie widzimy, jak siÄ™ zachowuje caÅ‚y flow, jak siÄ™ systemy ze sobÄ… komunikujÄ…. Super waÅ¼ne. Dobra, teraz czym jest Open Telemetry? Open Telemetry jest standardem, tak to trzeba juÅ¼ nazwaÄ‡ tak naprawdÄ™ i to dojrzaÅ‚ym, bo juÅ¼ wersja 1.0 wyszÅ‚a, wszystko jest fajnie. Jest sposobem w jaki raportujemy dane z serwisÃ³w i zarÃ³wno sposobem, jak je nazywamy, jak je labelujemy, konwencje nazewnicze, to jak sÄ… zbierane, jakimi protokoÅ‚ami siÄ™ komunikujÄ…, gdzie wÅ‚aÅ›ciwie wprowadzamy wzbogacanie tych danych ma przykÅ‚ad o labele, dodatkowe rzeczy i informacje, gdzie procesujemy. To jest zbiÃ³r bardzo duÅ¼ej iloÅ›ci takich dobrych praktyk, jeÅ¼eli chodzi wÅ‚aÅ›nie o monitorowanie observability. MÃ³wiÄ…c bardzo prosto, receptÄ… na to, jak wejÅ›Ä‡, zarÃ³wno jeÅ¼eli tworzymy jakiÅ› system, jesteÅ›my dostarczycielem jakiegoÅ› softu, czy teÅ¼ nawet jesteÅ›my dostarczycielem softu, ktÃ³ry zbiera dane o monitoringu, bo tam teÅ¼ mamy pojÄ™cie eksporterÃ³w, ktÃ³re Å‚adnie wysyÅ‚ajÄ… nasze dane, logi, telemetriÄ™ czy metryki do Grafany, do Elastica i do wszystkich innych tak naprawdÄ™.

**Åukasz KaÅ‚uÅ¼ny**: Dobra, czyli mamy sobie te trzy filary w postaci tych najprostszych logÃ³w, metryk, ktÃ³re sÄ… najbardziej wartoÅ›ciowe wbrew pozorom, jak popatrzymy.

**Szymon Warda**: I najtaÅ„sze.

**Åukasz KaÅ‚uÅ¼ny**: NajtaÅ„sze i najmniej zrozumiane. I trace'y, ktÃ³re robiÄ… efekt wow dopÃ³ki nie odpalimy na produkcji. Czemu? To moÅ¼emy pod koniec siÄ™ jeszcze poznÄ™caÄ‡. To te trzy rzeczy. Szymon, to jest to, co wypychamy z aplikacji. JakbyÅ› powiedziaÅ‚ jak wyglÄ…da ta architektura Open Telemetry, z czego ona siÄ™ skÅ‚ada? Bo tam teÅ¼ sÄ… jakieÅ› pojÄ™cia.

**Szymon Warda**: JeÅ¼eli mÃ³wimy o samej architekturze Open Telemetry, to dziaÅ‚a tak. Mamy sobie naszÄ… aplikacjÄ™. Aplikacja, i teraz bÄ™dÄ™ upraszczaÅ‚, aplikacja w jakiÅ› sposÃ³b, jeszcze nie mÃ³wimy w jaki, wypycha te dane. Tym sposobem preferowanym jest oczywiÅ›cie korzystanie z Open Telemetry Protocol, ktÃ³ry moÅ¼e iÅ›Ä‡ po gRPC, moÅ¼e sobie Å›migaÄ‡ jeszcze po http. Wiadomo, tutaj gRPC moÅ¼e siÄ™ przydaÄ‡ duÅ¼o bardziej. I teraz wypychanie moÅ¼e nastÄ™powaÄ‡ do konkretnego konsumenta, nazwijmy go tak, czyli jakiegoÅ› Elastica, czy to bÄ™dzie Loki, czy to bÄ™dzie cokolwiek innego, co konsumuje. I tak, przy maÅ‚ych systemach to bÄ™dzie dziaÅ‚aÅ‚o. Natomiast jeÅ¼eli mamy coÅ› bardziej sensownego i chcielibyÅ›my tych ÅºrÃ³deÅ‚ mieÄ‡ trochÄ™ wiÄ™cej i trochÄ™ pokombinowaÄ‡, trochÄ™ wzbogaciÄ‡, na przykÅ‚ad wysyÅ‚aÄ‡ jakieÅ› labele, przetransportowaÄ‡, zbuforowaÄ‡, zrobiÄ‡ takie sÅ‚uszne jak najbardziej przy dowolnym Å›rednim i wiÄ™kszym systemie, to po drodze wystawiamy sobie collectora. I co umie robiÄ‡ taki collector? On umie robiÄ‡ doÅ›Ä‡ sporawo, bo po pierwsze, w tym momencie wszystkie dane wysyÅ‚amy do collectora i on tam sobie umie to zbuforowaÄ‡, umie sobie wzbogaciÄ‡, umie zamieniÄ‡ na przykÅ‚ad z trace'Ã³w metryki, umie zrobiÄ‡ caÅ‚e procesowanie. Czyli aplikacje siÄ™ nie martwiÄ…, a on w jednym miejscu. Umie na przykÅ‚ad teÅ¼ scrape'owaÄ‡ niektÃ³re rzeczy. I on te rzeczy zbiera, mamy w jednym miejscu caÅ‚Ä… konfiguracjÄ™. Co wiÄ™cej, ta konfiguracja od doÅ›Ä‡ niedawna moÅ¼e teÅ¼ byÄ‡ dynamicznie podmieniana, co teÅ¼ jest bardzo fajne. I potem on moÅ¼e odpowiednie dane wysyÅ‚aÄ‡ do konkretnych konsumentÃ³w. Czyli moÅ¼emy sobie zaÅ‚Ã³Å¼my wstawiÄ‡ takiego Open Telemetry Collectora, przepiÄ…Ä‡ aplikacjÄ™ na coÅ› nowego, a dalej przez jakiÅ› czas na przykÅ‚ad raportowaÄ‡ dane do naszego starego systemu i na przykÅ‚ad czÄ™Å›Ä‡ logÃ³w wysyÅ‚aÄ‡ na przykÅ‚ad do danych archiwizacyjnych, a czÄ™Å›Ä‡ wysyÅ‚amy sobie do Elastica, czÄ™Å›Ä‡ wysyÅ‚amy sobie na przykÅ‚ad do Datadoga, czÄ™Å›Ä‡ wysyÅ‚amy sobie na przykÅ‚ad do Grafany, bo chcemy zrobiÄ‡ poka m.in., case, ktÃ³ry obecnie mamy na talerzu wÅ‚aÅ›nie. Czyli tak to wyglÄ…da z duÅ¼ej perspektywy, jeÅ¼eli chodzi o duÅ¼e klocki.

**Åukasz KaÅ‚uÅ¼ny**: Czyli idziemy sobie aplikacja do niej SDK, Collector i eksporter.

**Szymon Warda**: Nie do koÅ„ca Åukaszu. WÅ‚aÅ›nie, bo teraz wchodzimy w ten element, ktÃ³ry jest czÄ™sto pojÄ™ciem, Å¼e to SDK musi byÄ‡. A nie tylko, bo Open Telemetry jako taki ma teÅ¼ moÅ¼liwoÅ›ci totalnej zero code instrumentation. Nie dla wszystkich jÄ™zykÃ³w co prawda, mÃ³wimy tutaj dwa gÅ‚Ã³wne, gdzie to siÄ™ rozwija najlepiej. Java stoi w sumie chyba najlepiej, jeÅ¼eli chodzi o dojrzaÅ‚oÅ›Ä‡, chociaÅ¼ nie w kaÅ¼dym obszarze, Å¼e moÅ¼emy sobie odpaliÄ‡ naszÄ… aplikacjÄ™ w formie w agencie, ktÃ³ry bÄ™dzie przy zerowej zmianie kodu w naszej aplikacji zbieraÅ‚ tÄ™ telemetriÄ™, zbieraÅ‚ dane i wysyÅ‚aÅ‚ wÅ‚aÅ›nie do Open Telemetry Collectora. Czyli to nie jest tylko SDK, ale tak, SDK jest tÄ… wersjÄ… jak najbardziej zalecanÄ….

**Åukasz KaÅ‚uÅ¼ny**: Teraz powiedziaÅ‚eÅ›, Å¼e SDK jest zalecane, daje tam jakieÅ› autoinstrumentation rÃ³wnieÅ¼ z pudeÅ‚ka. Ale wrÃ³Ä‡my sobie, bo zaczÄ…Å‚eÅ› od tego, Å¼e gdzieÅ› znajdujÄ… siÄ™ ciÄ™Å¼kie, klasyczne kobyÅ‚y. I tak naprawdÄ™ jaka jest zaleta, Å¼e ja zacznÄ™ inwestowaÄ‡ teraz w Open Telemetry? Czyli mam, nie wiem, wdroÅ¼onego dajmy na to na trace'a Datadoga, moÅ¼e New Relic jak wspomniaÅ‚eÅ›, i jaka jest tak naprawdÄ™ wartoÅ›Ä‡ schodzenia z takiego SAS-owego APM-a czy on prem'owego Dynatrace'a, jak mamy na rzecz tego stosu open source? Bo ja teraz prÃ³bujÄ™ to zrozumieÄ‡ kiedy, czy to w ogÃ³le ma sens inwestowanie i dotykanie w to?

**Szymon Warda**: Wiesz co, powiem Ci tak, rok temu bym powiedziaÅ‚, Å¼e tak: a zastanÃ³wmy siÄ™ jeszcze, moÅ¼e niekoniecznie. Teraz co siÄ™ dzieje? Po pierwsze, ci duzi gracze, bo caÅ‚y standard Open Telemetry zostaÅ‚ wymyÅ›lony czÄ™Å›ciowo wÅ‚aÅ›nie po to, Å¼eby nie byÅ‚o takiej sytuacji, Å¼e na przykÅ‚ad ja jako dostawca jakiegoÅ› softu integrujÄ™ siÄ™ z jakimÅ› APM-em, dajÄ™ to klientowi, a klient ma innego APM-a i nagle jest sÅ‚abo. WiÄ™c zacznijmy od tego, Å¼e praktycznie dowolny, czy to bÄ™dzie Datadog, czy to bÄ™dzie New Relic i tak dalej, umiejÄ… konsumowaÄ‡ Open Telemetry. WiÄ™c ja piszÄ…c mojÄ… aplikacjÄ™ nie muszÄ™ w tym momencie, po pierwsze, Å‚Ä…czyÄ‡ siÄ™ z SDK konkretnego providera, mogÄ™ korzystaÄ‡ z SDK Open Telemetry. Czyli jestem przenoÅ›ny. I tu siÄ™ zgodzimy, Å¼e to ma sens. Wpinanie i Å‚Ä…czenie siÄ™ konkretnym SDK, na przykÅ‚ad Elastic'a czy kogokolwiek innego, Å›rednio ma to na chwilÄ™ obecnÄ… wartoÅ›Ä‡, niewiele tym zyskujemy. To jest ta jedna rzecz. WiÄ™c tu rozwÃ³j aplikacji spoko. Problem jest drugi, problem jest faktycznie autoinstrumentacji. Bo o ile mÃ³wimy, Å¼e tak, Open Telemetry ma autoinstrumentacjÄ™, to czy ona jest tak samo dojrzaÅ‚a? Nie, nie bÄ™dziemy tu kitowali, Å¼e jest super. Rzecz, ktÃ³rej nie ma za bardzo tak naprawdÄ™ i nie jest tak bardzo rozwiniÄ™ta, to jest miÄ™dzy innymi profiling taki typowy. To co widzimy w Application Insights i tak dalej, w kaÅ¼dym praktycznie, Å¼e widzimy sobie, Å¼e klikamy profile i widzimy wszystkie przejÅ›cia, wszystkie wywoÅ‚ania i tak dalej, i tak dalej, i tak dalej. Taki bardzo dokÅ‚adny wglÄ…d w to, co siÄ™ dzieje w aplikacji. Czy tego potrzebujemy zawsze? Nie. Czy powinniÅ›my mieÄ‡ caÅ‚y czas wÅ‚Ä…czone? TeÅ¼ absolutnie nie. Czy przydaje siÄ™ raz na jakiÅ› czas, kiedy jest wywaÅ‚ na produkcji albo nie wiemy, co siÄ™ dzieje? Tak, przydaje siÄ™ bez dwÃ³ch zdaÅ„. WiÄ™c tutaj trzeba byÄ‡ Å›wiadomym. PytaÅ‚eÅ› siÄ™ w takim razie, czemu warto inwestowaÄ‡ w Open Telemetry?

**Åukasz KaÅ‚uÅ¼ny**: No wÅ‚aÅ›nie.

**Szymon Warda**: Tak. Dlatego, Å¼e to jest przyszÅ‚oÅ›Ä‡. Bez dwÃ³ch zdaÅ„ caÅ‚y rynek idzie w tym kierunku. To jest pierwsza rzecz. Druga rzecz, to jest ta dyskusyjna, jak do tego podejÅ›Ä‡ i jak to policzyÄ‡. A wiemy, Å¼e ksiÄ™gowoÅ›Ä‡ jest bardzo, bardzo kreatywna. Tak, to jest to, Å¼e znamy, sÅ‚yszeliÅ›my, widzieliÅ›my jakie sÄ… cenniki duÅ¼ych AP-Ã³w, czyli Application Performance MonitorÃ³w. To nie sÄ… maÅ‚e koszty. One sÄ… liczone od kilku rzeczy. Albo od danych wchodzÄ…cych do nich, albo od CPU, od RAM-u, od hostÃ³w, tego typu rzeczy. WiÄ™c jeÅ¼eli mamy trochÄ™ instancji, mamy Å›rodowisko, jakieÅ› performance testowe, developerskie, testowe, to czÄ™sto widzimy takÄ… opcjÄ™, Å¼e one tam nie sÄ… te rzeczy wÅ‚Ä…czone, typu APM-y, bo jednak oszczÄ™dzamy koszty, a te koszty z reguÅ‚y sÄ… duÅ¼e. KorzystajÄ…c z tego, gdzie trzymanie tego samemu nas to ratuje? OczywiÅ›cie pÅ‚acimy za dane, pÅ‚acimy za ludzi, pÅ‚acimy za bardzo wiele rzeczy, ale moÅ¼emy te dane usuwaÄ‡, moÅ¼emy pewnymi danymi w inny sposÃ³b zarzÄ…dzaÄ‡, wiÄ™c staje siÄ™ to bardziej elastyczne i ta kontrola nad tymi kosztami staje siÄ™ po prostu lepsza.b Inna bajka, narzÄ™dzia, mojej zdanie jest takie, narzÄ™dzia typu Dynatrace, New Relic, to sÄ… bardzo fajne narzÄ™dzia ogÃ³lne. To nie sÄ… narzÄ™dzia, na bazie ktÃ³rych zbudujesz taki dobry zespÃ³Å‚ do monitorowania, do utrzymania i taki szeroki. Co wiÄ™cej, sÄ… to narzÄ™dzia, ktÃ³rych maÅ‚a jest znajomoÅ›Ä‡ rynkowa. To jednak jak ktoÅ› zna jedno, to potem przechodzi, to musi siÄ™ od nowa uczyÄ‡. A daj mi dowolnego SRE, gwarantujÄ™ Ci, Å¼e zna GrafanÄ™, gwarantujÄ™ Ci, Å¼e zna te high level'owe narzÄ™dzia, bÄ™dzie przynajmniej miaÅ‚ znajomoÅ›Ä‡, kiedyÅ› uÅ¼ywaÅ‚ Alert Manager'a od Prometheus'za. To sÄ… juÅ¼ po prostu standardy rynkowe. Co teÅ¼ widzimy u dostawcÃ³w chmurowych, przechodzÄ… na przykÅ‚ad na Prometheus'za.

**Åukasz KaÅ‚uÅ¼ny**: Tak, Prometheus, Grafana siÄ™ pojawia coraz czÄ™Å›ciej jako manage.

**Szymon Warda**: DokÅ‚adnie tak. Po prostu wygraÅ‚o tÄ… walkÄ™.

**Åukasz KaÅ‚uÅ¼ny**: SÅ‚uchaj, popatrzymy, dobra, bo jedna rzecz, ktÃ³ra mnie nadal... Popatrzymy, wezmÄ™ sobie takiego Dynatrace'a, Datadoga, wepchnÄ™ go w coÅ›, co jest w trybie maintenance. To dziaÅ‚a i monitoruje.

**Szymon Warda**: Zgadza siÄ™, dziaÅ‚a i monitoruje.

**Åukasz KaÅ‚uÅ¼ny**: No wÅ‚aÅ›nie. I teraz jaki jest sens tak naprawdÄ™ przesiadania siÄ™ na Open Telemetry? W ktÃ³rym momencie?

**Szymon Warda**: Åukasz, to taki sam... Sens jest taki, Å¼e dziaÅ‚a i monitoruje. Tak, tylko pomyÅ›lmy o tym, to samo moÅ¼esz zrobiÄ‡, dziaÅ‚a i monitoruje w ramach Open Telemetry, ta autoinstrumentacja jest coraz bliÅ¼ej, Å¼eby innÄ… rzecz wykluczyÄ‡. RÃ³Å¼ni providerzy typu Dynatrace, New Relic i tak dalej, oni majÄ… na przykÅ‚ad dodatkowe wartoÅ›ci typu, Å¼e zarzÄ…dzajÄ… security, trochÄ™ jeszcze inne rzeczy, tak bardziej do tego podchodzÄ… holistycznie. Czyli mamy jedno narzÄ™dzie, ktÃ³re moÅ¼emy daÄ‡ zespoÅ‚owi, ktÃ³ry niewiele czasami wie i bÄ™dÄ… na przykÅ‚ad mieli alerty trochÄ™ mÄ…drzejsze, trochÄ™ lepszÄ… komunikacjÄ™, trochÄ™ mÄ…drzejsze wykrywanie, co tam siÄ™ popsuÅ‚o i tak dalej. To tutaj w ogÃ³le nie wchodzimy. Open Telemetry jest do do aplikacji naszego systemu, takie goÅ‚e, czyli logi, metryki, trace'y. Dobra, pytasz siÄ™ w takim razie: moÅ¼esz wÅ‚Ä…czyÄ‡? MoÅ¼esz. Tylko jakoÅ›Ä‡ tego co bÄ™dziesz miaÅ‚ bÄ™dzie taka, doskonale wiesz jaka bÄ™dzie. Nie bÄ™dzie najlepsza. Czyli patrzysz, prÃ³bujesz wywnioskowaÄ‡ dane biznesowe, ktÃ³re realnie CiÄ™ interesujÄ… na bazie nazw kontrolerÃ³w, na bazie tego co tam ten nasz agent, ktÃ³ry siÄ™ podÅ‚Ä…czyÅ‚, prÃ³buje wykoncypowaÄ‡. JakoÅ›Ä‡ tego wÄ…tpliwa. WiÄ™c Å¼eby jÄ… poprawiÄ‡ realnie i tak bÄ™dziesz musiaÅ‚ jakieÅ› zmiany w kodzie zrobiÄ‡, Å¼eby mieÄ‡ lepszÄ… widocznoÅ›Ä‡ i tak dalej, Å¼eby stworzyÄ‡ te wszystkie linie, warstwy, generalnie odpowiedzi i jak zespoÅ‚y reagujÄ…. BÄ™dziesz to musiaÅ‚ zrobiÄ‡. WiÄ™c teraz moja opcja, skoro i tak musisz to w pewien sposÃ³b zrobiÄ‡, skoro koszt integracji, koszt na przykÅ‚ad przekazywania trace'Ã³w, Å›ledzenia, wywoÅ‚aÅ„ http, wywoÅ‚aÅ„ do baz danych, dla wiÄ™kszoÅ›ci jÄ™zykÃ³w to albo jest wspierane w bibliotekach natywnych do komunikacji, to mamy przy Javie, mamy przy .Necie. Przy Node'zie tam trochÄ™ to idzie...

**Åukasz KaÅ‚uÅ¼ny**: No wÅ‚aÅ›nie miaÅ‚em Ciebie zapytaÄ‡ jak jest, bo sÄ… dwie rzeczy, ktÃ³re widzimy po prostu z pudeÅ‚ka, ktÃ³re siÄ™ zaczynajÄ… pojawiaÄ‡ tam, to distributed tracing niskim kosztem od strony takich gotowcÃ³w. I druga rzecz pokazanie sobie drzewa zaleÅ¼noÅ›ci w Å‚adny sposÃ³b. Do tego stopnia, Å¼e jak mamy popularniejszych jÄ™zykÃ³w i ORM-Ã³w, to zobaczymy sobie querki, ktÃ³re sÄ… na bazie danych puszczane w danej transakcji.

**Szymon Warda**: No dobra, to przejdÅºmy jak to wyglÄ…da, bo to jest bardzo waÅ¼ne. Po pierwsze tak, jeÅ¼eli wykorzystasz autoinstrumentacje, Open Telemetry, tÄ… ktÃ³ra jest wbudowana w Jave i .Neta, to to dziaÅ‚a. Czy jest idealne? Nie. My dalej bÄ™dziemy, ja bÄ™dÄ™ dalej zachÄ™caÅ‚ do tego, Å¼eby jednak zrobiÄ‡ przez SDK, czyli jednak to z aplikacji mieÄ‡. Jak to wyglÄ…da? Realnie jest to konfiguracja, dodanie kilku bibliotek i skonfigurowanie, Å¼e tak, chcÄ™ SQL-e. Tak, korzystam z NHibernate'a czy Hibernate'a czy Entity Frameworka i wpiÄ™cie siÄ™ w ORM-y, wpinasz siÄ™ i dziaÅ‚a z pudeÅ‚ka, masz SQL-e. To jest koniec Twojej roboty. Po prostu jest. Idziemy dalej, jak wsparcie wyglÄ…da. Dla http klientÃ³w Java, .Net dziaÅ‚a. Dla wszystkich gRPC? DziaÅ‚a, nie ma problemu. Wsparcie przez Springa? Czyli nie oszukujmy siÄ™, wiÄ™kszoÅ›Ä‡ aplikacji java'owych. Wsparcie dla klientÃ³w do Kafki. Wsparcie dla klientÃ³w do Rabbita. Wsparcie dla zaÅ‚Ã³Å¼my caÅ‚y Azure SDK, teÅ¼ jest obÅ‚oÅ¼ony telemetriÄ…. Mass Transit, czyli wÅ‚aÅ›nie rabbitowy, to wszystko generalnie dziaÅ‚a Ci z pudeÅ‚ka. Idziemy teraz trochÄ™ dalej, bo to nie jest tak bardzo rÃ³Å¼owo. Teraz tak, mamy Node'a, kolejny popularny jÄ™zyk. Tam czy mamy wersjÄ™ agentowÄ…? Taka nie do koÅ„ca, bo tam wpinamy siÄ™ w ten sposÃ³b, Å¼e dodajemy, odpalamy jak agent, ale on po prostu podmienia niektÃ³re wywoÅ‚ania i robi takie proxiaki na wywoÅ‚ania, bo Node jest bardziej dynamiczny, ale teÅ¼ mamy formÄ™ autoinstrumentacji. Teraz dalej, jeÅ¼eli chodzi o dojrzaÅ‚oÅ›Ä‡ wywoÅ‚aÅ„, masz do Expressa, masz do GraphQL, gRPC, MySQL, Mongo, Reddisa, Kafki, masz biblioteki, ktÃ³re wspierajÄ… caÅ‚Ä… telemetriÄ™. Python podobnie, teÅ¼ ma podobnÄ… autoinstrumentacjÄ™. Nie jest tak stabilna jak pozostaÅ‚e, ale mimo wszystko... Nie jest tak dojrzaÅ‚a, moÅ¼e tak. Dobra, dalej idziemy. Wsparcie dla Flaska, Django, Fast API, gRPC, SQL Alchemy i tak dalej. Åšmiga. I teraz wchodzimy z dojrzaÅ‚oÅ›ciÄ…. Gorzej Rust. Go - Å›rednio, tam nie mamy autoinstrumentacji.

**Åukasz KaÅ‚uÅ¼ny**: Dobra, ja z Go zostawiÄ™ tutaj w tym, bo byÅ‚y gdzieÅ› wylewane wiadra pomyj na temat implementacji Open Telemetry w Go, wiÄ™c to zostawiÄ™.

**Szymon Warda**: Dlatego mÃ³wiÄ™, to jest tutaj, tu jest Å›rednio, w Rust'cie teÅ¼ jest Å›rednio.

**Åukasz KaÅ‚uÅ¼ny**: Gdzie wydawaÅ‚o siÄ™ powinno byÄ‡ rock solid. Dobra.

**Szymon Warda**: MoÅ¼e do sterownikÃ³w nie potrzebujesz mieÄ‡ Open Telemetry. To jest Å¼art oczywiÅ›cie.

**Åukasz KaÅ‚uÅ¼ny**: Dobra, teraz powiedziaÅ‚eÅ› sobie o tych rzeczach. Okej, czyli distributed, tracing i inne takie rzeczy dostajemy, wypychamy. Tylko caÅ‚oÅ›Ä‡ i tak wymaga jakiejÅ› tam, tak jak z logami, jakiejÅ› naszej pracy w tym kodzie.

**Szymon Warda**: Wiesz co, tak. PrzykÅ‚ad, ktÃ³ry dam Ci, anegdotÄ™ z Å¼ycia wziÄ™tÄ…, to jest na przykÅ‚ad mÃ³wimy sobie o tym, Å¼e idziemy scenariuszem, Å¼e nie potrzebujemy. MieliÅ›my ostatnio takÄ… sytuacjÄ™, Å¼e klient zainstalowaÅ‚ agenta dynatrace'owego w klastrze i nagle aplikacja przestaÅ‚a dziaÅ‚aÄ‡. Czemu? OkazaÅ‚o siÄ™, Å¼e klient dynatrace'owy, Å¼eby robiÄ‡ tracing dla wiadomoÅ›ci, bo to jest takie trochÄ™ trudniejsze po kafce, wstrzykiwaÅ‚ w headery swoje swoje trace ID. I okazaÅ‚o siÄ™, Å¼e aplikacja wykorzystuje headery i siÄ™ zaczyna wywalaÄ‡ na twarz. WiÄ™c niestety to jest taka opcja, Å¼e jak mamy jakÄ…kolwiek magiÄ™, to ta magia moÅ¼e nas doÅ›Ä‡ mocno ugryÅºÄ‡ w tyÅ‚ek, mÃ³wiÄ…c bardzo prosto i siÄ™ wywaliÄ‡. WiÄ™c prÄ™dzej czy pÃ³Åºniej bÄ™dziemy zmuszeni, powinniÅ›my wÅ‚aÅ›nie przekazywaÄ‡ te rzeczy, wpiÄ…Ä‡ siÄ™ mimo wszystko jednak rÄ™cznie. A uÅ‚atwia to, Å¼e wiÄ™kszoÅ›Ä‡ narzÄ™dzi umie to zrobiÄ‡ bez wiÄ™kszego problemu juÅ¼ na chwilÄ™ obecnÄ….

**Åukasz KaÅ‚uÅ¼ny**: Dobra, powiedzieliÅ›my sobie mamy narzÄ™dzia, powiedziane wpinanie tego. Okej, zaczynamy to wypychaÄ‡ z aplikacji. Czyli aplikacja zaczyna to wypychaÄ‡. Tak naprawdÄ™ co dalej po tym, czyli gdzie to wypychamy? Bo tak jak powiedziaÅ‚eÅ›, Open Telemetry dziaÅ‚a w trybie pushowania gÅ‚Ã³wnie. To gdzie to wypycha?

**Szymon Warda**: Zanim tam pÃ³jdziemy, bo jeszcze jednego obszaru nie dotknÄ™liÅ›my - przeglÄ…darki.

**Åukasz KaÅ‚uÅ¼ny**: Ok, bo APM-y ok, faktycznie APM-y dajÄ… nam czÄ™sto plugin frontendowy.

**Szymon Warda**: Plugin frontendowy, jednÄ… liniÄ™ do wÅ‚Ä…czamy i wszystko jest wysyÅ‚ane i dziaÅ‚a.

**Åukasz KaÅ‚uÅ¼ny**: Tak mÃ³wi teoria.

**Szymon Warda**: Ale lepiej lub gorzej dziaÅ‚a. W sensie mamy tracing od strony przeglÄ…darki do tego, co siÄ™ dzieje na naszym backendzie. Przez jakiÅ› czas, dÅ‚uÅ¼szy czas nie byÅ‚o tego po stronie Open Telemetry. To juÅ¼ jest, co nie wiem czemu nie obiÅ‚o siÄ™ wiÄ™kszÄ… wrzawÄ…, Å¼e tak powiem. Co wiÄ™cej, to moÅ¼emy zrobiÄ‡ taki myk, Å¼e bÄ™dziemy te dane telemetryczne raportowali do naszego endpointu pod naszÄ… domenÄ…. WiÄ™c w tym momencie jest mniejsza szansa, Å¼e telemetria nasza bÄ™dzie blokowana przez wszystkie adblockery i tak dalej, jako elementy Å›ledzÄ…ce.

**Åukasz KaÅ‚uÅ¼ny**: Ok.

**Szymon Warda**: Co przyznasz, Å¼e jest duÅ¼Ä… wartoÅ›ciÄ….

**Åukasz KaÅ‚uÅ¼ny**: Tak, moÅ¼na przeÅ›ledziÄ‡ transakcje przy bugach od frontendu zazwyczaj, ktÃ³rego teraz mamy do koÅ„ca. Tak, to ma swojÄ… wartoÅ›Ä‡, o tak, to jest taka rzecz, ktÃ³ra jest, o ktÃ³rej faktycznie zapomniaÅ‚em, Å¼e to nawet weszÅ‚o, a z czego zdarza nam siÄ™ w Application Insights bardzo czÄ™sto korzystaÄ‡.

**Szymon Warda**: Bo dziaÅ‚a bardzo dobrze i teÅ¼ ta integracja jest, no nie jest tak super dojrzaÅ‚a, jednak jest i dziaÅ‚a dobrze. Taka czwÃ³rka z plusem spokojnie moÅ¼emy powiedzieÄ‡. Logi nie dziaÅ‚ajÄ…, logi tam trochÄ™... Znaczy nie dziaÅ‚ajÄ…, kulawo trochÄ™ dziaÅ‚ajÄ…, ale sÄ…, wiÄ™c tracing mamy. Dobrze, mÃ³wiÅ‚eÅ› teraz odnoÅ›nie, pytanie byÅ‚o: gdzie te logi sÄ… wysyÅ‚ane?

**Åukasz KaÅ‚uÅ¼ny**: Tak i jak to dziaÅ‚a dalej?

**Szymon Warda**: Tu idziemy po kolei, od najprostszych rzeczy. Metryki idÄ… do Prometheus'za. Chyba nie musimy narzekaÄ‡. Albo do Prometheus'za, albo do czegoÅ› prometheus'zo podobnego, bo tego trochÄ™ jest. Jest to standard rynkowy, wygraÅ‚o, wszyscy korzystajÄ…, wiemy jak korzystaÄ‡, ma fajny jÄ™zyk do querowania, ma caÅ‚kiem okej system do alertÃ³w, nie moÅ¼emy mieÄ‡ wiÄ™kszych zarzutÃ³w. Powiem nawet wiÄ™cej, jeÅ¼eli chodzi o metryki, to Prometheus jest duÅ¼o przyjemniejszy niÅ¼ dostawcy duÅ¼ych APM-Ã³w. Takie moje zdanie. Dobrze, idziemy sobie dalej. Logi teraz rzuÄ‡my. No i tu trzeba byÄ‡ szczerym tak naprawdÄ™. JeÅ¼eli chodzi o logi, jeÅ¼eli chodzi o duÅ¼e systemy typu wÅ‚aÅ›nie Loki, to oddajemy UX za to, Å¼e to jest taÅ„sze po prostu mÃ³wiÄ…c bardzo prosto. Wykorzystanie i skÅ‚adnia Elastica, jeÅ¼eli chodzi o wyszukiwanie, jest proste, Å¼e moÅ¼na postawiÄ‡ tam juniora i bÄ™dzie korzystaÅ‚ z tego dobrze. Jak doskonale wiemy skÅ‚adnia Loki juÅ¼ nie jest taka intuicyjna i tam wykorzystywanie zÅ‚e, albo bez przeszkolenia, bez jakiejÅ› wiedzy jak to dziaÅ‚a, skoÅ„czy siÄ™ z reguÅ‚y Å›rednio, bo po prostu ubijaniem tego serwera.

**Åukasz KaÅ‚uÅ¼ny**: Ok, bo trzeba powiedzieÄ‡ teraz, bo mÃ³wisz konkretnie, bo log collectorem dla Open Telemetry nadal moÅ¼e byÄ‡ Elastic, jeÅ¼eli sobie tego Å¼yczymy.

**Szymon Warda**: OczywiÅ›cie, Å¼e tak.

**Åukasz KaÅ‚uÅ¼ny**: Nadal od tej strony. JeÅ¼eli popatrzymy na Lokiego, to on ma swojÄ… wadÄ™, Å¼e nie mamy caÅ‚ej replikacji, nie jest bazÄ… danych tak naprawdÄ™ w takim rozumieniu jak Elastic i nie ma full text search'a.

**Szymon Warda**: DokÅ‚adnie tak. Ma strumienie, jest duÅ¼o taÅ„szy, szybszy... Znaczy szybszy, szybszy w pewnych obszarach, ale query bÄ™dÄ… zajmowaÅ‚y dÅ‚uÅ¼ej na przykÅ‚ad. Jest z punktu widzenia osoby, ktÃ³ra wykorzystuje system jako taki, jest mniej fajny. I tu nie bÄ™dziemy kitowaÄ‡, Å¼e jest inaczej.

**Åukasz KaÅ‚uÅ¼ny**: A frontendem do wszystkiego bÄ™dzie, jak rozumiem, Grafana.

**Szymon Warda**: To jest ten duÅ¼y plus. Mamy jedno miejsce, gdzie spinamy wszystkie systemy i nie musimy mieÄ‡ wielkiej strony wiki, Å¼e logi to tu, a performance monitoring to tu, a tu mamy Prometheus'za, a tu mamy co innego, bo doskonale wiemy jakie uÅ¼yjemy.

**Åukasz KaÅ‚uÅ¼ny**: Dobra, czyli teraz tak, pytanie jest, czy w takim razie, czyli te logi z aplikacji pchamy sobie z stdout'u, z jakiegoÅ› wrapera, czy w jaki sposÃ³b wrzucamy te logi?

**Szymon Warda**: WÅ‚aÅ›nie nie, bo jeÅ¼eli mÃ³wimy o tym, Å¼ebyÅ›my pchali z stdout'u, to w tym momencie aplikacja bÄ™dzie robiÅ‚a trochÄ™ wiÄ™cej, to te logi mogÅ‚yby siÄ™ pogubiÄ‡. Nasza droga jest inna. Skoro juÅ¼ robimy, integrujemy siÄ™ z aplikacjÄ…, to pchajmy teologii jawnie przez Open Telemetry Protocol do naszego collectora, czyli do jakiegoÅ› endpointu Open Telemetry. Co wiÄ™cej, taki Elastic teÅ¼ moÅ¼e takie dane w tym formacie konsumowaÄ‡ i teÅ¼ siÄ™ nie obrazi. WiÄ™kszoÅ›Ä‡ vendorÃ³w przyjmie z wielkÄ… chÄ™ciÄ… Open Telemetry Protocol.

**Åukasz KaÅ‚uÅ¼ny**: Czyli po prostu zamiast stdout pushujemy je sobie dalej.

**Szymon Warda**: Tak. Przy czym tu bÄ…dÅºmy realistami, moÅ¼e byÄ‡ taka sytuacja, taka sytuacja pewnie bÄ™dzie, Å¼e jakieÅ› logi siÄ™ przez Open Telemetry Protocol nie wyÅ›lÄ…. Tak Å¼e stdout dalej trzeba obserwowaÄ‡, bo bÅ‚Ä™dy krytyczne bÄ™dÄ… siÄ™ pojawiaÅ‚y w stdout'cie.

**Åukasz KaÅ‚uÅ¼ny**: RozrÃ³Å¼niamy logi czysto aplikacyjne od takich logÃ³w technicznych, ktÃ³re powinny tam zostaÄ‡, typu poleciaÅ‚ jakiÅ› stack trace.

**Szymon Warda**: DokÅ‚adnie tak. MoÅ¼e inaczej, poleciaÅ‚ jakiÅ› auto memory exception, jakiÅ› krytyczny bÅ‚Ä…d, framework nam siÄ™ wywaliÅ‚, bÅ‚Ä…d w konfiguracji, tego typu rzeczy. Spodziewamy siÄ™, Å¼e bÄ™dzie z aplikacji, ale nie zawsze tak siÄ™ dzieje. Trzeba jednak byÄ‡ realistÄ….

**Åukasz KaÅ‚uÅ¼ny**: Przewijasz teraz temat w ogÃ³le, bo ciÄ…gle siÄ™ pojawia Prometheus, Grafana, ten stos open sourceowy. To tak naprawdÄ™ co tam jest i do czego w tym stosie opensourceowym? Bo to rozumiem, to jest dla nas caÅ‚y, Å¼e tak powiem, Grafana jest frontendem, plus caÅ‚y ich zestaw zabawek do skÅ‚adowania tych danych.

**Szymon Warda**: Dobrze, tam jest kilka zabawek faktycznie. Dobrze, Å¼e o tym powiedziaÅ‚eÅ›. Idziemy najprostszych. Mamy GrafanÄ™, czyli coÅ›, co sÅ‚uÅ¼y do wyÅ›wietlania, Å‚Ä…czenia i alertowania. Tyle. Åadne, Å‚adne wykresiki, z tego gÅ‚Ã³wnie jÄ… znamy. I teÅ¼ jest takim single point of entry, gÅ‚Ã³wnym punktem wejÅ›cia dla wszystkiego. Teraz idziemy dalej. Prometheus, ktÃ³ry nie jest grafanowy, ale Grafana teÅ¼ ma swÃ³j odpowiednik. Czyli tam trzymamy wszystkie metryki. Fajny jÄ™zyk, prosty, Å‚adnie siÄ™ skaluje, moÅ¼emy fajne rzeczy robiÄ‡. Dobra, idziemy dalej. Loki, trzymamy logi, czyli trzymamy tekst. DziaÅ‚a, umie... I bardzo ceniÄ™ Loki za to, Å¼e moÅ¼e skalowaÄ‡ siÄ™ do absurdalnych rozmiarÃ³w, absurdalnych wolumenu logÃ³w i jest doÅ›Ä‡ przyjemny jeÅ¼eli chodzi o stawianie. Ma teÅ¼ alerting na logach, ma doÅ›Ä‡ duÅ¼o rzeczy generalnie i integracja z caÅ‚ym stosem jest fenomenalna. Idziemy dalej. Wchodzimy w Tempo, czyli element do trace'Ã³w. Czyli tam trzymamy wszystkie trace'y, moÅ¼emy je wyÅ›wietlaÄ‡. Jedna waÅ¼na uwaga to jest taka, Å¼eby teÅ¼ byÄ‡, to Å‚adnie teÅ¼ Ty powiedziaÅ‚eÅ› odnoÅ›nie tego, Å¼e jest pewne rozczarowanie odnoÅ›nie trace'Ã³w, to jest to, Å¼e trace'y jako takie, Tempo obsÅ‚uguje trace'y w trybie... Nie ma raportowania, nie ma agregacji. Czyli wszystkie wyszukiwania robimy w kontekÅ›cie jednego trace'a i moÅ¼emy znaleÅºÄ‡ jeden, moÅ¼emy znaleÅºÄ‡ trace, ktÃ³ry nas interesuje, ale na przykÅ‚ad nie moÅ¼emy powiedzieÄ‡: znajdÅº mi Å›redniÄ… po wszystkich trace'ach, ktÃ³ra metoda...

**Åukasz KaÅ‚uÅ¼ny**: Czyli nie da siÄ™ zrobiÄ‡ tych Å‚adnych grafÃ³w z metrykami, ze statystykami.

**Szymon Warda**: Tak, takie rzeczy raportowe niestety nie dziaÅ‚ajÄ…. Czemu? No bo albo robimy transakcyjnie, albo robimy raportowo, sorry. Ale nie jest tak Åºle, bo Tempo zapisuje dane w parquet'cie. WiÄ™c w tym momencie te dane, ktÃ³re zapisujemy w parquet'cie moÅ¼emy przerzuciÄ‡ przez jakikolwiek stos do machine learningu, ktÃ³ry bÄ™dzie to rozumiaÅ‚ i raportowanie robiÄ‡ w tym miejscu. Nie jest to wbudowane w Tempo, sorry, ja teÅ¼ tego Å¼aÅ‚ujÄ™. Rozumiem tÄ… decyzjÄ™ jeÅ¼eli chodzi o produkt.

**Åukasz KaÅ‚uÅ¼ny**: Tak, wiesz, bo ja teraz tak, to jest wÅ‚aÅ›nie ta rzecz chyba, ktÃ³ra w APM-ach, jak popatrzymy, bo to, co mÃ³wisz jest dobre, tylko w APM-ach dajÄ… nam przyjemny view, ktÃ³ry pozwala, nawet jeÅ¼eli mamy wÅ‚Ä…czony tylko sampling, to zobaczyÄ‡ sampling z trace'Ã³w i zobaczyÄ‡ wzglÄ™dnie rzeczywiste statystyki, co, jak wyglÄ…da.

**Szymon Warda**: Tak, na przykÅ‚ad rozkÅ‚ad czasu wywoÅ‚aÅ„ do bazy danych. DziÄ™ki temu nie patrzymy na pojedynczego trace'a, nie mamy takiego wÄ…skiego widoku, Å¼e to wywoÅ‚anie zachowuje siÄ™ wolno. MoÅ¼e ok, moÅ¼e ono wykonaÅ‚o siÄ™ wolno, ale jeÅ¼eli 99% wykonuje siÄ™ w czasie szybszym znaczÄ…co, to po prostu mamy ten jeden element, ktÃ³ry odstaje. To jest bardzo waÅ¼ne.

**Åukasz KaÅ‚uÅ¼ny**: ByÅ‚ ten pech, byÅ‚ ten pech, a nie...

**Szymon Warda**: Albo byÅ‚a czkawka, albo cokolwiek innego, albo to byÅ‚o abnormalnie duÅ¼e wzglÄ™dem reszty systemu. Tak, wiÄ™c z tego takiego kontekstu, co siÄ™ w ogÃ³le dzieje, niestety nie mamy. I to jest, tu przyznajÄ™, jak najbardziej jest to element bolÄ…cy.

**Åukasz KaÅ‚uÅ¼ny**: Dobra, jeÅ¼eli teraz tak popatrzymy sobie dobra, czyli tutaj od tej strony Tempo troszeczkÄ™ odstaje aktualnie.

**Szymon Warda**: Tak, moÅ¼na to zasypaÄ‡ wÅ‚asnymi rozwiÄ…zaniami i nawet jest parÄ™ podejÅ›Ä‡, ale niestety trzeba siÄ™ trochÄ™ nagÅ‚owiÄ‡.

**Åukasz KaÅ‚uÅ¼ny**: No dobra, i teraz tak, bolÄ…czka, jeÅ¼eli popatrzymy, to jest przechowywanie danych w tych systemach, wiÄ™c jak ogÃ³lnie w monitoringu. WiÄ™c jeÅ¼eli nie masz rozwiÄ…zania SAS-owego, ktÃ³re pobiera od Ciebie stosownÄ… opÅ‚atÄ™ za to, Å¼e zdejmuje Ci to z gÅ‚owy. WiÄ™c jak tu wyglÄ…da z przechowywaniem?

**Szymon Warda**: I to jest ten element, ktÃ³ry bÅ‚yszczy i trzeba to rozbiÄ‡ trochÄ™ na dwie opcje. Po pierwsze, jeÅ¼eli w czym bÅ‚yszczy, bo skupimy siÄ™ tu gÅ‚Ã³wnie na tam, gdzie danych mamy duÅ¼o, czyli mÃ³wimy o Loki, Tempo. To w czym to bÅ‚yszczy? To jest to, Å¼e faktycznie jest to system pomyÅ›lany na to, Å¼e przychodzi duÅ¼e iloÅ›ci danych. Jak to siÄ™ dzieje? Dzieje siÄ™ przede wszystkim to, Å¼e dane sÄ… Å‚adnie dzielone, dane sÄ… zipowane, dane sÄ… przechowywane na gÅ‚Ã³wnie storage'u blobowym. Czy to bÄ™dzie Azure Blob Storage, czy to bÄ™dzie S3, cokolwiek co ten interfejs implementuje bÄ™dzie dziaÅ‚aÅ‚o. WiÄ™c jeÅ¼eli jesteÅ›my w chmurze tak naprawdÄ™, to moÅ¼emy sobie to robiÄ‡ bardzo niskim kosztem, storage naprawdÄ™ duÅ¼ego zbioru danych. JeÅ¼eli jesteÅ›my na on premie, to oczywiÅ›cie sÄ… rozwiÄ…zania, ktÃ³re bÄ™dÄ… symulowaÅ‚y. MoÅ¼e nam to wyjÅ›Ä‡ trochÄ™ droÅ¼ej.

**Åukasz KaÅ‚uÅ¼ny**: Ewentualnie to, co podpowiadamy klientom, jak siÄ™ okazuje, czasami okazuje siÄ™, Å¼e majÄ… licencjÄ™ np. do storage'u, ktÃ³ry wystawia te S3 API.

**Szymon Warda**: Tak, dokÅ‚adnie sporo w ogÃ³le vendor'Ã³w, to co mÃ³wiliÅ›my wiele lat temu o tym wÅ‚aÅ›nie, Å¼e sporo wÅ‚aÅ›nie vendor'Ã³w takich macierzowych mÃ³wi, Å¼e okej, wystawiajÄ… w ogÃ³le wÅ‚aÅ›nie API S3, bo ono staÅ‚o siÄ™ standardem, moÅ¼na powiedzieÄ‡.

**Åukasz KaÅ‚uÅ¼ny**: Tak, dobra, to zrobiliÅ›my. To teraz kolejny element, o ktÃ³rym myÅ›lÄ™. Jak podejÅ›Ä‡ w takim razie, dobra, to powiedzmy, Å¼e przekonaÅ‚eÅ› mnie do Open Telemetry. WaÅ¼ne, to chyba to trzeba powiedzieÄ‡, tak jak ja to rozumiem, najlepszym odbiorcÄ… Open Telemetry to jest coÅ›, co ma aktywny maintenance, aktywny development.

**Szymon Warda**: DokÅ‚adnie tak.

**Åukasz KaÅ‚uÅ¼ny**: I mamy kontrolÄ™ nad kodem.

**Szymon Warda**: DokÅ‚adnie tak.

**Åukasz KaÅ‚uÅ¼ny**: Dobra. I teraz powiedzmy sobie Szymon, to co siÄ™ znajduje z naszej codziennej praktyki z klientami, to co robimy? Przychodzisz i klient powiedziaÅ‚, Å¼e: chcemy Open Telemetry. Jak wyglÄ…da proces adopcji tego?

**Szymon Warda**: Jasne. Znaczy on jest dwojaki. Bo pytanie jest proste, czy klient jest w Kubernetes'ie? Bo jeÅ¼eli klient jest w Kubernetes'ie, to nasze Å¼ycie siÄ™ znaczÄ…co uÅ‚atwia. I nie tylko dlatego, Å¼e jest w Kubernetes'ie, bo w tym momencie moÅ¼emy ustawiÄ‡ scraping podÃ³w, moÅ¼emy Å‚adnie sobie wdroÅ¼yÄ‡ collectora, Å‚adnie wdroÅ¼yÄ‡ wszystkie pozostaÅ‚e rzeczy, czyli mamy do tego niemalÅ¼e gotowe YAML-e. W tym momencie jest Å‚atwiej. Drugi jest element, bo jeÅ¼eli klient jest w Kubernetes'ie, to znaczy, Å¼e stos, na ktÃ³rym pracuje jest relatywnie nowy. SÅ‚owo kluczowe: relatywnie nowy. Czyli nie mÃ³wimy na przykÅ‚ad o antycznych aplikacjach, ktÃ³re sÄ… rozwijane od lat dwudziestu. Zapewne produkujÄ… duÅ¼o wartoÅ›ci biznesowej. Technicznie mogÄ… byÄ‡ wyzwaniem. WiÄ™c jeÅ¼eli jest w Kubernetes'ie, prosta sprawa. JeÅ¼eli na przykÅ‚ad pracuje na VM-kach, czyli mÃ³wimy juÅ¼ trochÄ™ bÄ™dzie trudniej, to w tym momencie ok, Open Telemetry Collector moÅ¼e dalej scrapowaÄ‡ logi, moÅ¼e dalej zbieraÄ‡ dane z VM-ek, to teÅ¼ nam siÄ™ przyda w kontekÅ›cie samego Kubernetesa, Å¼eby wiedzieÄ‡ co tam jest hostowane i to wszystko dalej moÅ¼emy wysyÅ‚aÄ‡. Czyli plus, ktÃ³ry widzimy, to jest to, Å¼e idziemy od najÅ‚atwiejszych, obcinamy i budujemy caÅ‚y pipeline, gdzie nasz Collector i jego rola podstawowa jest to, Å¼eby nie mieÄ‡ tego co czÄ™sto widzimy w narzÄ™dziach do APM-u, Å¼e mamy takie warstwy jakoÅ›ci, Å¼e okej, dla tego systemu to wyglÄ…da dobrze, ale potem wchodzimy do tego systemu, to te logi wyglÄ…dajÄ… i te dane, ktÃ³re mamy, wyglÄ…dajÄ… po prostu jak coÅ› nieÅ‚adnego, Å¼e tak powiem Å‚adnie. WiÄ™c wstawiamy po kolei collectory, Å¼eby dane wzbogacaÄ‡, Å¼eby jak najbardziej zbliÅ¼aÄ‡ je do tego finalnego miejsca. Jak to wyglÄ…da, jeÅ¼eli chodzi o samo wysyÅ‚anie, czyli ten caÅ‚y proces migracji? Nie robimy wielkiego skoku hopsasa na nowy system. To robimy tak, Å¼e poniewaÅ¼ moÅ¼emy mieÄ‡ Open Telemetry Collector, pewnie bÄ™dziemy go mieli, to jest to, Å¼e wdraÅ¼amy, zaczynamy czÄ™Å›Ä‡ danych wysyÅ‚aÄ‡ do nowego celu moÅ¼na powiedzieÄ‡, pewnie do Loki, pewnie do Tempo. I w tym momencie, jak ten system napeÅ‚nimy powiedzmy danymi z dwÃ³ch, trzech miesiÄ™cy, w tym momencie moÅ¼emy robiÄ‡ Å‚adne przeskoczenie. Czemu? Å»eby nie byÅ‚o takiej rzeczy, ktÃ³rÄ… widujemy czasami, Å¼e ok, wiesz co, dane odnoÅ›nie tego, to ktÃ³re majÄ… tam powiedzmy powyÅ¼ej tygodnia to sÄ… w tym systemie, a te sÄ… w tym systemie i w tym momencie budujemy absurdalnÄ… frustracjÄ™. Co jest dalej waÅ¼ne? JeÅ¼eli chodzi o sam proces w ogÃ³le przejÅ›cia, to jest to, Å¼e muszÄ… byÄ‡ jakieÅ› szkolenia, ktÃ³re pokaÅ¼Ä…, jak siÄ™ z tego korzysta. To teÅ¼ jest w ogÃ³le czÄ™sto duÅ¼y problem dla APM-Ã³w wszelkich, Å¼e one sÄ… rzucone na poÅ¼arcie, Å¼e tak powiem, zespoÅ‚om i teraz uczcie siÄ™. No sorry, tak to nie bÄ™dzie dziaÅ‚aÅ‚o. Nie przy systemach open source'owych, ktÃ³re sÄ… trochÄ™ trudniejsze i trochÄ™ szorstkie w interakcji, Å¼eby odpowiednio pokonfigurowaÄ‡. Dalej przede wszystkim pokazujemy jakie sÄ… moÅ¼liwoÅ›ci, jakie sÄ… feature'y, bo czasami do niektÃ³rych dogrzebanie siÄ™ jest trochÄ™ problematyczne. Potem dalej co robimy? To jest konfigurowanie wszystkich dodatkowych rzeczy typu generowanie metryk z trace'Ã³w, przydaje siÄ™ szczegÃ³lnie na starcie, generowanie service grapha, generowanie poszczegÃ³lnych rzeczy, Å¼eby ten feature set byÅ‚ jak najbardziej bogaty i peÅ‚ny. I potem pokazanie, co jest teÅ¼ bardzo waÅ¼ne, jakie persony z czego bÄ™dÄ… pewnie najbardziej korzystaÅ‚y. Admini bÄ™dÄ… mieli zupeÅ‚nie inny przypadek uÅ¼ycia, Å¼e tak powiem, inny scenariusz uÅ¼ycia niÅ¼ developerzy. To bÄ™dÄ… zupeÅ‚nie inne rzeczy. I dalej idziemy. Konfiguracja retencji i dla performance testowych nie ma sensu pewnych logÃ³w trzymaÄ‡. Dzielenie ktÃ³re Å›rodowiska jak trzymamy, konfiguracja multitenancy, podzielenia widokÃ³w, dostÄ™pÃ³w i tak dalej, i tak dalej.

**Åukasz KaÅ‚uÅ¼ny**: Dobra, ile to czasu zajmuje? Bo teraz tak, powiedziaÅ‚eÅ› o tym caÅ‚ym procesie, ktÃ³ry moÅ¼e dla niektÃ³rych brzmieÄ‡ w diabÅ‚y dÅ‚ugo. WiÄ™c ile to jest takiej... Wiesz co, moÅ¼e inaczej, decydujemy siÄ™, ile to jest takiej faktycznej pracy?

**Szymon Warda**: I tu jest super nowina, bo trzeba podzieliÄ‡ tÄ™ pracÄ™ dwojako. Bo realnie, jeÅ¼eli mamy w miarÄ™ nowy stos, to pracy po stronie zespoÅ‚u developerskiego, czyli po prostu jest relatywnie niewiele. To jest 5-10 bibliotek, albo jeÅ¼eli byÅ›my bardzo chcieli, to na starcie to w ogÃ³le uÅ¼ycie podejÅ›cia agentowego. Czyli to nie jest totalna wywrotka, Å¼e nagle zatrzymujemy development na najbliÅ¼sze dwa tygodnie i wszyscy robiÄ… Open Telemetry. Nie, to tak nie dziaÅ‚a. WiÄ™c to jest duÅ¼a wartoÅ›Ä‡.

**Åukasz KaÅ‚uÅ¼ny**: Ale inaczej jest robota, bo teraz jest jedna rzecz, ale to bÄ™dzie teÅ¼ przy APM-ach, kiedy chcemy faktycznie w te trace'y, metryki dorzuciÄ‡ procesy biznesowe. To tak jak z logami, Å¼e trzeba te linijki tam wpisaÄ‡, jak rozumiem?

**Szymon Warda**: Tak. Trzeba je wpisaÄ‡, od tego nie uciekniemy. MÃ³wimy godziny per system. Jak zrobimy za jednym razem, to potem realnie wyekstrachujemy z tego jakÄ…Å› prostÄ… naszÄ… wewnÄ™trznÄ… bibliotekÄ™. ProstÄ…, ktÃ³rÄ… po prostu dodajemy do aplikacji i ona ma domyÅ›lnÄ… konfiguracjÄ™. Na samym starcie wÅ‚Ä…czmy, niech dane lecÄ…, a potem moÅ¼emy to tweekowaÄ‡ za pomocÄ… konfiguracji, za pomocÄ… centralnej naszej biblioteki, ktÃ³ra zawiera jakÄ…Å› konfiguracjÄ™ domyÅ›lnÄ…, zawiera moÅ¼liwoÅ›ci, definiuje co domyÅ›lnie wÅ‚Ä…czamy i jak wÅ‚Ä…czamy i tak dalej. I to wystarczy. I tu mÃ³wimy to jest kilka godzin per system, wiÄ™c czas jest bardzo, bardzo niewielki. Dodatkowo jeszcze moÅ¼emy zrobiÄ‡ takÄ… opcjÄ™, Å¼e wÅ‚Ä…czymy albo wyÅ‚Ä…czymy za pomocÄ… feature flagi, Å¼eby mieÄ‡ pewnoÅ›Ä‡, Å¼e wszystko jest w porzÄ…dku. Co wiÄ™cej, jest to bardzo scentralizowane, bo z reguÅ‚y to robimy na samym starcie aplikacji w jednym konkretnym miejscu. WiÄ™c teÅ¼ ryzyko eksplozji po tej zmianie jest relatywnie niewielkie. Teraz drugi koszt. Koszt, ktÃ³ry mÃ³wimy, jeÅ¼eli chodzi o samÄ… infrastrukturÄ™, caÅ‚y ten stos chodzi sobie bardzo wesoÅ‚o i przaÅ›nie i dobrze na Kubernetes'ie. WiÄ™c jeÅ¼eli dana organizacja ma jakikolwiek klaster platformowy, monitoringowy, a pewnie ma, bo powinna takie rzeczy mieÄ‡, to w tym momencie postawienie tego jest relatywnie szybkÄ… akcjÄ…. ÅÄ…czymy siÄ™ Å‚adnie, jeÅ¼eli chodzi o uprawnienia z prawdopodobnie EntrÄ…, ktÃ³rÄ… tam bÄ™dziemy mieli, albo dowolnym providerem toÅ¼samoÅ›ci. Kolejna rzecz to jest podÅ‚Ä…czenie siÄ™, jeÅ¼eli chodzi o storage, o ktÃ³rym mÃ³wiliÅ›my. W tym momencie, jeÅ¼eli znowu mamy Kubernetesa, mamy narzÄ™dzia, to jest pewnie kwestia tylko wygrzebania, ktÃ³ra usÅ‚uga daje nam S3. Natomiast jeÅ¼eli mamy chmurÄ™, jest to jeszcze prostsze, jest to prosta konfiguracja i...

**Åukasz KaÅ‚uÅ¼ny**: StwÃ³rz obiekt, tak.

**Szymon Warda**: To jest stwÃ³rz obiekt, dokÅ‚adnie, stwÃ³rz obiekt i wygeneruj klucz dostÄ™powy i dziaÅ‚a. Kropka. Co siÄ™ dalej dzieje? Dalej wchodzi trochÄ™ obszar taki bardziej skomplikowany, czyli wchodzi generalnie tweekowanie i symulowanie jak ten ruch bedzie realnie wyglÄ…daÅ‚. Bo musimy siÄ™ dostosowaÄ‡ pod to wÅ‚aÅ›nie jak, ile logÃ³w, co, gdzie siÄ™ dzieje. Bo w tym momencie wÅ‚Ä…czyliÅ›my. BÄ™dziemy musieli zerknÄ…Ä‡ na to, co siÄ™ dzieje na przykÅ‚ad w collectorze, chociaÅ¼by ile wysyÅ‚amy logÃ³w info, ile wysyÅ‚amy, jakie mamy stany do logowania i tak dalej. Ta robota, ktÃ³ra jest organizacyjna, ona bÄ™dzie musiaÅ‚a siÄ™ odbyÄ‡. Znowu, robimy to raz, z zasady i tak powinniÅ›my mieÄ‡, ustalamy... Bo zauwaÅ¼my jedno, te rzeczy byÅ‚y sÅ‚abe teÅ¼ w APM albo w innych systemach wczeÅ›niej, wiÄ™c teraz tylko przy okazji je porzÄ…dkujemy. I tu jest teÅ¼ bardzo duÅ¼a wartoÅ›Ä‡. Znowu, jak damy wÅ‚asnÄ… bibliotekÄ™ do Open Telemetry, budujemy Open Telemetry, wÅ‚asnÄ… bibliotekÄ™, to zmiana formatu logowania we wszystkich systemach staje siÄ™ relatywnie prostÄ… bajkÄ…. WiÄ™c tu ponownie dobre praktyki. I znowu, jak chcemy iÅ›Ä‡ dalej, prosta biblioteczka. Obudowujemy naszego klienta do wysyÅ‚ania, odbierania wiadomoÅ›ci, Å¼eby mieÄ‡ tracing asynchroniczny, przydaÅ‚oby siÄ™. WÅ‚Ä…czamy na naszym Ingress'ie czy gdziekolwiek, przez co przechodzi nasz ruch, wÅ‚Ä…czamy tracing, Å¼eby byÅ‚y trace'y generowane. To sÄ… z reguÅ‚y wÅ‚Ä…czenie konfiguracji pakietÃ³w w istniejÄ…ce rozwiÄ…zania. Bo pamiÄ™tajmy, nie jesteÅ›my pierwszymi, ktÃ³rzy majÄ… te problemy i ktÃ³rzy te rzeczy robiÄ…, relatywnie proste rzeczy. WiÄ™c wiele rzeczy robimy, w 3 miesiÄ…ce gÃ³ra siÄ™ wyrobimy z caÅ‚oÅ›ciÄ… rozwiÄ…zania.

**Åukasz KaÅ‚uÅ¼ny**: W zaleÅ¼noÅ›ci.

**Szymon Warda**: (...) szkolenia oczywiÅ›cie, w tym czasie sÄ… szkolenia.

**Åukasz KaÅ‚uÅ¼ny**: Tak, dobra. To teraz popatrzymy sobie, to dla kogo jest to Open Telemetry z tym stosem open sourceowym? JakbyÅ› teraz tak podsumowaÅ‚ caÅ‚oÅ›Ä‡. Okej, bo powiedzmy, Å¼e to jest rabialne w tym momencie, ale dla kogo to jest? Kto jest odbiorcÄ…? Kto z tego zyskuje wartoÅ›Ä‡?

**Szymon Warda**: WartoÅ›Ä‡ najwiÄ™ksza jest duÅ¼e organizacje, bo one mogÄ… powiedzieÄ‡ wszystkim dostawcom swojego software'u... Inaczej, jeÅ¼eli same produkujÄ… soft to jest to no brainer, po prostu leÄ‡my w tym kierunku, bo po prostu to jest przyszÅ‚oÅ›ciowe. JeÅ¼eli organizacje zamawiajÄ… soft, to danie specyfikacji, powiedzenie macie byÄ‡ zgodni jeÅ¼eli chodzi o observability, zasady Open Telemetry, jest fenomenalne, bo w tym momencie mamy jednÄ… konfiguracjÄ™ na wszystko i nie bawimy siÄ™ w wiele APM-Ã³w w wielu organizacjach. Dla super maÅ‚ych, dla maÅ‚ych firm, ktÃ³re majÄ… kilkadziesiÄ…t osÃ³b i jest to powiedzmy sobie jakiÅ› startup, nie do koÅ„ca, bo tam czasowo Å‚atwiej jest po prostu wÅ‚Ä…czyÄ‡ sobie Application Insights, wÅ‚Ä…czyÄ‡ sobie jakiegokolwiek providera chmurowego, mÃ³wiÄ™ chmurowego, bo pewnie organizacje bÄ™dÄ… w ogÃ³le siedziaÅ‚y sobie na chmurze i po prostu tam to dziaÅ‚a. Natomiast organizacje, ktÃ³re majÄ… zespoÅ‚y do monitorowania, gdzie nie tylko developerzy na Å¼ywca debugujÄ… produkcje i patrzÄ…, co siÄ™ dzieje, bo jeÅ¼eli aplikacje utrzymujÄ… 3 osoby, 5, 10 osÃ³b, ktÃ³re doskonale wiedzÄ… i to one reagujÄ…, zysk tam bÄ™dzie niewielki, bo nie ujednolicamy tego caÅ‚ego stosu. JeÅ¼eli, to co powiedziaÅ‚eÅ› teÅ¼ Ty, jeÅ¼eli mamy soft, ktÃ³ry utrzymujemy od bardzo wielu lat, rozwijamy go, nie mamy w planach inwestycji jakichkolwiek w niego, jest jakiÅ› wielki monolit - Å›rednia wartoÅ›Ä‡. Ponownie, pytanie czy tam nam duÅ¼o pomoÅ¼e jakikolwiek inny APM? TeÅ¼ wÄ…tpliwa opcja. No ale coÅ› pewnie zrobi. W sensie inwestycja czasowa w Open Telemetry moÅ¼e nie mieÄ‡ tak duÅ¼ego zwrotu. Stare technologie, jest wsparcie, ono nie jest tak dobre mimo wszystko, jeÅ¼eli na przykÅ‚ad Å›migamy sobie po prostu na VM-kach albo na jakichÅ› dziwnych hostach.

**Åukasz KaÅ‚uÅ¼ny**: Czyli tak trochÄ™ podsumowujÄ…c, pierwszÄ… takÄ… rzeczÄ… jest aktywny development, jest wyznacznikiem, Å¼e moÅ¼na siÄ™ zainteresowaÄ‡ Open Telemetry.

**Szymon Warda**: Tak.

**Åukasz KaÅ‚uÅ¼ny**: I to od tego moÅ¼na podejmowaÄ‡ resztÄ™ decyzji, czy to sprawdzaÄ‡ czy nie.

**Szymon Warda**: Druga opcja to jest to, jeÅ¼eli chcemy faktycznie budowaÄ‡ zespoÅ‚y SRA, czyli taki zamordyzm, Å¼eby ujednoliciÄ‡ baÅ‚agan, ktÃ³ry z reguÅ‚y providerzy softu dla naszej organizacji wprowadzili, bo to teÅ¼ jest bardzo, bardzo waÅ¼ny przypadek.

**Åukasz KaÅ‚uÅ¼ny**: Albo sama organizacja swojÄ… bezwÅ‚adnoÅ›ciÄ… i silosowoÅ›ciÄ… to wprowadziÅ‚a.

**Szymon Warda**: Nie chciaÅ‚em tego mÃ³wiÄ‡, chciaÅ‚em to zwaliÄ‡ na innych.

**Åukasz KaÅ‚uÅ¼ny**: Dobra i chyba tym moÅ¼na to podsumowaÄ‡. Chyba, Å¼e chciaÅ‚byÅ› coÅ› dodaÄ‡.

**Szymon Warda**: Wiesz co, to co mnie zaskakuje z Open Telemetry to jest to, Å¼e stale siÄ™ rozwija i adopcja jego jest naprawdÄ™, naprawdÄ™ szeroka. Dla developera to jest totalny no brainer, to po prostu trzeba z tego korzystaÄ‡. Dla organizacji to jest coÅ›, czemu idziemy tÄ… krzywÄ…, jeÅ¼eli zaÅ‚Ã³Å¼my chodzi o Tech Radar, to jest coÅ›, czemu trzeba juÅ¼ robiÄ‡ PoC-i, bo za chwilÄ™ stanie siÄ™ to standardem ogÃ³lnym moÅ¼na powiedzieÄ‡.

**Åukasz KaÅ‚uÅ¼ny**: Chyba jednÄ… rzecz warto sobie powiedzieÄ‡, Å¼e to bardziej Å¼yÅ‚o w Open Telemetry, Å¼yje bardziej na skraju tej czÄ™Å›ci dostawcy bibliotek, inne rzeczy i duzi Big Tech'owi vendorzy niÅ¼ koÅ„cowi uÅ¼ytkownicy, Å¼e tam teraz byÅ‚o bardzo duÅ¼o inwestycji, pracy ze strony wÅ‚aÅ›nie duÅ¼ych dostawcÃ³w, Å¼eby to dziaÅ‚aÅ‚o spÃ³jnie.

**Szymon Warda**: Tak i dziaÅ‚a spÃ³jnie. To jest to, Å¼e praktycznie teÅ¼ nie ma siÄ™ co martwiÄ‡, jeÅ¼eli chodzi o przepiÄ™cie, bo praktycznie kaÅ¼dy duÅ¼y vendor Open Telemetry przyjmie z wielkÄ… chÄ™ciÄ…. WiÄ™c dla mnie wchodÅºcie, po prostu patrzcie, nie lokujcie siÄ™ z jakimÅ› konkretnym vendorem. Open Telemetry teÅ¼ jest tÄ… warstwÄ… uniwersalnÄ…. To jest taki, nie lubimy tego, taki future proofing aplikacji na najbliÅ¼sze powiedzmy 2, 3, 4, 5 lat.

**Åukasz KaÅ‚uÅ¼ny**: Dobra, a jeÅ¼eli potrzebujecie z tym pomocy, to Szymon Wam bardzo chÄ™tnie pomoÅ¼e. Trzymajcie siÄ™.

**Szymon Warda**: Na razie. Hej!

**Åukasz KaÅ‚uÅ¼ny**: Hej!
 